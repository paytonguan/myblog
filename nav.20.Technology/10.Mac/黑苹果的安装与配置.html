<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>黑苹果的安装与配置 | Payton&#39;s blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Somewhere Leisure.">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.ff793384.css" as="style"><link rel="preload" href="/myblog/assets/js/app.a3c84fc1.js" as="script"><link rel="preload" href="/myblog/assets/js/2.fdea671f.js" as="script"><link rel="preload" href="/myblog/assets/js/11.b2785f97.js" as="script"><link rel="prefetch" href="/myblog/assets/js/10.7847a5a3.js"><link rel="prefetch" href="/myblog/assets/js/12.81ffdcd9.js"><link rel="prefetch" href="/myblog/assets/js/13.b8376775.js"><link rel="prefetch" href="/myblog/assets/js/14.21be6db8.js"><link rel="prefetch" href="/myblog/assets/js/15.e4845df9.js"><link rel="prefetch" href="/myblog/assets/js/16.26e7b236.js"><link rel="prefetch" href="/myblog/assets/js/17.3e01733a.js"><link rel="prefetch" href="/myblog/assets/js/18.cd9f5deb.js"><link rel="prefetch" href="/myblog/assets/js/19.4fc7fa6b.js"><link rel="prefetch" href="/myblog/assets/js/20.d624b5e1.js"><link rel="prefetch" href="/myblog/assets/js/21.879b982f.js"><link rel="prefetch" href="/myblog/assets/js/22.10fcb746.js"><link rel="prefetch" href="/myblog/assets/js/23.6e98a037.js"><link rel="prefetch" href="/myblog/assets/js/24.89f1d957.js"><link rel="prefetch" href="/myblog/assets/js/25.f0710c91.js"><link rel="prefetch" href="/myblog/assets/js/26.957bef02.js"><link rel="prefetch" href="/myblog/assets/js/27.df27e33f.js"><link rel="prefetch" href="/myblog/assets/js/28.e02cd141.js"><link rel="prefetch" href="/myblog/assets/js/29.6788de2d.js"><link rel="prefetch" href="/myblog/assets/js/3.e5125461.js"><link rel="prefetch" href="/myblog/assets/js/30.61ba9f3d.js"><link rel="prefetch" href="/myblog/assets/js/31.166de6f1.js"><link rel="prefetch" href="/myblog/assets/js/32.5a47fa8d.js"><link rel="prefetch" href="/myblog/assets/js/33.f9e473c5.js"><link rel="prefetch" href="/myblog/assets/js/34.0f3b4e36.js"><link rel="prefetch" href="/myblog/assets/js/35.2be1f820.js"><link rel="prefetch" href="/myblog/assets/js/36.87a9ea06.js"><link rel="prefetch" href="/myblog/assets/js/37.24a4b907.js"><link rel="prefetch" href="/myblog/assets/js/38.a0e80546.js"><link rel="prefetch" href="/myblog/assets/js/4.d37862ef.js"><link rel="prefetch" href="/myblog/assets/js/5.1cfadda0.js"><link rel="prefetch" href="/myblog/assets/js/6.73c063ed.js"><link rel="prefetch" href="/myblog/assets/js/7.b4e343ac.js"><link rel="prefetch" href="/myblog/assets/js/8.91d031eb.js"><link rel="prefetch" href="/myblog/assets/js/9.40a34877.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.ff793384.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myblog/" class="home-link router-link-active"><img src="icon.png" alt="Payton's blog" class="logo"> <span class="site-name can-hide">Payton's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/nav.10.World/" class="nav-link">
  World
</a></div><div class="nav-item"><a href="/myblog/nav.20.Technology/" class="nav-link router-link-active">
  Technology
</a></div><div class="nav-item"><a href="/myblog/nav.30.Skill/" class="nav-link">
  Skill
</a></div><div class="nav-item"><a href="/myblog/nav.40.Study/" class="nav-link">
  Study
</a></div><div class="nav-item"><a href="/myblog/nav.50.Other/" class="nav-link">
  Other
</a></div> <a href="https://github.com/paytonguan/myblog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myblog/nav.10.World/" class="nav-link">
  World
</a></div><div class="nav-item"><a href="/myblog/nav.20.Technology/" class="nav-link router-link-active">
  Technology
</a></div><div class="nav-item"><a href="/myblog/nav.30.Skill/" class="nav-link">
  Skill
</a></div><div class="nav-item"><a href="/myblog/nav.40.Study/" class="nav-link">
  Study
</a></div><div class="nav-item"><a href="/myblog/nav.50.Other/" class="nav-link">
  Other
</a></div> <a href="https://github.com/paytonguan/myblog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Mac</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/nav.20.Technology/10.Mac/Mac使用技巧总结.html" class="sidebar-link">Mac使用技巧总结</a></li><li><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html" class="active sidebar-link">黑苹果的安装与配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#记录硬件配置" class="sidebar-link">记录硬件配置</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#安装包下载" class="sidebar-link">安装包下载</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#通过链接" class="sidebar-link">通过链接</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#通过macrecovery" class="sidebar-link">通过macrecovery</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#通过gibmacos" class="sidebar-link">通过GibMacOS</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#硬盘分区" class="sidebar-link">硬盘分区</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#引导器下载" class="sidebar-link">引导器下载</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#安装盘制作" class="sidebar-link">安装盘制作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#对于从黑果小兵下载" class="sidebar-link">对于从黑果小兵下载</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#对于从macrecovery下载" class="sidebar-link">对于从macrecovery下载</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#对于从gibmacos下载" class="sidebar-link">对于从GibMacOS下载</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#bios设置" class="sidebar-link">BIOS设置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#全局设置" class="sidebar-link">全局设置</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#显卡设置" class="sidebar-link">显卡设置</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#正式安装" class="sidebar-link">正式安装</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#本地引导" class="sidebar-link">本地引导</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#clover安装" class="sidebar-link">Clover安装</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#clover配置" class="sidebar-link">Clover配置</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#进入系统" class="sidebar-link">进入系统</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#驱动修补" class="sidebar-link">驱动修补</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#显卡" class="sidebar-link">显卡</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#有线网卡" class="sidebar-link">有线网卡</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#无线网卡" class="sidebar-link">无线网卡</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#声卡" class="sidebar-link">声卡</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#键盘与鼠标" class="sidebar-link">键盘与鼠标</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#usb" class="sidebar-link">USB</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#蓝牙" class="sidebar-link">蓝牙</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#传感器" class="sidebar-link">传感器</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#电池" class="sidebar-link">电池</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#触控板" class="sidebar-link">触控板</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#touchid" class="sidebar-link">TouchID</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#smbios设置" class="sidebar-link">SMBIOS设置</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#cpu" class="sidebar-link">CPU</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#变频" class="sidebar-link">变频</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#锁屏" class="sidebar-link">锁屏</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#ssd配置" class="sidebar-link">SSD配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#开启trim" class="sidebar-link">开启TRIM</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#休眠相关" class="sidebar-link">休眠相关</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#打开" class="sidebar-link">打开</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#关闭" class="sidebar-link">关闭</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#修复休眠" class="sidebar-link">修复休眠</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#修复睡眠后摄像头失效" class="sidebar-link">修复睡眠后摄像头失效</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#系统时间调整" class="sidebar-link">系统时间调整</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#完成度检查" class="sidebar-link">完成度检查</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#变频测试" class="sidebar-link">变频测试</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#显示" class="sidebar-link">显示</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#声音" class="sidebar-link">声音</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#网络" class="sidebar-link">网络</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#usb-2" class="sidebar-link">USB</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#电池-2" class="sidebar-link">电池</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#睡眠" class="sidebar-link">睡眠</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#输入设备" class="sidebar-link">输入设备</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#固态硬盘" class="sidebar-link">固态硬盘</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#系统安装" class="sidebar-link">系统安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#安装时停在verifying-installmacosx-pkg-installesd-dmg" class="sidebar-link">安装时停在verifying installmacosx.pkg/installesd.dmg</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#需要蓝牙连接键盘连接" class="sidebar-link">需要蓝牙连接键盘连接</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#验证安装器数据时发生错误" class="sidebar-link">验证安装器数据时发生错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#提示安装资源已过期-退出安装器以重新启动电脑-然后再次尝试" class="sidebar-link">提示安装资源已过期，退出安装器以重新启动电脑，然后再次尝试</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#安装卡在第一次走条的最后两分钟很久-而后提示安装器资源损坏" class="sidebar-link">安装卡在第一次走条的最后两分钟很久，而后提示安装器资源损坏</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#安装时提示找不到安装器资源" class="sidebar-link">安装时提示找不到安装器资源</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#引导启动" class="sidebar-link">引导启动</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#clover提示invalid-signature" class="sidebar-link">Clover提示Invalid Signature...</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#clover提示x64-exception-error" class="sidebar-link">Clover提示X64 Exception Error</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#clover检测不到启动项或任何hfs-apfs分区" class="sidebar-link">Clover检测不到启动项或任何HFS/APFS分区</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#内置kexts错误导致无法进入系统" class="sidebar-link">内置kexts错误导致无法进入系统</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#无法更改启动路径" class="sidebar-link">无法更改启动路径</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#抹盘时提示mediakit报告设备上的空间不足以执行请求的操作-或磁盘工具自动退出" class="sidebar-link">抹盘时提示MediaKit报告设备上的空间不足以执行请求的操作，或磁盘工具自动退出</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现welcome-to-clover-xxxx-user-settings卡住不动" class="sidebar-link">出现Welcome to Clover xxxx user settings卡住不动</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#提示this-version-of-mac-os-x-is-not-supported-on-this-platform" class="sidebar-link">提示This version of Mac OS X is not supported on this platform</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在clover引导界面不动" class="sidebar-link">卡在Clover引导界面不动</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#运行后导致cmos重置" class="sidebar-link">运行后导致CMOS重置</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#啰嗦模式" class="sidebar-link">啰嗦模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#提示panic" class="sidebar-link">提示Panic</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在pci-configuration-begin" class="sidebar-link">卡在PCI configuration begin</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#still-waiting-for-root-device并禁行" class="sidebar-link">Still waiting for root device并禁行</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在applelintellpssi2ccontroller" class="sidebar-link">卡在ApplelIntelLpssI2CController</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在ioconsoleusers-gioscreenlockstate-3或出现busy-timeout或-igpu-hash-data-from-me-never-returned-status-1-doing-retry" class="sidebar-link">卡在IOConsoleUsers:gIOScreenLockState 3或出现Busy Timeout或[IGPU] Hash data from ME never returned, status =1, doing retry</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在iobluetoothhcicontroller" class="sidebar-link">卡在IOBluetoothHCIController</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#显示this-version-of-mac-os-x-is-not-supported-on-this-platform" class="sidebar-link">显示This version of Mac OS X is not supported on this platform!</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在service-only-ran-for-0-seconds-pushing-respawn-out-by-10-second" class="sidebar-link">卡在Service only ran for 0 seconds. Pushing respawn out by 10 second</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在attempting-system-restart-mach-reboot" class="sidebar-link">卡在Attempting system restart...MACH Reboot</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在welcome-to-clover-xxxx-user-settings" class="sidebar-link">卡在Welcome to Clover xxxx user settings</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在acpi-system-state-s0-s3-s4-s5-s3" class="sidebar-link">卡在ACPI:System State [S0 S3 S4 S5] (S3)</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在apfs-module-start或voodoops2controller-或安装时键盘无法使用" class="sidebar-link">卡在apfsmodulestart或VoodooPS2Controller，或安装时键盘无法使用</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#显示dsmos-has-arrived后重启" class="sidebar-link">显示DSMOS has arrived后重启</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现dsmos错误" class="sidebar-link">出现DSMOS错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现atiradeonx2000-atiradeonx3000错误" class="sidebar-link">出现ATIRadeonX2000/ATIRadeonX3000错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现chudkernlib错误" class="sidebar-link">出现CHUDKernLib错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现fakesmc错误" class="sidebar-link">出现FakeSMC错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#停在fakesmc" class="sidebar-link">停在FakeSMC</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现fakesmcradeon错误" class="sidebar-link">出现FakeSMCRadeon错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现elliottforcelegacyrtc错误" class="sidebar-link">出现ElliottForceLegacyRTC错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现applertl8169ethernet错误" class="sidebar-link">出现AppleRTL8169Ethernet错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现applertc错误" class="sidebar-link">出现AppleRTC错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现applefwohci错误" class="sidebar-link">出现AppleFWOHCI错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现sleepenabler错误" class="sidebar-link">出现SleepEnabler错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现trying-to-change-a-collection-in-the-registry的oscollection-cpp错误" class="sidebar-link">出现Trying to change a collection in the registry的OScollection.cpp错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现failed-to-locate-smc-driver错误" class="sidebar-link">出现failed to locate SMC driver错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现applepolicycontrol错误" class="sidebar-link">出现ApplePolicyControl错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#白屏且鼠标在屏幕左上角出现无限彩色风火轮" class="sidebar-link">白屏且鼠标在屏幕左上角出现无限彩色风火轮</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现iomemorydescriptor-cpp错误" class="sidebar-link">出现IOMemoryDescriptor.cpp错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#发生lapic-native-c-lapic-c的local-apic-error内核错误" class="sidebar-link">发生lapic_native.c/lapic.c的Local APIC error内核错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现can-t-perform-kext-scan-no-kext-summary错误" class="sidebar-link">出现can't perform kext scan: no kext summary错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#发生should-have-2-threads-but-only-found-3-for-die-0的cpu-threads-c错误" class="sidebar-link">发生Should have 2 threads, but only found 3 for Die 0的cpu_threads.c错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#发生ioapic-version-0x20-vectors-64-87错误" class="sidebar-link">发生IOAPIC: Version 0x20 Vectors 64:87错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现nvclockx错误" class="sidebar-link">出现NVClockX错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现appleintelgma950错误" class="sidebar-link">出现AppleIntelGMA950错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现geforce7xxx错误" class="sidebar-link">出现GeForce7xxx错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现intelcpumonitor错误" class="sidebar-link">出现IntelCPUMonitor错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在灰屏" class="sidebar-link">卡在灰屏</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#出现rtc-only-single-ram-bank错误" class="sidebar-link">出现RTC:Only single RAM bank错误</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#卡在voodoops2trackpad-idengtify-touchpad-command-failed" class="sidebar-link">卡在VoodooPS2Trackpad：idengtify TouchPad command failed</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#系统运行" class="sidebar-link">系统运行</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#内置sata硬盘显示为橙色图标" class="sidebar-link">内置SATA硬盘显示为橙色图标</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#rtc问题" class="sidebar-link">RTC问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#kexts" class="sidebar-link">Kexts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#lilu" class="sidebar-link">Lilu</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#fakesmc包与virtualsmc包" class="sidebar-link">FakeSMC包与VirtualSMC包</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#whatevergreen" class="sidebar-link">WhateverGreen</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#voodooi2c" class="sidebar-link">VoodooI2C</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#nullcpupowermanagement" class="sidebar-link">NullCPUPowerManagement</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#uefi驱动" class="sidebar-link">UEFI驱动</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#emuvariableuefi" class="sidebar-link">EmuVariableUefi</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#apfsdriverloader" class="sidebar-link">ApfsDriverLoader</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#hfsplus" class="sidebar-link">HFSPlus</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#crscreenshotdxe" class="sidebar-link">CrScreenshotDxe</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#硬件驱动" class="sidebar-link">硬件驱动</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#emu-usb" class="sidebar-link">EMU-USB</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#黑苹果库" class="sidebar-link">黑苹果库</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#oc-little包" class="sidebar-link">OC-little包</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#工具" class="sidebar-link">工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#hackintool" class="sidebar-link">Hackintool</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#kext-updater" class="sidebar-link">Kext Updater</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#maciasl" class="sidebar-link">MaciASL</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#ioregistryexplorer" class="sidebar-link">IORegistryExplorer</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#gfxutil" class="sidebar-link">gfxutil</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#imessagedebug" class="sidebar-link">iMessageDebug</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#clover-configurator" class="sidebar-link">Clover Configurator</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#kext-utility" class="sidebar-link">Kext Utility</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#vdadecoderchecker" class="sidebar-link">VDADecoderChecker</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#_7z" class="sidebar-link">7z</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#aw-edid-editor" class="sidebar-link">AW EDID Editor</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#hwmonitorsmc2" class="sidebar-link">HWMonitorSMC2</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#continuity-activation-tool" class="sidebar-link">Continuity-Activation-Tool</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#一键安装系统工具" class="sidebar-link">一键安装系统工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#ccmacos" class="sidebar-link">Ccmacos</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#windows下vmware-workstations-pro15-5-0安装dmg镜像" class="sidebar-link">Windows下VMware Workstations Pro15.5.0安装dmg镜像</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#黑苹果必备-intel核显platform-id整理及smbios速查表" class="sidebar-link">黑苹果必备：Intel核显platform ID整理及smbios速查表</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#fix-btfirmwareuploader-in-macos-high-sierra" class="sidebar-link">FIX BTFIRMWAREUPLOADER IN MACOS HIGH SIERRA</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#alexandred-voodooi2c-gitter" class="sidebar-link">alexandred/VoodooI2C-Gitter</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#hackintool深度教程" class="sidebar-link">Hackintool深度教程</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#修改dsdt实现电量显示教程" class="sidebar-link">修改DSDT实现电量显示教程</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#voodooi2c驱动教程" class="sidebar-link">VoodooI2C驱动教程</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#英特尔®核芯显卡常见问答-whatevergreen" class="sidebar-link">英特尔®核芯显卡常见问答（WhateverGreen）</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#黑苹果精华必读-新手常见-五国-v图-错误解决" class="sidebar-link">黑苹果精华必读：新手常见(五国)(-v图)错误解决</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#disabling-discrete-graphics-in-dual-gpu-laptops" class="sidebar-link">Disabling discrete graphics in dual-GPU laptops</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#r-hackintosh-vanilla-desktop-guide" class="sidebar-link">/r/Hackintosh Vanilla Desktop Guide</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#ssdt-gpu-graphics-card-injection" class="sidebar-link">SSDT GPU (Graphics Card) Injection</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#stevezhengshiqi-one-key-cpufriend" class="sidebar-link">stevezhengshiqi/one-key-cpufriend</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#ar9565-mac黑苹果bluetooth蓝牙驱动教程" class="sidebar-link">AR9565 MAC黑苹果Bluetooth蓝牙驱动教程</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#ssdt-rmne-aml" class="sidebar-link">SSDT-RMNE.aml</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#ssdt-pnlf-aml" class="sidebar-link">SSDT-PNLF.aml</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#使用hidpi解决睡眠唤醒黑屏、花屏及连接外部显示器的正确姿势" class="sidebar-link">使用HIDPI解决睡眠唤醒黑屏、花屏及连接外部显示器的正确姿势</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#小米笔记本pro安装10-13随手记及efi分享" class="sidebar-link">小米笔记本Pro安装10.13随手记及EFI分享</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#notebook-compatibility-list" class="sidebar-link">Notebook Compatibility List</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#hackintosh-won-t-boot-how-to-use-verbose-mode-to-fix-it" class="sidebar-link">Hackintosh won't boot? How to use verbose mode to fix it</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#新手常见-五国-v图-错误解决-原版-破解kernel-补丁kext下载" class="sidebar-link">新手常见(五国)(-v图)错误解决(原版,破解kernel,补丁kext下载)</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#dw1820a-bcm94350zae-bcm94356zepa50dx插入的正确姿势" class="sidebar-link">DW1820A/BCM94350ZAE/BCM94356ZEPA50DX插入的正确姿势</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#broadcom-bcm94352z-dw1560驱动新姿势-新方法" class="sidebar-link">Broadcom BCM94352z/DW1560驱动新姿势[新方法]</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#openintelwireless" class="sidebar-link">OpenIntelWireless</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#voodooi2c-voodooi2c-patches" class="sidebar-link">VoodooI2C/VoodooI2C-Patches</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#opencore-0-6-3-9a6d202-penryn-x64-exception" class="sidebar-link">OpenCore 0.6.3 [9a6d202] / Penryn X64 Exception</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#opencorepkg-kexts-md-at-master" class="sidebar-link">OpenCorePkg/Kexts.md at master</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#启用cpu-hwp-锁定cpu最高频率-让cpu展示其真正实力吧-oc可用" class="sidebar-link">启用CPU-HWP, 锁定CPU最高频率, 让CPU展示其真正实力吧! (OC可用)</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#skylake-hwp-enable" class="sidebar-link">Skylake HWP Enable</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#first-time-hackintosh-stuck-at-grey-screen-after-installation" class="sidebar-link">First time Hackintosh Stuck at Grey Screen after installation</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#clover引导安装黑苹果卡各种问题的解决方法-内容较多" class="sidebar-link">Clover引导安装黑苹果卡各种问题的解决方法(内容较多)</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#el-capitan-install-demanding-bluetooth-mouse-keyboard" class="sidebar-link">El Capitan Install Demanding Bluetooth Mouse/Keyboard</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#clover-折腾了半天终于找到唤醒重启问题的原因了。。。" class="sidebar-link">[CLOVER] 折腾了半天终于找到唤醒重启问题的原因了。。。</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#list-of-hackintosh-usb-port-limit-patches-10-15-updated" class="sidebar-link">List of Hackintosh USB Port Limit Patches (10.15 Updated)</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#wireless-buyers-guide" class="sidebar-link">Wireless Buyers Guide</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#hackintosh-internet-install-gitbook" class="sidebar-link">Hackintosh Internet Install Gitbook</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#guide-booting-the-os-x-installer-on-laptops-with-clover" class="sidebar-link">[Guide] Booting the OS X installer on LAPTOPS with Clover</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#fix-incorrect-time-in-windows-osx-dual-boot" class="sidebar-link">Fix incorrect time in Windows + OSX dual boot</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的安装与配置.html#olarila" class="sidebar-link">Olarila</a></li></ul></li><li><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的进阶操作.html" class="sidebar-link">黑苹果的进阶操作</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Windows</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Chrome OS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Computer</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>IOS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Android</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9bt5qlkq5j31lv0u0kii.jpg" alt=""></p> <p>本文以macOS Mojave为例进行说明，包含内容较多，主要适合较新主板的安装。</p> <h1 id="虚拟机安装"><a href="#虚拟机安装" class="header-anchor">#</a> 虚拟机安装</h1> <p>安装Vmware Workstation Player后，打开任务管理器，切换到服务选项卡，停止所有与VM有关的服务。</p> <p>通过以下链接下载Vmware虚拟机苹果破解补丁unlocker，解压后右键以管理员身份运行win-install，完成虚拟机对macOS系统限制的破解。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/theJaxon/unlocker/releases
</code></pre></div><p>打开Vmware Workstation Player，创建新虚拟机，系统选择Mac OS X，安装光盘选择Mac OS X的iso或cdr镜像文件，注意不能是dmg格式。cdr格式的可用镜像示例如下。</p> <div class="language- extra-class"><pre class="language-text"><code>链接 / https://pan.baidu.com/s/13rD1YbYwSKSDVhIxoUVxHw
提取码 / 4nii
</code></pre></div><p>创建并完成虚拟机内Mac的安装，注意用户密码不能为空。安装完成后，在虚拟机菜单上点击<code>安装Vmware Tools for Mac</code>，即可使Mac满屏显示。</p> <p>点击虚拟机选项-共享文件夹，勾选<code>总是启用</code>并设置好共享文件夹，即可完成Windows和Mac的文件互通。</p> <h1 id="硬盘安装"><a href="#硬盘安装" class="header-anchor">#</a> 硬盘安装</h1> <h2 id="记录硬件配置"><a href="#记录硬件配置" class="header-anchor">#</a> 记录硬件配置</h2> <p>在Windows下，右键点击此电脑，选择管理-设备管理器，得到设备清单。在某设备上点击属性-详细信息，在属性下拉栏选择硬件ID，记录下VID和PID。VID即Vendor ID，指供应商ID，在Windows下以<code>VID_</code>显示。PID即Device ID，指设备ID，在Windows下以<code>PID_</code>显示。</p> <p>可通过以下链接查询设备名称与PID的关系。</p> <div class="language- extra-class"><pre class="language-text"><code># Intel
http://pci-ids.ucw.cz/read/PC/8086

# AMD
http://pci-ids.ucw.cz/read/PC/1022

# Nvidia
http://pci-ids.ucw.cz/read/PC/10de
</code></pre></div><p>Mac对Intel CPU基本兼容，对AMD CPU需要进一步处理。本教程仅讨论Intel CPU的情况。</p> <p>对于笔记本，主要记录显卡、声卡、网卡、键盘、触控板和蓝牙的型号。以本机为例，型号为华硕FL8000U，硬件基本信息如下。需要注意的是，BIOS类型应为UEFI。</p> <table><thead><tr><th></th> <th>型号</th> <th>Device ID</th> <th>Vendor ID</th></tr></thead> <tbody><tr><td>CPU</td> <td>Intel Core i7-8550U（Kaby-Lake）</td> <td>/</td> <td>/</td></tr> <tr><td>核心显卡</td> <td>Intel UHD Graphics 620</td> <td>5917</td> <td>8086</td></tr> <tr><td>独立显卡</td> <td>NVIDIA GeForce 940MX</td> <td>134D</td> <td>10DE</td></tr> <tr><td>声卡</td> <td>Realtek ALC 294</td> <td>0294</td> <td>10EC</td></tr> <tr><td>有线网卡</td> <td>Realtek RTL8111</td> <td>/</td> <td>/</td></tr> <tr><td>无线网卡</td> <td>Atheros AR9565</td> <td>0036</td> <td>168C</td></tr> <tr><td>键盘</td> <td>PS2键盘</td> <td>/</td> <td>/</td></tr> <tr><td>触摸板</td> <td>I2C触摸板</td> <td>/</td> <td>/</td></tr> <tr><td>蓝牙</td> <td>Atheros Bluetooth 4.0</td> <td>3018</td> <td>04CA</td></tr></tbody></table> <h2 id="安装包下载"><a href="#安装包下载" class="header-anchor">#</a> 安装包下载</h2> <h3 id="通过链接"><a href="#通过链接" class="header-anchor">#</a> 通过链接</h3> <p>可通过黑果小兵的博客下载，镜像带引导。</p> <div class="language- extra-class"><pre class="language-text"><code>https://blog.daliansky.net/categories/%E4%B8%8B%E8%BD%BD/%E9%95%9C%E5%83%8F/
</code></pre></div><p>也可在Mac下也可通过以下链接，通过App Store下载。</p> <div class="language- extra-class"><pre class="language-text"><code>https://apps.apple.com/cn/app/macos-mojave/id1398502828?mt=12
</code></pre></div><p>也可通过以下链接。</p> <div class="language- extra-class"><pre class="language-text"><code>链接 / https://cloud.189.cn/t/FFvIV3aeQZRz
提取码 / ps0j
</code></pre></div><h3 id="通过macrecovery"><a href="#通过macrecovery" class="header-anchor">#</a> 通过macrecovery</h3> <p>以Windows为例，下载OpenCore，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/OpenCorePkg
</code></pre></div><p>解压后打开命令提示符，路径切换到解压文件夹内的Utilities/macrecovery，然后通过以下命令进行下载。</p> <div class="language- extra-class"><pre class="language-text"><code># Lion
python macrecovery.py -b Mac-2E6FAB96566FE58C -m 00000000000F25Y00 download
python macrecovery.py -b Mac-C3EC7CD22292981F -m 00000000000F0HM00 download

# Mountain Lion
python macrecovery.py -b Mac-7DF2A3B5E5D671ED -m 00000000000F65100 download

# Mavericks
python macrecovery.py -b Mac-F60DEB81FF30ACF6 -m 00000000000FNN100 download

# Yosemite
python macrecovery.py -b Mac-E43C1C25D4880AD6 -m 00000000000GDVW00 download

# El Capitan
python macrecovery.py -b Mac-FFE5EF870D7BA81A -m 00000000000GQRX00 download

# Sierra
python macrecovery.py -b Mac-77F17D7DA9285301 -m 00000000000J0DX00 download

# High Sierra
python macrecovery.py -b Mac-7BA5B2D9E42DDD94 -m 00000000000J80300 download
python macrecovery.py -b Mac-BE088AF8C5EB4FA2 -m 00000000000J80300 download

# Mojave
python macrecovery.py -b Mac-7BA5B2DFE22DDD8C -m 00000000000KXPG00 download

# Catalina
python macrecovery.py -b Mac-00BE6ED71E35EB86 -m 00000000000000000 download

# Big Sur
python macrecovery.py -b Mac-E43C1C25D4880AD6 -m 00000000000000000 download
</code></pre></div><h3 id="通过gibmacos"><a href="#通过gibmacos" class="header-anchor">#</a> 通过GibMacOS</h3> <p>对于10.13及以上系统，可通过GibMacOS下载原版镜像，注意不带引导。运行gibMacOS.command即可，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/corpnewt/gibMacOS
</code></pre></div><p>对于Big Sur，下载后在Mac下打开installAssistant.pkg，安装到当前系统盘，即可在应用程序中找到安装包程序。对于Catalina及更早版本，则应当运行BuildmacOSInstallApp.command以得到安装包，然后将安装包拖入应用程序文件夹。</p> <h2 id="硬盘分区"><a href="#硬盘分区" class="header-anchor">#</a> 硬盘分区</h2> <p>由于macOS只能以EFI方式引导，因此需确保分区表为GPT格式。</p> <p>可在Windows下打开DiskGenius，确认分区表为GUID格式，若不是，则在硬盘上单击右键，选择<code>转换分区表类型为GUID格式</code>。确保硬盘有一个200-300M的EFI分区，若没有则需要新建，一般新建到硬盘最前部。提前备份EFI内的文件至U盘，防止安装Mac时引导丢失。为Mac的安装划出50G以上的分区，格式化为APFS。</p> <p>若用Mac进行格式化，则格式化为GUID分区表时会自动生成一个200MB的EFI分区。</p> <h2 id="引导器下载"><a href="#引导器下载" class="header-anchor">#</a> 引导器下载</h2> <p>黑苹果需要特殊的引导器进行引导。此处使用Clover，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code># 普通版
https://github.com/Dids/clover-builder/releases
https://sourceforge.net/projects/cloverefiboot/

# 特别版
https://github.com/chris1111/CloverBootloader/releases
https://drive.google.com/drive/folders/0B661P9Kp9bPAdUViMVFYRW9KWFE
</code></pre></div><p>建议下载pkg或ISO版本，其中对于ISO版本，可用解压软件打开，提取Clover启动所需要的完整EFI文件夹，以便于后续安装。该文件夹的目录层级如下。</p> <div class="language- extra-class"><pre class="language-text"><code>└── EFI
   ├── Boot
   └── CLOVER
        ├── ACPI
        ├── drivers
        ├── ...
        ├── CLOVERX64.efi
        └── config.plist
</code></pre></div><h2 id="安装盘制作"><a href="#安装盘制作" class="header-anchor">#</a> 安装盘制作</h2> <p>此处以Majove 10.14.3为例。插入容量大于8G的U盘，提前备份好U盘资料。</p> <h3 id="对于从黑果小兵下载"><a href="#对于从黑果小兵下载" class="header-anchor">#</a> 对于从黑果小兵下载</h3> <p>若为Windows，且下载的镜像为带引导的dmg格式，则以管理员身份打开TransMac，在插入的U盘上点击右键，选择Restore with Disk Image，点击Yes以抹掉资料，选择dmg镜像，等待写入完成。也可通过Etcher完成以上操作。</p> <p>由于黑果小兵的安装盘已带引导器，故可以直接进行安装步骤。</p> <h3 id="对于从macrecovery下载"><a href="#对于从macrecovery下载" class="header-anchor">#</a> 对于从macrecovery下载</h3> <p>下载完成后将获得BaseSystem或RecoveryImage文件。将USB格式化为FAT32，在根目录新建名为com.apple.recovery.boot的文件夹并复制下载内容至该文件夹，注意.dmg和.chunklist文件都要复制。然后复制从Clover提取的EFI文件夹到根目录，保持与com.apple.recovery.boot文件夹同级。</p> <h3 id="对于从gibmacos下载"><a href="#对于从gibmacos下载" class="header-anchor">#</a> 对于从GibMacOS下载</h3> <p>若为Mac，且获取的是不带引导的系统app安装包，则先将USB进行分区，分区表为GUID，创建一个大小为200-300MB的EFI分区，剩余空间则用于安装程序。</p> <p>打开终端并输入以下命令，注意将MyVolume替换为USB磁盘名称。完成后复制从Clover提取的EFI文件夹到EFI磁盘。</p> <div class="language- extra-class"><pre class="language-text"><code># 以Mojave为例
sudo /Applications/Install\ macOS\ Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume
</code></pre></div><p>若为Windows，则通过MakeInstall.bat进行制作，注意该脚本将默认创建MBR引导。</p> <details><summary>【进阶】用BaseSystem.dmg制作安装盘</summary> <p>不适用于High Sierra即以上系统。</p> <p>BaseSystem.dmg可在安装包上点击右键，选择显示包内容，然后进入/Contents/Shared Support/即可找到。复制到桌面后，打开终端并输入以下命令以制作。</p> <div class="language- extra-class"><pre class="language-text"><code># disk1s2为USB设备路径，按照实际情况更改
sudo asr restore -source ~/Desktop/BaseSystem.dmg -target /dev/disk1s2 --erase
</code></pre></div></details> <h2 id="bios设置"><a href="#bios设置" class="header-anchor">#</a> BIOS设置</h2> <h3 id="全局设置"><a href="#全局设置" class="header-anchor">#</a> 全局设置</h3> <p>有AHCI的均选<code>AHCI</code>，开启支持UEFI启动。</p> <table><thead><tr><th>选项</th> <th>本机BIOS地址</th> <th>设定值</th> <th>设置</th> <th>说明</th></tr></thead> <tbody><tr><td>Fast Boot</td> <td>0xF7A</td> <td>0x0</td> <td>Disabled</td> <td>快速启动</td></tr> <tr><td>Secure Boot</td> <td></td> <td></td> <td>Disabled</td> <td>安全启动</td></tr> <tr><td>CFG Lock</td> <td>0x527</td> <td>0x0</td> <td>Disabled</td> <td>CFG锁（MSR 0xE2写入保护）</td></tr> <tr><td>Vt-d</td> <td>0x7EC</td> <td>0x0</td> <td>Disabled</td> <td>直接I/O访问的VT虚拟化技术</td></tr> <tr><td>CSM</td> <td>0x1032</td> <td>0x0</td> <td>Disabled</td> <td>兼容性支持模块（如果看到乱码则启用）</td></tr> <tr><td>Intel SGX</td> <td>0x5DC</td> <td>0x0</td> <td>Disabled</td> <td>Intel架构新扩展</td></tr> <tr><td>IO Serial Port</td> <td></td> <td></td> <td>Disabled</td> <td>串行端口，打开可能会引起睡眠死机问题</td></tr> <tr><td>LAN/WLAN switching</td> <td></td> <td></td> <td>Disabled</td> <td>LAN/WLAN切换</td></tr> <tr><td>Extended Idle Power States</td> <td></td> <td></td> <td>Disabled</td> <td>扩展空闲电源状态</td></tr> <tr><td>Wake on LAN/WLAN/WWAN</td> <td></td> <td></td> <td>Disabled</td> <td>LAN/WLAN/WWAN唤醒</td></tr> <tr><td>Wake on USB</td> <td></td> <td></td> <td>Disabled</td> <td>USB唤醒</td></tr> <tr><td>Firewire/IEEE 1394</td> <td></td> <td></td> <td>Disabled</td> <td>火线/IEEE 1394设备</td></tr> <tr><td>USB 3.0</td> <td></td> <td></td> <td>Disabled</td> <td>安装好系统后可以开启</td></tr> <tr><td>TMP/Security Chips/Security modules</td> <td></td> <td></td> <td>Disabled</td> <td>安全模块</td></tr> <tr><td>VT-x</td> <td>/</td> <td>/</td> <td>Enabled</td> <td>英特尔虚拟化技术</td></tr> <tr><td>Above 4G decoding</td> <td>0x7ED</td> <td>0x1</td> <td>Enabled</td> <td>大于4G地址空间解码</td></tr> <tr><td>Hyper Threading</td> <td>0x4F0</td> <td>0x1</td> <td>Enabled</td> <td>处理器超线程</td></tr> <tr><td>Execute Disable Bit</td> <td>0x4E9</td> <td>0x1</td> <td>Enabled</td> <td>执行禁止位</td></tr> <tr><td>EHCI Hand-off</td> <td>0x2</td> <td>0x1</td> <td>Enabled</td> <td>接手EHCI控制</td></tr> <tr><td>XHCI Hand-off</td> <td>0x1B</td> <td>0x1</td> <td>Enabled</td> <td>接手XHCI控制</td></tr> <tr><td>USB Hand-off</td> <td></td> <td></td> <td>Enabled</td> <td>接手USB控制（打开后则无需ReleaseUsbOwnership/Fixownership）</td></tr> <tr><td>Launch Hotkeys without Fn keypress</td> <td></td> <td></td> <td>Enabled</td> <td>对于Skylake和KabyLake平台</td></tr> <tr><td>USB Legacy support</td> <td></td> <td></td> <td>Enable</td> <td>旧版USB支持</td></tr> <tr><td>OS type</td> <td>/</td> <td>/</td> <td>Windows 8.1/10</td> <td>操作系统类型Windows 8.1/10</td></tr> <tr><td>Controller Mode</td> <td></td> <td></td> <td>AHCI mode</td> <td>硬盘模式</td></tr> <tr><td>Thunderbolt Support</td> <td></td> <td></td> <td>Disabled</td> <td></td></tr> <tr><td>Intel Platform Trust</td> <td></td> <td></td> <td>Disabled</td> <td></td></tr></tbody></table> <h3 id="显卡设置"><a href="#显卡设置" class="header-anchor">#</a> 显卡设置</h3> <p>若有Nvidia/AMD的显卡，则主显示器应设置为PEG或PCIE，并禁用与Intel显卡有关的选项（Hybrid Graphics/Dual Graphics/DVMT size等）。</p> <p>若有Intel的显卡，则将DVMT设置为64MB或更大。</p> <h2 id="正式安装"><a href="#正式安装" class="header-anchor">#</a> 正式安装</h2> <p>BIOS中启动顺序把UEFI启动的U盘设为第一，在弹出的Clover界面选择Boot OS X Install from Install macOS Majove，稍等片刻进入安装界面。</p> <p>在macOS实用工具中选择<code>磁盘工具</code>，点击左侧按钮选择<code>显示所有设备</code>，选择之前分好的Mac安装盘，点击抹掉，并选择格式为APFS。返回安装界面，选择刚才格式化好的盘进行安装，等待安装完成。</p> <p>重启时需继续从U盘启动，Clover界面中选择macOS的安装盘，进入欢迎界面后注意用户密码不能为空且跳过iCloud设置。正常进入黑苹果桌面后不要登录iCloud、iMessage、FaceTime。</p> <p>若在跑代码的过程中发生错误，则根据常见问题进行排除。</p> <h2 id="本地引导"><a href="#本地引导" class="header-anchor">#</a> 本地引导</h2> <h3 id="clover安装"><a href="#clover安装" class="header-anchor">#</a> Clover安装</h3> <p>在Mac下打开Clover的pkg安装包，同意协议后点击自定，勾选安装在Clover到EFI分区、UEFI Drivers。</p> <p>安装完成后使用Clover Configurator挂载EFI分区，并打开EFI/CLOVER/kexts，只留Others文件夹，其余删除。打开Others文件夹，只留VirtualSMC.kext、WhatEverGreen.kext和Lilu.kext。</p> <p>然后打开EFI/CLOVER/DRIVER64UEFI，删除SMCHelper-64.efi并复制VirtualSMC.efi到此目录下。</p> <p>目录层级如下。</p> <div class="language- extra-class"><pre class="language-text"><code>├── ACPI
├── CLOVERX64.efi
├── config.plist
├── drivers
│   └── UEFI
│       ├── ApfsDriverLoader.efi
│       ├── AudioDxe.efi
│       ├── DataHubDxe.efi
│       ├── FSInject.efi
│       ├── HFSPlus.efi
│       ├── OpenRuntime.efi
│       └── VirtualSmc.efi
├── kexts
    └── Other
        ├── Lilu.kext
        ├── VirtualSMC.kext
        └── WhateverGreen.kext
</code></pre></div><h3 id="clover配置"><a href="#clover配置" class="header-anchor">#</a> Clover配置</h3> <p>用Clover Configurator打开config.plist，按下列设置进行修改。</p> <h4 id="acpi"><a href="#acpi" class="header-anchor">#</a> ACPI</h4> <p>将Fixs下所有选项取消勾选（1和2两个页面的选项都要取消），并添加以下更名补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: change _DSM to XDSM
Find: 5F44534D
Replace: 5844534D
</code></pre></div><h4 id="boot"><a href="#boot" class="header-anchor">#</a> Boot</h4> <p>Arguments下勾选Verbose（-v）、nv_disable=1、dart=0，其余不勾选。</p> <h4 id="grpahics"><a href="#grpahics" class="header-anchor">#</a> Grpahics</h4> <p>取消勾选Inject Intel、Inject EDID。</p> <h4 id="devices"><a href="#devices" class="header-anchor">#</a> Devices</h4> <p>在Audio的Inject下拉菜单选择No，把下方Arbitrary、Properties和Add Properties所有内容删掉。</p> <h3 id="进入系统"><a href="#进入系统" class="header-anchor">#</a> 进入系统</h3> <p>退出Clover Configurator，保存更改后拔出U盘并重启，在BIOS下应当多出一项UEFI OS，进入后选择macOS安装盘启动。此时已完成Clover引导器的安装，可以脱离U盘引导。</p> <p>若Windows引导丢失，将备份好的EFI/BOOT中的Microsoft文件夹复制到EFI分区中的EFI/BOOT，与Clover文件夹同级即可。</p> <h2 id="驱动修补"><a href="#驱动修补" class="header-anchor">#</a> 驱动修补</h2> <p>Mac的驱动以Kernel Extensions（kexts）形式存在。系统的kexts存放于/System/Library/Extentions（SLE）或/Library/Extentions（LE），其中SLE为系统kexts的主要放置路径，LE为系统拓展kexts放置路径。kexts内部的dsYM是签名文件，仅用于调试目的。</p> <p>一般不建议修改SLE或LE目录。若需将驱动装入SLE或LE，可通过Kext Utility（在Catalina下需先解锁系统分区）或Hackintool。以Hackintool为例，在Hackintool的<code>工具</code>选项卡下点击下方的小屋按钮即可。</p> <h3 id="显卡"><a href="#显卡" class="header-anchor">#</a> 显卡</h3> <p>VGA在Mac中不可使用。驱动显卡前确保kexts文件夹内有Lilu.kext和WhateverGreen.kext。</p> <h4 id="选择显卡"><a href="#选择显卡" class="header-anchor">#</a> 选择显卡</h4> <p>在DSDT的PCI0设备目录下，Intel显卡拥有关键字<code>Name (_ADR, 0x00010000)</code>。Mac原生支持Intel显卡，但需要进行缓冲帧修补。</p> <p>对于笔记本而言，如果独显不与核显绑定，即独显本身可以独立工作，则不需要屏蔽独显，可从BIOS层面关闭核显，并寻找独显驱动。该情况能够存在的必要条件是MUX芯片存在，但大多数笔记本电脑都没有该芯片。包含该芯片的笔记本列表可参照以下表格。</p> <table><thead><tr><th>设备</th> <th>CPU</th> <th>dGPU直通</th> <th>iGPU直通</th> <th>eGPU直通</th> <th>备注</th></tr></thead> <tbody><tr><td>Razer Blade 15 (2018 Basic)</td> <td>Intel Core i7-8750H</td> <td>GTX 1060 Mobile with Max-Q design (6GB)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>Intel UHD Graphics 630<br>Windows下大概能工作；Linux下大概能工作</td> <td>GTX 970<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>支持TB3 eGPU</td></tr> <tr><td>Gigabyte P35X v4</td> <td>Intel Core i7-5700HQ</td> <td>GTX 980M (8GB)<br>Windows下工作；Linux下未知</td> <td>Intel HD Graphics 5600<br>Windows下工作；Linux下未知</td> <td></td> <td>需要修改的UEFI/BIOS（禁用Secure Boot）</td></tr> <tr><td>MSI GF72 8RE-032</td> <td>Intel Core i7-8750H</td> <td>GTX 1060 Mobile (6GB)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>Intel UHD Graphics 630<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>HP Pavilion G6-2348SG</td> <td>Intel Core i7 3632QM</td> <td>AMD Radeon HD 7670M<br>Windows下不可能；Linux下不可能</td> <td>Intel HD Graphics 4000<br>Windows下不支持4代及更早的Intel CPU；Linux下不支持4代及更早的Intel CPU</td> <td></td> <td></td></tr> <tr><td>ASUS TUF Gaming FX505DY</td> <td>AMD Ryzen 5 3550H</td> <td>AMD Radeon RX 560X (4GB)<br>Windows下工作，但AMD驱动会遇到43错误；Linux下能工作</td> <td>AMD Radeon Vega 8<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>ASUS ROG G751JY</td> <td>Intel Core i7-4710HQ</td> <td>GTX 980M (4GB)<br>Windows下不可能；Linux下不可能</td> <td>Intel HD Graphics 4600<br>Windows下不支持4代及更早的Intel CPU；Linux下不支持4代及更早的Intel CPU</td> <td></td> <td>iGPU被禁用，且没有UEFI选项开启</td></tr> <tr><td>ASUS G752VS-BA329T</td> <td>Intel Core i7-7700HQ</td> <td>GTX 1070 Mobile (8GB)<br>Windows下不可能；Linux下不可能</td> <td>Intel UHD Graphics 630<br>Windows下不可能；Linux下不可能</td> <td></td> <td>iGPU被禁用，且没有UEFI选项开启</td></tr> <tr><td>ASUS ROG G551JW</td> <td>Intel Core i7-4720HQ</td> <td>GTX 960M (2GB/4GB DDR3)<br>Windows下工作；Linux下未知</td> <td>Intel HD Graphics 4600<br>Windows下不支持4代及更早的Intel CPU；Linux下不支持4代及更早的Intel CPU</td> <td></td> <td></td></tr> <tr><td>ASUS G751JM</td> <td>Intel Core i7-4710HQ</td> <td>GTX 860M (2GB)<br>Windows下工作；Linux下未知</td> <td>Intel HD Graphics 4600<br>Windows下不支持4代及更早的Intel CPU；Linux下不支持4代及更早的Intel CPU</td> <td></td> <td></td></tr> <tr><td>ASUS X550VX</td> <td>Intel Core i5-6300HQ</td> <td>GTX 950M (2GB)<br>Windows下工作；Linux下未知</td> <td>Intel HD Graphics 530<br>Windows下未知；Linux下未知</td> <td></td> <td></td></tr> <tr><td>MSI GS63VR 7RF REV:1.0</td> <td>Intel Core i7-7700HQ</td> <td>GTX 1060 Mobile (6GB)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下能工作</td> <td>Intel HD Graphics 630<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>MSI GS60-040XFR</td> <td>Intel Core i7-4720HQ</td> <td>GTX 970M (3GB)<br>Windows下工作；Linux下未知</td> <td>Intel HD Graphics 4600<br>Windows下不支持4代及更早的Intel CPU；Linux下不支持4代及更早的Intel CPU</td> <td></td> <td></td></tr> <tr><td>MSI GS60 2PC</td> <td>Intel Core i7-4720HQ</td> <td>GTX 860M (2GB)<br>Windows下工作；Linux下未知</td> <td>Intel HD Graphics 4600<br>Windows下不支持4代及更早的Intel CPU；Linux下不支持4代及更早的Intel CPU</td> <td></td> <td></td></tr> <tr><td>MSI GT70 2PE Dominator Pro</td> <td>Intel Core i7-4800MQ</td> <td>GTX 880M (GDDR5 8GB/4GB)<br>Windows下工作；Linux下大概能工作</td> <td>Intel HD Graphics 4600 <br>Windows下不支持4代及更早的Intel CPU；Linux下不支持4代及更早的Intel CPU</td> <td></td> <td>dGPU直通需要SeaBIOS而不是UEFI（OVMF）</td></tr> <tr><td>Gigabyte Aero 14</td> <td>Intel Core™ i7-7700HQ</td> <td>GTX 1050 Ti (4GB)<br>Windows下工作；Linux下未知</td> <td>Intel HD Graphics 630<br>Windows下工作；Linux下未知</td> <td></td> <td></td></tr> <tr><td>Gigabyte Aero 15X v8</td> <td>Intel Core i7-8750H</td> <td>GTX 1070 with Max-Q design (8GB)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下能工作</td> <td>Intel UHD Graphics 630<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>Lenovo ThinkPad P51</td> <td>Intel Core i7-7700HQ</td> <td>NVIDIA Quadro M1200 (4GB)<br>Windows下未知；Linux下能工作</td> <td>Intel UHD Graphics 630<br>Windows下未知；Linux下能工作</td> <td></td> <td>可使用Intel GVT-g以使两张卡同时通过，Bumblebee可在访客模式下使用</td></tr> <tr><td>Lenovo Legion Y7000</td> <td>Intel Core i7-8750H</td> <td>GTX 1060 Mobile (6GB)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>Intel UHD Graphics 630<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>Dell XPS 15 9550</td> <td>Intel Core i7-6700HQ</td> <td>GTX 960M (2GB)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>Intel HD Graphics 530<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>Dell XPS 15 9570</td> <td>Intel Core i7-8750H</td> <td>GTX 1050Ti (4GB)<br>Windows下工作；Linux下大概能工作</td> <td>Intel UHD Graphics 630<br>Windows下工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>Dell Precision 7510</td> <td>Intel Xeon E3-1200 v5</td> <td>Nvidia Quadro M2000M<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>Intel HD Graphics P530<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>OVERPOWERED Gaming Laptop 15+</td> <td>Intel Core i7-8750H</td> <td>GTX 1060 (6GB)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>Intel UHD Graphics 630<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>CLEVO P950ER</td> <td>Intel Core i7-8750H</td> <td>GTX 1070 with Max-Q design (8GB)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>Intel UHD Graphics 630<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr> <tr><td>XMG P505 (Clevo P650SG)</td> <td>Intel Core i7-4720HQ</td> <td>GTX 970M (4GB)<br>Windows下工作，但某些应用只能在RDP下运行；Linux下大概能工作</td> <td>Intel HD Graphics 4600<br>Windows下不支持4代及更早的Intel CPU；Linux下不支持4代及更早的Intel CPU</td> <td></td> <td>需要Nvidia驱动(353.82)以在Windows 10下运行</td></tr> <tr><td>CLEVO N957TP6</td> <td>Unknown (Intel)</td> <td>Unknown (Nvidia)<br>Windows下工作，但Nvidia驱动会遇到43错误；Linux下大概能工作</td> <td>Unknown<br>Windows下大概能工作；Linux下大概能工作</td> <td></td> <td></td></tr></tbody></table> <p>可使用以下脚本进行判断。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/T-vK/MobilePassThrough
</code></pre></div><p>若没有该芯片，由于Mac不支持双显卡切换技术，为使显卡正常，需要屏蔽独显。大多数笔记本上的双显卡切换是让集显承担图像输出任务，所以不能屏蔽集显，屏蔽会导致黑屏。</p> <p>可以通过外接显示器判断独显是否独立。外接显示器后在桌面右键，打开NVIDIA控制面板，然后看是否可以调节数字振动这类设置。如果可以，说明此独显可以被独立驱动。</p> <p>对于本机而言，由于BIOS中有External Gfx Card Primary Display Configuration，理论上可以屏蔽核显以驱动独显。考虑到BIOS中的设置会影响其他系统，此处采用屏蔽Nvidia独显而驱动Intel核显的方案。</p> <p>对于旧版Mac的独显，可尝试通过purge-wrangler驱动，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/mayankk2308/purge-wrangler
</code></pre></div><h4 id="查找设备路径"><a href="#查找设备路径" class="header-anchor">#</a> 查找设备路径</h4> <p>设备路径描述了设备在所有硬件中的具体位置，为类似<code>_SB.PCI0.PEG0.PEGP</code>的形式。</p> <h5 id="通过gfxutil"><a href="#通过gfxutil" class="header-anchor">#</a> 通过gfxutil</h5> <p>下载<code>gfxutil</code>后打开终端，并切换到gfxutil所在路径，执行以下命令以输出显卡设备路径。</p> <div class="language- extra-class"><pre class="language-text"><code>// 独显
gfxutil -f GFX0

// 核显
gfxutil -f IGPU
</code></pre></div><h5 id="通过windows"><a href="#通过windows" class="header-anchor">#</a> 通过Windows</h5> <p>打开Windows下的设备管理器，在独显设备上右键单击<code>属性</code>，在详细信息标签卡下拉菜单选择<code>BIOS设备名称</code>即可。</p> <h5 id="通过acpi表"><a href="#通过acpi表" class="header-anchor">#</a> 通过ACPI表</h5> <p>在Clover引导界面按下<code>F4</code>，进入系统后打开EFI/CLOVER/ACPI/origin，可得到本机所有ACPI文件。复制到任一位置后打开终端，切换到复制到的位置并执行以下命令。</p> <div class="language- extra-class"><pre class="language-text"><code>grep -l _OFF *.aml
grep -l _INI *.aml
</code></pre></div><p>检查输出并记录两个输出中均存在的文件。打开这些文件并查找_OFF方法，如果这个方法在PowerShell宏中（即由PowerShell大括号括住），则舍弃。找到独立的_OFF方法并记录其设备路径即可。</p> <h4 id="驱动nvidia显卡"><a href="#驱动nvidia显卡" class="header-anchor">#</a> 驱动Nvidia显卡</h4> <p>Nvidia显卡一般免驱，部分显卡打开Inject Nvidia即可驱动成功。对于未受支持的显卡，则需要安装Nvidia WebDriver。此驱动最新版只适用于10.13，因此需要进行修补。</p> <p>可使用Benjamin-Dobell的脚本，仓库如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/Benjamin-Dobell/nvidia-update
</code></pre></div><p>在终端输入以下命令以启动安装脚本。</p> <div class="language- extra-class"><pre class="language-text"><code>curl -O https://raw.githubusercontent.com/Benjamin-Dobell/nvidia-update/master/nvidia-update.sh
chmod 755 nvidia-update.sh
./nvidia-update.sh -f
</code></pre></div><p>安装完成后重启，在系统设置中已经能够看到Nvidia控制面板。若未驱动，则需要在Clover的System Parameters下勾选NvidiaWeb。</p> <p>若为笔记本，独显通常不可驱动。若为台式机，在Catalina上独显无法开启硬件加速。若该显卡正常驱动，可安装WebDriver和CUDA Driver获得更好的体验，下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code># WebDriver
https://gfe.nvidia.com/mac-update
https://www.nvidia.com/download/driverResults.aspx/149652/
https://www.nvidia.com/download/driverResults.aspx/125379/en-us
https://www.insanelymac.com/forum/topic/324195-nvidia-web-driver-updates-for-macos-high-sierra-update-nov-13-2020/

# WebDriver Manager
https://hackintosher.com/forums/attachments/webdrivermanager-2-9-4-zip.1289/

# CUDA Driver
https://www.nvidia.com/en-us/drivers/cuda/mac-driver-archive/
</code></pre></div><details><summary>【进阶】旧版Nvidia GPU用于Mojave/Catalina</summary> <p>部分旧版GPU最多仅支持到High Sierra，可通过修改系统文件的方式实现驱动。下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://www.insanelymac.com/forum/topic/339035-pre-release-macos-catalina/page/21/?tab=comments#comment-2677545
</code></pre></div><p>需要替换以下文件。</p> <div class="language- extra-class"><pre class="language-text"><code># Frameworks
/System/Library/Frameworks/CoreDisplay.framework
/System/Library/Frameworks/OpenGL.framework
/System/Library/PrivateFrameworks/SkyLight.framework
/System/Library/PrivateFrameworks/GPUSupport.framework

# Patched Catalina Kexts
/System/Library/Extensions/IOHIDFamily.kext
/System/Library/Extensions/IOSurface.kext 

# nVidia Kexts from 10.13.6 for Legacy Tesla Cards
/System/Library/Extensions/GeForceGA.bundle
/System/Library/Extensions/GeForceTesla.kext
/System/Library/Extensions/GeForceTeslaGLDriver.bundle
/System/Library/Extensions/GeForceTeslaVADriver.bundle
/System/Library/Extensions/IOGraphicsFamily.kext
/System/Library/Extensions/IONDRVSupport.kext
/System/Library/Extensions/NVDANV50HalTesla.kext
/System/Library/Extensions/NVDAResmanTesla.kext
</code></pre></div><p>并删除以下内容。删除后修复权限并重建缓存即可。</p> <div class="language- extra-class"><pre class="language-text"><code>/System/Library/UserEventPlugins/com.apple.telemetry.plugin
</code></pre></div></details> <details><summary>【进阶】OC引导</summary> <p>OpenCore需添加EFI字符串。在配置文件添加以下设备即可。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
    &lt;key&gt;[DEVICEPATH]&lt;/key&gt;
    &lt;dict&gt;
        &lt;key&gt;@0,compatible&lt;/key&gt;
        &lt;string&gt;NVDA,NVMac&lt;/string&gt;
        &lt;key&gt;@0,device_type&lt;/key&gt;
        &lt;string&gt;display&lt;/string&gt;
        &lt;key&gt;@0,name&lt;/key&gt;
        &lt;string&gt;NVDA,Display-A&lt;/string&gt;
        &lt;key&gt;@1,compatible&lt;/key&gt;
        &lt;string&gt;NVDA,NVMac&lt;/string&gt;
        &lt;key&gt;@1,device_type&lt;/key&gt;
        &lt;string&gt;display&lt;/string&gt;
        &lt;key&gt;@1,name&lt;/key&gt;
        &lt;string&gt;NVDA,Display-B&lt;/string&gt;
        &lt;key&gt;NVCAP&lt;/key&gt;
        &lt;data&gt;
        [OUTPUTS]
        &lt;/data&gt;
        &lt;key&gt;NVPM&lt;/key&gt;
        &lt;data&gt;
        AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==
        &lt;/data&gt;
        &lt;key&gt;VRAM,totalsize&lt;/key&gt;
        &lt;string&gt;[MEMORYSIZE]&lt;/string&gt;
        &lt;key&gt;device_type&lt;/key&gt;
        &lt;string&gt;NVDA,GeForce&lt;/string&gt;
        &lt;key&gt;model&lt;/key&gt;
        &lt;string&gt;[MODELNAME]&lt;/string&gt;
        &lt;key&gt;name&lt;/key&gt;
        &lt;string&gt;NVDA,Parent&lt;/string&gt;
        &lt;key&gt;rom-revision&lt;/key&gt;
        &lt;string&gt;0x302e3176&lt;/string&gt;
    &lt;/dict&gt;
    &lt;/dict&gt;
&lt;/plist&gt;
</code></pre></div><p>注意需根据以下内容替换。</p> <table><thead><tr><th>选项</th> <th>内容</th></tr></thead> <tbody><tr><td>[DEVICEPATH]</td> <td>设备路径</td></tr> <tr><td>[MODELNAME]</td> <td>设备名称</td></tr> <tr><td>[MEMORYSIZE]</td> <td>32 - 0x02000000<br>64 - 0x04000000<br>128 - 0x08000000<br>256 - 0x10000000<br>320 - 0x14000000<br>512 - 0x20000000<br>640 - 0x28000000<br>768 - 0x30000000<br>1024 - 0x40000000</td></tr> <tr><td>[OUTPUTS]</td> <td>DVI-I / DVI-I - BAAAAAAAAwAMAAAAAAAABwAAAAA=<br>VGA / DVI-I  - BAAAAAAAAQAGAAAAAAAAAAAAAAA=<br>DVI-I / VGA - BAAAAAAAAwAEAAAAAAAABwAAAAA=</td></tr></tbody></table></details> <h4 id="驱动intel显卡"><a href="#驱动intel显卡" class="header-anchor">#</a> 驱动Intel显卡</h4> <p>打开Hackintool，在缓冲帧菜单项选择macOS 10.14，在IntelGen菜单项选择显卡的次代。本机为Intel HD Graphics 620，选择Kaby Lake。然后选择PlatformID，本机选择0×59160000。具体对应架构和PlatformID参见附录。</p> <p>点击应用补丁选项卡，进行以下设置。</p> <div class="language- extra-class"><pre class="language-text"><code># 通用
选择设备属性，勾选自动侦测变化、全部、接口、基本显存、EDID、图形卡、音频、PCI设备

# Advenced
勾选将DP映射到HDMI、使用英特尔HDMI、修复热插拔重启、HDMI无限循环修复、仿冒声卡ID、显存2048MB、启用HDMI20（4K）、缓冲帧接口数限制：3
勾选仿冒图形卡ID，选择对应显卡设备
</code></pre></div><p>点击Generate Patch生成显卡驱动补丁。点击File-Export-Clover config.plist，路径选择EFI/CLOVER并确认替换。注意，Hackintool会将原来的config.plist和生成的补丁进行合成，替换以后的config.plist为原有基础上添加了显卡补丁的配置文件，原有配置文件则被备份为config-backup.plist。</p> <h4 id="驱动amd显卡"><a href="#驱动amd显卡" class="header-anchor">#</a> 驱动AMD显卡</h4> <p>AMD显卡大部分免驱，部分需要通过伪装ID的方式驱动。</p> <details><summary>【进阶】伪装ID</summary> <p>需要伪装ID的显卡型号如下。</p> <div class="language- extra-class"><pre class="language-text"><code>R9 290/390
R9 280/380
R7 270/370
R9 260/360
R7 250
R7 240
</code></pre></div><p>通过以下链接查看合适的PCI ID，也可在黑苹果的进阶操作中查看。以R9 390为例，最接近的为390X，Vendor ID为1002，Device ID为67B0。</p> <div class="language- extra-class"><pre class="language-text"><code>https://pci-ids.ucw.cz/read/PC/1002
</code></pre></div><p>对于Device ID，需按照以下方式拆解。</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;device-id&quot;,
Buffer (0x04)
{
     0xB0, 0x67, 0x00, 0x00
},
</code></pre></div><p>进入Windows，打开设备管理器，选择显示适配器，在显卡设备上右键，选择属性-详细信息-位置路径，复制该路径，示例如下。</p> <div class="language- extra-class"><pre class="language-text"><code>ACPI(_SB_)#ACPI(PC02)#ACPI(BR2A)#ACPI(PEGP)#PCI(0000)#PCI(0000)
</code></pre></div><p>对应的ACPI路径如下。</p> <div class="language- extra-class"><pre class="language-text"><code>\_SB_.PC02.BR2A.PEGP
</code></pre></div><p>将以下内容存储为SSDT并放置于引导器ACPI部分即可。根据ACPI路径修改外部引用和引用域，将device-id修改为以上格式，model修改为显卡型号即可。</p> <div class="language- extra-class"><pre class="language-text"><code>DefinitionBlock (&quot;&quot;, &quot;SSDT&quot;, 2, &quot;DRTNIA&quot;, &quot;AMDGPU&quot;, 0x00001000)
{
    External (_SB_.PCI0, DeviceObj)
    External (_SB_.PCI0.PEG0.PEGP, DeviceObj)


    Scope (\_SB_.PCI0.PEG0.PEGP)
    {
        if (_OSI (&quot;Darwin&quot;))
        {
            Method (_DSM, 4, NotSerialized)  // _DSM: Device-Specific Method
            {
                Local0 = Package (0x04)
                {
                    // Where we shove our FakeID
                    &quot;device-id&quot;,
                    Buffer (0x04)
                    {
                        0xB0, 0x67, 0x00, 0x00
                    },

                    // Changing the name of the GPU reported, mainly cosmetic
                    &quot;model&quot;,
                    Buffer ()
                    {
                        &quot;AMD Radeon R9 390&quot;
                    }
                }
                DTGP (Arg0, Arg1, Arg2, Arg3, RefOf (Local0))
                Return (Local0)
            }
        }
    }
    Scope (\_SB.PCI0)
    {                   
        Method (DTGP, 5, NotSerialized)
        {
            If (LEqual (Arg0, ToUUID (&quot;a0b5b7c6-1318-441c-b0c9-fe695eaf949b&quot;)))
            {
                If (LEqual (Arg1, One))
                {
                    If (LEqual (Arg2, Zero))
                    {
                        Store (Buffer (One)
                            {
                                 0x03
                            }, Arg4)
                        Return (One)
                    }

                    If (LEqual (Arg2, One))
                    {
                        Return (One)
                    }
                }
            }

            Store (Buffer (One)
                {
                     0x00
                }, Arg4)
            Return (Zero)
        }
      
    }

}
</code></pre></div></details> <p>可尝试PyVega以实现超频和电压调整。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/corpnewt/PyVega
</code></pre></div><h4 id="屏蔽独显"><a href="#屏蔽独显" class="header-anchor">#</a> 屏蔽独显</h4> <h5 id="通过添加引导标志"><a href="#通过添加引导标志" class="header-anchor">#</a> 通过添加引导标志</h5> <p>保证Whatevergreen存在，在Clover引导标志中添加<code>-wegnoegpu</code>。此方法不能保证始终正常工作。</p> <h5 id="通过添加独显设备并禁用"><a href="#通过添加独显设备并禁用" class="header-anchor">#</a> 通过添加独显设备并禁用</h5> <p>注意，进入该设备路径的其它设备也将获得这些属性，从而失效，即会禁用同一品牌的所有显卡，也会禁用开普勒GPU。其它PCIe驱动器也可用此法禁用。</p> <p>查找到独显设备路径后，在Clover的Device-Add Properties下添加该独显路径，并填写以下内容。</p> <p>对于Nvidia显卡采用以下内容。</p> <table><thead><tr><th>Device</th> <th>Key</th> <th>Value</th> <th>Disabled</th> <th>Value Type</th></tr></thead> <tbody><tr><td>NVidia</td> <td>name</td> <td>23646973706C6179</td> <td>False</td> <td>DATA</td></tr> <tr><td>NVidia</td> <td>IOName</td> <td>#display</td> <td>False</td> <td>STRING</td></tr> <tr><td>NVidia</td> <td>class-code</td> <td>FFFFFFFF</td> <td>False</td> <td>DATA</td></tr></tbody></table> <p>对于AMD显卡则采用以下内容。</p> <table><thead><tr><th>Device</th> <th>Key</th> <th>Value</th> <th>Disabled</th> <th>Value Type</th></tr></thead> <tbody><tr><td>ATI</td> <td>name</td> <td>23646973706C6179</td> <td>False</td> <td>DATA</td></tr> <tr><td>ATI</td> <td>IOName</td> <td>#display</td> <td>False</td> <td>STRING</td></tr> <tr><td>ATI</td> <td>class-code</td> <td>FFFFFFFF</td> <td>False</td> <td>DATA</td></tr> <tr><td>ATI</td> <td>vendor-id</td> <td>FFFF0000</td> <td>False</td> <td>DATA</td></tr> <tr><td>ATI</td> <td>device-id</td> <td>FFFF0000</td> <td>False</td> <td>DATA</td></tr></tbody></table> <h5 id="通过ssdt"><a href="#通过ssdt" class="header-anchor">#</a> 通过SSDT</h5> <p>查找到独显设备路径后，打开MaciASL并新建文件，复制以下代码并将<code>_SB.PCI0.PEG0.PEGP</code>修改为所找到的设备路径，保存为aml文件并放到EFI/CLOVER/ACPI/hotpatch即可。</p> <p>对于Nvidia显卡采用以下SSDT。</p> <div class="language- extra-class"><pre class="language-text"><code>DefinitionBlock (&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;spoof&quot;, 0)
{
    Method(_SB.PCI0.PEG0.PEGP._DSM, 4)
    {
        If (!Arg2) { Return (Buffer() { 0x03 } ) }
        Return (Package()
        {
            &quot;name&quot;, Buffer() { &quot;#display&quot; },
            &quot;IOName&quot;, &quot;#display&quot;,
            &quot;class-code&quot;, Buffer() { 0xFF, 0xFF, 0xFF, 0xFF },
        })
    }
}
</code></pre></div><p>对于AMD显卡采用以下SSDT。</p> <div class="language- extra-class"><pre class="language-text"><code>DefinitionBlock (&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;spoof&quot;, 0)
{
    Method(_SB.PCI0.PEG0.PEGP._DSM, 4)
    {
        If (!Arg2) { Return (Buffer() { 0x03 } ) }
        Return (Package()
        {
            &quot;name&quot;, Buffer() { &quot;#display&quot; },
            &quot;IOName&quot;, &quot;#display&quot;,
            &quot;class-code&quot;, Buffer() { 0xFF, 0xFF, 0xFF, 0xFF },
            &quot;vendor-id&quot;, Buffer() { 0xFF, 0xFF, 0,  0 },
            &quot;device-id&quot;, Buffer() { 0xFF, 0xFF, 0, 0 },
        })
    }
}
</code></pre></div><h4 id="屏幕亮度调节"><a href="#屏幕亮度调节" class="header-anchor">#</a> 屏幕亮度调节</h4> <p>打开Maciasl，新建文件并复制以下内容，保存为SSDT-PNLF.aml并放入Clover的ACPI/patched下。重启电脑后进入系统偏好设置-显示器，若出现亮度调节滑块则已成功。</p> <div class="language- extra-class"><pre class="language-text"><code>DefinitionBlock (&quot;&quot;, &quot;SSDT&quot;, 2, &quot;hack&quot;, &quot;_PNLF&quot;, 0x00000000)
{
    External (_SB_.PCI0.IGPU, DeviceObj)
    External (RMCF.BKLT, IntObj)
    External (RMCF.FBTP, IntObj)
    External (RMCF.GRAN, IntObj)
    External (RMCF.LEVW, IntObj)
    External (RMCF.LMAX, IntObj)

    Scope (_SB.PCI0.IGPU)
    {
        OperationRegion (RMP3, PCI_Config, Zero, 0x14)
    }

    Device (_SB.PCI0.IGPU.PNLF)
    {
        Name (_ADR, Zero)
        Name (_HID, EisaId (&quot;APP0002&quot;))
        Name (_CID, &quot;backlight&quot;)
        Name (_UID, Zero)
        Name (_STA, 0x0B)
        Field (^RMP3, AnyAcc, NoLock, Preserve)
        {
            Offset (0x02), 
            GDID,   16, 
            Offset (0x10), 
            BAR1,   32
        }

        OperationRegion (RMB1, SystemMemory, (BAR1 &amp; 0xFFFFFFFFFFFFFFF0), 0x000E1184)
        Field (RMB1, AnyAcc, Lock, Preserve)
        {
            Offset (0x48250), 
            LEV2,   32, 
            LEVL,   32, 
            Offset (0x70040), 
            P0BL,   32, 
            Offset (0xC2000), 
            GRAN,   32, 
            Offset (0xC8250), 
            LEVW,   32, 
            LEVX,   32, 
            Offset (0xE1180), 
            PCHL,   32
        }

        Method (_INI, 0, NotSerialized)
        {
            Local4 = One
            If (CondRefOf (\RMCF.BKLT))
            {
                Local4 = \RMCF.BKLT
            }

            If ((Zero == (One &amp; Local4)))
            {
                Return (Zero)
            }

            Local0 = ^GDID
            Local2 = Ones
            If (CondRefOf (\RMCF.LMAX))
            {
                Local2 = \RMCF.LMAX
            }

            Local3 = Zero
            If (CondRefOf (\RMCF.FBTP))
            {
                Local3 = \RMCF.FBTP
            }

            If ((Zero == Local3))
            {
                If ((Ones != Match (Package (0x10)
                                {
                                    0x010B, 
                                    0x0102, 
                                    0x0106, 
                                    0x1106, 
                                    0x1601, 
                                    0x0116, 
                                    0x0126, 
                                    0x0112, 
                                    0x0122, 
                                    0x0152, 
                                    0x0156, 
                                    0x0162, 
                                    0x0166, 
                                    0x016A, 
                                    0x46, 
                                    0x42
                                }, MEQ, Local0, MTR, Zero, Zero)))
                {
                    Local3 = One
                }
                Else
                {
                    Local3 = 0x02
                }
            }

            If ((One == Local3))
            {
                If ((Ones == Local2))
                {
                    Local2 = 0x0710
                }

                Local1 = (^LEVX &gt;&gt; 0x10)
                If (!Local1)
                {
                    Local1 = Local2
                }

                If ((Local2 != Local1))
                {
                    Local0 = ((^LEVL * Local2) / Local1)
                    Local3 = (Local2 &lt;&lt; 0x10)
                    If ((Local2 &gt; Local1))
                    {
                        ^LEVX = Local3
                        ^LEVL = Local0
                    }
                    Else
                    {
                        ^LEVL = Local0
                        ^LEVX = Local3
                    }
                }
            }
            ElseIf ((0x02 == Local3))
            {
                If ((Ones == Local2))
                {
                    If ((Ones != Match (Package (0x16)
                                    {
                                        0x0D26, 
                                        0x0A26, 
                                        0x0D22, 
                                        0x0412, 
                                        0x0416, 
                                        0x0A16, 
                                        0x0A1E, 
                                        0x0A1E, 
                                        0x0A2E, 
                                        0x041E, 
                                        0x041A, 
                                        0x0BD1, 
                                        0x0BD2, 
                                        0x0BD3, 
                                        0x1606, 
                                        0x160E, 
                                        0x1616, 
                                        0x161E, 
                                        0x1626, 
                                        0x1622, 
                                        0x1612, 
                                        0x162B
                                    }, MEQ, Local0, MTR, Zero, Zero)))
                    {
                        Local2 = 0x0AD9
                    }
                    ElseIf ((Ones != Match (Package (0x04)
                                    {
                                        0x3E9B, 
                                        0x3EA5, 
                                        0x3E92, 
                                        0x3E91
                                    }, MEQ, Local0, MTR, Zero, Zero)))
                    {
                        Local2 = 0xFFFF
                    }
                    Else
                    {
                        Local2 = 0x056C
                    }
                }

                If ((Zero == (0x02 &amp; Local4)))
                {
                    Local5 = 0xC0000000
                    If (CondRefOf (\RMCF.LEVW))
                    {
                        If ((Ones != \RMCF.LEVW))
                        {
                            Local5 = \RMCF.LEVW
                        }
                    }

                    ^LEVW = Local5
                }

                If ((0x04 &amp; Local4))
                {
                    If (CondRefOf (\RMCF.GRAN))
                    {
                        ^GRAN = \RMCF.GRAN
                    }
                    Else
                    {
                        ^GRAN = Zero
                    }
                }

                Local1 = (^LEVX &gt;&gt; 0x10)
                If (!Local1)
                {
                    Local1 = Local2
                }

                If ((Local2 != Local1))
                {
                    Local0 = ((((^LEVX &amp; 0xFFFF) * Local2) / Local1) | 
                        (Local2 &lt;&lt; 0x10))
                    ^LEVX = Local0
                }
            }

            If ((Local2 == 0x0710))
            {
                _UID = 0x0E
            }
            ElseIf ((Local2 == 0x0AD9))
            {
                _UID = 0x0F
            }
            ElseIf ((Local2 == 0x056C))
            {
                _UID = 0x10
            }
            ElseIf ((Local2 == 0x07A1))
            {
                _UID = 0x11
            }
            ElseIf ((Local2 == 0x1499))
            {
                _UID = 0x12
            }
            ElseIf ((Local2 == 0xFFFF))
            {
                _UID = 0x13
            }
            Else
            {
                _UID = 0x63
            }
        }
    }
}
</code></pre></div><h4 id="效果检验"><a href="#效果检验" class="header-anchor">#</a> 效果检验</h4> <p>重启后显卡正常情况下已经驱动，Dock栏变为半透明。</p> <p>点击左上角苹果按钮，选择关于本机，若图形卡一栏显示2048MB而不是7MB，则核显驱动成功。在系统报告-图形卡中若不能看到所屏蔽的独显，则独显屏蔽成功。点击核显，若有<code>Metal: 支持，功能集macOS GPUFamily2 v1</code>字样，则metal支持打开成功。</p> <p>显卡驱动后需检验显卡硬件加速（QE/CI）是否已经打开。如果能够运行象棋游戏、屏幕保护程序正常工作、Grapher能看到三维图像、截屏功能正常，则硬件加速已打开。</p> <p>也可使用VDADecoderCheck或VideoProc检测。对于VideoProc，打开应用后进入<code>设置</code>，点击<code>硬件加速引擎</code>旁边的<code>选项</code>，查看检测结果即可。VideoProc下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://www.videoproc.com/
</code></pre></div><h4 id="显示修复"><a href="#显示修复" class="header-anchor">#</a> 显示修复</h4> <p>若出现屏幕花屏，可以尝试将DVI换为HDMI，或注入EDID。</p> <h5 id="平滑字体"><a href="#平滑字体" class="header-anchor">#</a> 平滑字体</h5> <p>在终端输入以下命令即可。</p> <div class="language- extra-class"><pre class="language-text"><code># 开启
defaults write -g CGFontRenderingFontSmoothingDisabled -bool NO

# 设置字体样式
# 3为最粗，1为最细
defaults -currentHost write -globalDomain AppleFontSmoothing -int 3
// defaults -currentHost write -globalDomain AppleFontSmoothing -int 2
// defaults -currentHost write -globalDomain AppleFontSmoothing -int 1

# 关闭
defaults write -g CGFontRenderingFontSmoothingDisabled -bool YES
</code></pre></div><h5 id="hidpi"><a href="#hidpi" class="header-anchor">#</a> Hidpi</h5> <p>HiDPI即High Dots Per Inch，用四个硬件像素渲染一个图像像素。开启Hidpi可使显示更清晰。</p> <h6 id="通过脚本"><a href="#通过脚本" class="header-anchor">#</a> 通过脚本</h6> <p>在终端下输入以下命令打开一键HiDPI脚本，安装以获得原生屏幕缩放体验。</p> <div class="language- extra-class"><pre class="language-text"><code>sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/xzhih/one-key-hidpi/master/hidpi.sh)&quot;

# 或以下命令
bash -c &quot;$(curl -fsSL https://gitee.com/kirainmoe/static-files/raw/master/hidpi.sh)&quot;
</code></pre></div><h6 id="通过rdm"><a href="#通过rdm" class="header-anchor">#</a> 通过RDM</h6> <p>打开DarwinDumper，只勾选EDID，点击左侧的Run，会在桌面生成EDID文件夹。下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://mac.softpedia.com/get/Utilities/DarwinDumper.shtml
</code></pre></div><p>下载FixEDID，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/andyvand/FixEDID
</code></pre></div><p>打开并点击Open EDID binary file，选择桌面文件夹的EDID/EDID.bin。选择对应显示比例的显示器，此处为Apple MacBook Pro Display（16:10）。</p> <p>在右侧输入想设置的分辨率，点击Add Resolutions添加分辨率，点击Make在桌面生成文件。参考分辨率如下。</p> <div class="language- extra-class"><pre class="language-text"><code>3840×2160
3200×1800
2880×1620
2560×1600
2560×1440
1920×1080
1820×1200
1680×1050
1600×900
1440×810
1440×900
1440×810
1344×1008
1344×756
1280×960
1280×800
1280×720
1024×768
1024×576
960×600
960×540
840×525
840×524
800×600
800×450
720×450
640×480
</code></pre></div><p>将桌面的DisplayVendorID-xxx放到System/Library/Displays/Contents/Resources/Overrides。安装<code>RDM</code>并重启电脑，即可在RDM看到需要的分辨率，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>http://avi.alkalay.net/software/RDM/RDM-2.2.dmg
</code></pre></div><h6 id="通过手动设置"><a href="#通过手动设置" class="header-anchor">#</a> 通过手动设置</h6> <p>打开终端并输入以下命令。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo defaults write /Library/Preferences/com.apple.windowserver.plist DisplayResolutionEnabled -bool true
ioreg -lw0 | grep IODisplayPrefsKey
</code></pre></div><p>输出类似如下信息，其中所有外部监视器由AppleDisplay标识，内部监视器由AppleBacklightDisplay标识。在行末可识别出DisplayVendorID和DisplayProductID，此处为<code>10ac</code>和<code>d06e</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;IODisplayPrefsKey&quot; = &quot;IOService:/AppleACPIPlatformExpert/PCI0@0/AppleACPIPCI/IGPU@2/AppleIntelFramebuffer@2/display0/AppleDisplay-10ac-d06e&quot;
</code></pre></div><p>打开以下网页并输入刚才得到的DisplayVendorID和DisplayProductID，DisplayProductName可以随意。注意一个分辨率需填写两个Scale Resolutions，其中第一个是原分辨率，另一个是长宽均为两倍后的分辨率，如添加1920×1080，则需填入3840×2160和1920×1080。注意相近的分辨率将会被系统过滤。</p> <div class="language- extra-class"><pre class="language-text"><code>https://comsysto.github.io/Display-Override-PropertyList-File-Parser-and-Generator-with-HiDPI-Support-For-Scaled-Resolutions/
</code></pre></div><p>调整完成后下载plist文件，去掉扩展名并放在DisplayVendorID-10ac文件夹，其中10ac更改为自己的VendorID。将文件夹复制到System/Library/Displays/Contents/Resources/Overrides并重启即可。</p> <h5 id="注入edid"><a href="#注入edid" class="header-anchor">#</a> 注入EDID</h5> <p>注入EDID可修复笔记本显示器内屏黑屏或花屏的问题。若前面选择采用Hidpi一键脚本，则无需进行此步。</p> <h6 id="通过patch-edid-rb"><a href="#通过patch-edid-rb" class="header-anchor">#</a> 通过patch-edid.rb</h6> <p>打开终端并输入以下命令以下载脚本。</p> <div class="language- extra-class"><pre class="language-text"><code>curl -O https://gist.github.com/ejdyksen/8302862/raw/patch-edid.rb
</code></pre></div><p>打开脚本文件并查找<code>AppleDisplay</code>，其代表外接显示器，若为内接显示器则需修改为<code>AppleBacklightDisplay</code>。然后继续在终端输入以下命令以运行并生成配置文件。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo ruby patch-edid.rb
</code></pre></div><p>将生成的配置文件复制到System/Library/Displays/Contents/Resources/Overrides/DisplayVendorID-xxx（对于El Capitan及以前版本为/System/Library/Displays/Overrides/DisplayVendorID-xxx），若已存在配置文件，则将两个文件的内容合并，重启即可。</p> <h6 id="通过clover"><a href="#通过clover" class="header-anchor">#</a> 通过Clover</h6> <p>在终端分别输入以下命令并记录其输出。其中第一个输出为EDID信息，另外两个分别为屏幕设备的VendorID和ProductID。</p> <div class="language- extra-class"><pre class="language-text"><code>ioreg -lw0 | grep -i &quot;IODisplayEDID&quot; | sed -e 's/.*&lt;//' -e 's/&gt;//'
ioreg -l | grep &quot;DisplayVendorID&quot;
ioreg -l | grep &quot;DisplayProductID&quot;
</code></pre></div><p>打开Clover的config.plist，切换到Graphics，将三者分别粘贴到对应的位置，注意VendorID和ProductID需要转换为十六进制。勾选<code>Inject EDID</code>，保存并重启即可。</p> <h6 id="通过hackintool"><a href="#通过hackintool" class="header-anchor">#</a> 通过Hackintool</h6> <p>打开Hackintool，进入显示器，选择要编辑的显示器，可添加或修复监视器范围，以及修改分辨率。</p> <p>点击导出，将DisplayVendorID-x和Icons.plist复制到/System/Library/Displays/Contents/Resources/Overrides（对于El Capitan及以前版本为/System/Library/Displays/Overrides）即可。</p> <p>也可将DisplayEDID-x-x.kext复制到Clover的kexts文件夹。</p> <h3 id="有线网卡"><a href="#有线网卡" class="header-anchor">#</a> 有线网卡</h3> <p>几乎所有的有线网卡都受支持。</p> <h4 id="realtek"><a href="#realtek" class="header-anchor">#</a> Realtek</h4> <p>以Realtek RTL8111有线网卡为例，网络上寻找对应驱动的kext，并放入Clover的kexts/Others即可驱动。</p> <p>驱动后进入系统偏好设置-网络，可看到有线网卡。或点击左上角苹果按钮，选择关于本机-系统报告…，在<code>以太网卡</code>中可以看到有线网卡。</p> <div class="language- extra-class"><pre class="language-text"><code># Realtek RTL810X（RTL8101E/8102E/8103E/8401E/8105E/8402/8106E/8106EUS）
http://www.insanelymac.com/forum/topic/296190-driver-for-realteks-rtl810x-fast-ethernet-series

# Realtek RTL8111X/8168X（X=无/B/C/D/E/F/G）
http://www.insanelymac.com/forum/topic/287161-new-driver-for-realtek-rtl8111
https://github.com/Mieze/RTL8111_driver_for_OS_X
https://code.google.com/p/os-x-realtek-network/downloads/list
https://github.com/SergeySlice/RealtekLANv3

# Realtek RTL8125
https://github.com/Mieze/LucyRTL8125Ethernet

# Realtek RTL8100
https://github.com/Mieze/RealtekRTL8100
</code></pre></div><h4 id="intel"><a href="#intel" class="header-anchor">#</a> Intel</h4> <p>Intel有线网卡驱动下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code># 新版，支持82578LM/82578LC/82578DM/82578DC/82579LM/82579V/I217LM/I217V/I218LM/I218V/I218LM2/I218V2/I218LM3/I219V/I219LM/I219V2/I219LM2/I219LM2
https://github.com/Mieze/IntelMausiEthernet
https://github.com/acidanthera/IntelMausi

# 旧版
https://github.com/chris1111/AppleIntelE1000e

# 支持82575/82576/82580/dh89xxcc/i350/i210/i211
https://www.tonymacx86.com/resources/appleigb.323/

# 支持I211/I350
https://github.com/khronokernel/SmallTree-I211-AT-patch

# 支持I211
https://github.com/suxiaogang/asrock-deskmini-110-hackintosh/tree/master/EFI/CLOVER/kexts/Other/Backup/SmallTree-Intel-211-AT-PCIe-GBE.kext
https://cdn.discordapp.com/attachments/390417931659378688/556912824228773888/SmallTree-Intel-211-AT-PCIe-GBE.kext.zip

# 支持82546EB/82545EM/82546EB/82545GM/82571EB
https://small-tree.com/smalltreeintel8254x-3-9-0-dmg/

# 支持82598EB/82599EB/82599ES
https://small-tree.com/smalltreeintel8259x-3-5-0-dmg/
</code></pre></div><h4 id="broadcom"><a href="#broadcom" class="header-anchor">#</a> Broadcom</h4> <p>对于BCM5722 NetXtreme/NetLink，可用BCM5722D。其它则需要FakePCIID+FakePCIID_BCM57XX_as_BCM57765。</p> <h4 id="amd"><a href="#amd" class="header-anchor">#</a> AMD</h4> <p>I211-AT驱动下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/khronokernel/SmallTree-I211-AT-patch/releases
</code></pre></div><h4 id="atheros"><a href="#atheros" class="header-anchor">#</a> Atheros</h4> <p>Atheros有线网卡驱动下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code># Qualcomm Atheros E2200
# 支持AR816x/AR817x/Killer E220x/Killer E2400/Killer E2500
https://github.com/Mieze/AtherosE2200Ethernet

# Qualcomm Atheros AR813x/815x
https://github.com/al3xtjames/AtherosL1cEthernet

# Atheros(R) AR81(31/32/51/52/61/62/71/72) PCI-E
# 适用于10.7-10.8
https://www.insanelymac.com/forum/topic/284119-experimental-atheros-ar813132515261627172-driver-for-107108/
</code></pre></div><h4 id="aquantia"><a href="#aquantia" class="header-anchor">#</a> Aquantia</h4> <p>Aquantia有线网卡驱动下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://www.insanelymac.com/forum/topic/330614-aquantia-10-gb-ethernet-support-thread-10132-upwards/
</code></pre></div><h4 id="无实际网卡"><a href="#无实际网卡" class="header-anchor">#</a> 无实际网卡</h4> <p>因为Mac App Store、iCloud、FaceTime和iMessage的正常工作要求在en0处具有内置以太网，因此，若无有线网卡，需将NullEthernet.kext放到Clover的kexts以模拟出一个有线网卡设备。下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://bitbucket.org/RehabMan/os-x-null-ethernet/downloads/
</code></pre></div><h4 id="网络端口重置"><a href="#网络端口重置" class="header-anchor">#</a> 网络端口重置</h4> <p>若以太网端口不在en0，则需进入网络偏好设置，删除所有接口并应用。</p> <p>然后删除<code>/Library/Preferences/SystemConfiguration/NetworkInterfaces.plist</code>，重新启动后进入网络偏好设置，重新添加网络端口。</p> <h4 id="有线网卡内建"><a href="#有线网卡内建" class="header-anchor">#</a> 有线网卡内建</h4> <p>在Clover的Devices选项卡中选择Properties，添加一个新设备，路径为通过Hackintool找到的有线网卡设备，并添加条目built-in，数值为01，类型为DATA，重启即可。</p> <p>如果用的是NullEthernet.kext，则打开Maciasl，复制以下内容并保存为SSDT-RMNE.aml，然后放入Clover的ACPI/patched中即可。</p> <div class="language- extra-class"><pre class="language-text"><code>DefinitionBlock (&quot;&quot;, &quot;SSDT&quot;, 2, &quot;RehabM&quot;, &quot;RMNE&quot;, 0x00001000)
{
    Device (RMNE)
    {
        Name (_ADR, Zero)
        Name (_HID, &quot;NULE0000&quot;)
        Name (MAC, Buffer (0x06)
        {
             0x11, 0x22, 0x33, 0x44, 0x55, 0x66
        })
        Method (_DSM, 4, NotSerialized)
        {
            If ((Arg2 == Zero))
            {
                Return (Buffer (One)
                {
                     0x03
                })
            }

            Return (Package (0x0A)
            {
                &quot;built-in&quot;, 
                Buffer (One)
                {
                     0x00
                }, 

                &quot;IOName&quot;, 
                &quot;ethernet&quot;, 
                &quot;name&quot;, 
                Buffer (0x09)
                {
                    &quot;ethernet&quot;
                }, 

                &quot;model&quot;, 
                Buffer (0x15)
                {
                    &quot;RM-NullEthernet-1001&quot;
                }, 

                &quot;device_type&quot;, 
                Buffer (0x09)
                {
                    &quot;ethernet&quot;
                }
            })
        }
    }
}
</code></pre></div><h3 id="无线网卡"><a href="#无线网卡" class="header-anchor">#</a> 无线网卡</h3> <h4 id="atheros-2"><a href="#atheros-2" class="header-anchor">#</a> Atheros</h4> <p>本机无线网卡为Atheros AR9565，可用驱动由corecapture.kext、CoreCaptureResponder.kext和IO80211Family.kext组成，下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>http://www.mediafire.com/file/2rjm76vro8ha28l/9565.zip/file
</code></pre></div><p>对于macOS 10.14，把它们放入Clover的kexts中，重启电脑后无线网卡可用。</p> <details><summary>【进阶】更高版本系统</summary> <p>上述kexts在Catalina中需要放到SLE才能正常工作，在Big Sur中已不适用。Big Sur中需要使用HS80211Family.kext和AirPortAtheros40.kext，下载网站如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://www.longzc.cn/index.php/archives/330
</code></pre></div><p>在Catalina中，也可尝试以下kexts。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/tj320442/AR9565-DW1707-macOS-10.15-Catalina
https://gitee.com/i320442/AR9565_DW1707/tree/master
</code></pre></div></details> <p>对于AR946X（AR9462&amp;AR9463）、AR9485、AR9565，也可尝试ATH9KFixup。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/chunnann/ATH9KFixup
https://www.olarila.com/topic/9229-guide-wifi-atheros-ar9565-ar9462-ar9463-ar9485-on-mojave-and-catalina/
</code></pre></div><p>对于AR242x、AR542x、AR5416、AR5418、AR9280-AR5BHB92、AR9285-AR5B95、AR9287-AR5B97、AR9380-AR5BXB112，可尝试High Sierra的IO80211Family。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/khronokernel/IO80211-Patches/blob/main/10.13.6-High-Sierra-Kexts/IO80211HighSierra.kext.zip
</code></pre></div><details><summary>【过时】低版本系统</summary> <p>对于AR5B95/195/97/197，在High Sierra中可用以下kext。下载后解压并将kexts/ProbookAtheros.kext放置到引导器即可。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/RehabMan/HP-ProBook-4x30s-DSDT-Patch/archive/master.zip
</code></pre></div></details> <h4 id="intel-2"><a href="#intel-2" class="header-anchor">#</a> Intel</h4> <p>可尝试Itlwm。注意应当使用itlwm.kext或AirportItlwm.kext，两者不能同时使用。推荐使用itlwm.kext。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/OpenIntelWireless/itlwm
</code></pre></div><p>支持列表如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://openintelwireless.github.io/itlwm/Compat.html
</code></pre></div><p>该kexts会使Intel无线网卡识别为有线网卡，因此需要配合HeliPort客户端使用。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/OpenIntelWireless/HeliPort
</code></pre></div><h4 id="broadcom-2"><a href="#broadcom-2" class="header-anchor">#</a> Broadcom</h4> <p>可尝试AirportBrcmFixup，适用于10.10及更高版本，链接如下。</p> <p>对于DW1820A，需添加启动参数brcmfx-country=#a和brcmfx-aspm。安装前先于BIOS中禁用WLAN/WIFI和Bluetooth，待安装系统成功后再行开启。</p> <p>如果插上网卡后进入系统直接卡住，可添加引导参数-brcmfxoff以暂时跳过网卡驱动的加载。</p> <p>如果想体验Sidecar/Apple Watch解锁功能，可将pci14e4,4331修改为pci14e4,43a0或者pci14e4,4353，以便驱动AirPortDriverBrcmNIC并开启相应功能。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/AirportBrcmFixup
</code></pre></div><details><summary>【进阶】OC引导</summary> <p>对于OpenCore，kext注入顺序为AirportBrcmFixup-AirportBrcmFixup/Contents/Plugins/AirPortBrcm4360_Injector-AirportBrcmFixup/Contents/Plugins/AirPortBrcmNIC_Injector。
</p></details><p></p> <p>对于BCM94352z/DW1560，需使用AirportBrcmFixup和BrcmPatchRAM。BrcmPatchRAM链接如下。该方法适用于10.11至10.14系统。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/BrcmPatchRAM
</code></pre></div><p>若蓝牙失效，则将BrcmFirmwareData.kext、BrcmPatchRAM2.kext、AirportBrcmFixup.kext复制到/Library/Extensions目录下，以解决睡眠唤醒后可能引起的蓝牙失效的问题。重启前需要重建系统的缓存。</p> <details><summary>【进阶】OC引导</summary> <p>对于OpenCore，kext注入顺序为Injector-Data-RAM。
</p></details><p></p> <h4 id="realtek-2"><a href="#realtek-2" class="header-anchor">#</a> Realtek</h4> <p>对于RTL8192CU，可采用以下链接。</p> <div class="language- extra-class"><pre class="language-text"><code>https://drive.google.com/file/d/1ZtdMqlvKBbHULJhl1u9omuLOy6j0vx48/view
</code></pre></div><h4 id="免驱卡"><a href="#免驱卡" class="header-anchor">#</a> 免驱卡</h4> <p>列表如下。</p> <table><thead><tr><th>无线网卡型号</th> <th>蓝牙型号</th> <th>连接器型号</th> <th>使用的Mac产品型号</th></tr></thead> <tbody><tr><td>BCM943602CDP</td> <td>20703A1</td> <td>U.FL Connector</td> <td>iMac16,x<br>iMac17,1<br>iMac18,x</td></tr> <tr><td>BCM94360CD</td> <td>20702B0</td> <td>U.FL Connector</td> <td>iMac14,x<br>iMac15,x<br>MacPro6,1</td></tr> <tr><td>BCM94331CD</td> <td>BRCM20702（05AC:828b）</td> <td>U.FL Connector</td> <td>iMac13,x</td></tr> <tr><td>BCM94360CS2</td> <td>BRCM20702（05AC:821f）</td> <td>MHF4 Connector</td> <td>MacBookAir5,x<br>MacBookAir6,x<br>MacBookAir7,x</td></tr> <tr><td>BCM943602CS</td> <td>20703A1</td> <td>MHF4 Connector</td> <td>MacBookPro12,x</td></tr> <tr><td>BCM94360CS</td> <td>20702B0</td> <td>MHF4 Connector</td> <td>Macmini7,x<br>MacBookPro11,x</td></tr> <tr><td>BCM94360CSAX</td> <td>BRCM20702（05AC:828c）</td> <td>MHF4 Connector</td> <td>MacBookPro10,x</td></tr> <tr><td>BCM94350</td> <td>4350C1</td> <td>MHF4 Connector</td> <td>MacBook8,1</td></tr> <tr><td>BCM94350</td> <td>20703A2</td> <td>MHF4 Connector</td> <td>MacBookPro13,x</td></tr> <tr><td>BCM94350</td> <td>4350</td> <td>MHF4 Connector</td> <td>MacBookPro14,x</td></tr> <tr><td>BCM4364</td> <td>4364B0</td> <td></td> <td>iMac19,x<br>Macmini8,1<br>MacBookPro15,x<br>iMacPro1,1 - 4364<br>MacPro7,1- 4364B3</td></tr> <tr><td>BCM4355</td> <td></td> <td></td> <td>MacBookAir8,1</td></tr> <tr><td><em>以下为传统无线网卡</em></td> <td></td> <td></td> <td></td></tr> <tr><td>BCM4328</td> <td></td> <td></td> <td>iMac5,1-9,1<br>MacBook3,1-4,1<br>MacBookAir1,1-2,1</td></tr> <tr><td>BCM4321</td> <td></td> <td></td> <td>MacPro2,1<br>Macmini4,1</td></tr> <tr><td>BCM4322</td> <td></td> <td></td> <td>MacBook5,1<br>MacBookPro5,1 and 7,1<br>MacBookAir3,1-5,1<br>MacPro5,1</td></tr> <tr><td>BCM43224</td> <td></td> <td></td> <td>MacBook6,1<br>MacBookPro6,1</td></tr> <tr><td>BCM4331</td> <td></td> <td></td> <td>Macmini5,x<br>MacBookPro8,x-10,x</td></tr> <tr><td>AR242X/AR542X</td> <td></td> <td></td> <td>MacBook1,1<br>Macmini1,1-2,1</td></tr> <tr><td>AR5418</td> <td></td> <td></td> <td>MacBook2,1</td></tr> <tr><td>AR928X</td> <td></td> <td></td> <td>iMac10,1-11,x<br>MacPro3,1</td></tr> <tr><td>AR93XX</td> <td></td> <td></td> <td>iMac12,x</td></tr></tbody></table> <h4 id="其它"><a href="#其它" class="header-anchor">#</a> 其它</h4> <p>对于MT7610，可使用以下kext。</p> <div class="language- extra-class"><pre class="language-text"><code>https://d86o2zu8ugzlg.cloudfront.net/mediatek-craft/drivers/MT7612_7610U_D5.0.1.25_SDK1.0.2.18_UI5.0.0.27_20151209.zip
</code></pre></div><p>对于RT5370，可使用以下kext。</p> <div class="language- extra-class"><pre class="language-text"><code>https://d86o2zu8ugzlg.cloudfront.net/mediatek-craft/drivers/RTUSB_D2870-4.2.9.2_UI-4.0.9.6_2013_11_29.zip
</code></pre></div><h4 id="替代方法"><a href="#替代方法" class="header-anchor">#</a> 替代方法</h4> <p>对于无解的网卡，可以更换网卡、购买黑苹果USB网卡或者将手机作为热点。USB网卡可尝试以下驱动。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/chris1111/WirelessAdapterCloverBigSur
https://github.com/chris1111/Wireless-USB-OC-Big-Sur-Adapter
https://github.com/chris1111/USB-Wireless-Utility
https://github.com/chris1111/WIFI-Dlink-Catalina-Panel-V2
</code></pre></div><p>对于iPhone用户，将手机接入电脑，手机开启个人热点功能，即可使用手机热点。对于Android用户，可安装<code>hoRNDIS</code>，然后将手机连接到电脑，开启安卓手机的USB网络共享即可。下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/jwise/HoRNDIS
</code></pre></div><h3 id="声卡"><a href="#声卡" class="header-anchor">#</a> 声卡</h3> <h4 id="通过applealc驱动"><a href="#通过applealc驱动" class="header-anchor">#</a> 通过AppleALC驱动</h4> <p>注意，该kext不能与VoodooHDA、RealtekALC、CloverALC、HDA Blocker、HDAEnabler1/2/3共用。下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/AppleALC/releases
</code></pre></div><p>放置后若睡眠唤醒无声，则可放置CodecCommander。虽然CodecCommander已并入AppleALC，但仅放置AppleALC可能无法解决该问题。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/Sniki/EAPD-Codec-Commander
</code></pre></div><h5 id="寻找layout-id"><a href="#寻找layout-id" class="header-anchor">#</a> 寻找Layout ID</h5> <p>保证系统SLE下有AppleHDA.kext，在Clover的kexts文件夹中放入AppleALC.kext。打开Hackintool，切换到Audio，通过下拉列表可查看该硬件支持的Layout ID。也可通过以下链接查看。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/AppleALC/wiki/Supported-codecs
</code></pre></div><p>在启动参数中添加以下参数，其中#为所查询到的Layout ID之一。</p> <div class="language- extra-class"><pre class="language-text"><code>alcid=#
</code></pre></div><p>若为Windows/Linux与macOS双引导，则打开Clover的config.plist，在Devices选项卡勾选Audio项下的ResetHDA选项。</p> <p>重启后检查声卡是否被驱动，可在终端运行以下命令。若三者都存在，则驱动成功。</p> <div class="language- extra-class"><pre class="language-text"><code>kextstat | grep -E &quot;AppleHDA|AppleALC|Lilu&quot;
</code></pre></div><p>若无声，则可更换不同的Layout ID。本机使用的Layout ID为12。打开IORegistryExplorer并搜索HDEF，若存在该设备，其下有AppleHDAController，右侧属性中的alc-layout-id不是修补前默认的07000000，且包含AppleHDAInput设备，则AppleALC已成功修补。</p> <p>如果睡眠后机器无法无声，则还需要在Clover的kexts中放入CodecCommander.kext。注意，尽管Hackintool提示该kexts已被合并到AppleALC中，但不放置时仍会出现问题。</p> <h5 id="写入layout-id"><a href="#写入layout-id" class="header-anchor">#</a> 写入Layout ID</h5> <p>确保该Layout ID可用后，可将该配置写入Clover的配置文件中。打开Hackintool，切换到Audio，通过下拉列表选择Layout ID。切换到Intel-Patch，选择Devices/Properties，勾选Auto Detect Changes、Audio，点击Generate Patch生成声卡驱动补丁。完成后保存以替换。</p> <p>也可手动生成设备信息。打开Clover的config.plist，在Devices选项卡下选择Properties。</p> <p>先在左侧栏添加声卡的设备路径。可在Hackintool中查找，也可通过gfxutil，命令如下。</p> <div class="language- extra-class"><pre class="language-text"><code>gfxutil -f HDEF
gfxutil -f HDAS
gfxutil -f HDAU
</code></pre></div><p>然后右侧栏添加以下条目即可。</p> <table><thead><tr><th>Properties Key</th> <th>Properties Value</th> <th>Value Type</th></tr></thead> <tbody><tr><td>alc-layout-id</td> <td>21</td> <td>NUMBER</td></tr> <tr><td>hda-gfx</td> <td>onboard-1</td> <td>STRING</td></tr> <tr><td>AAPL,slot-name</td> <td>Internal</td> <td>STRING</td></tr></tbody></table> <h5 id="实现顺序"><a href="#实现顺序" class="header-anchor">#</a> 实现顺序</h5> <p>对于AppleALC，指定Layout ID的优先级顺序为启动参数<code>alcid=#</code>-&gt;配置文件Device Properties中的alc-layout-id属性（仅适用Apple硬件）-&gt;配置文件Device Properties中的layout-id属性（适用Apple/非Apple硬件）。</p> <h5 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h5> <details><summary>【进阶】对于OC</summary> <h6 id="同一布局在clover起作用而opencore不起作用"><a href="#同一布局在clover起作用而opencore不起作用" class="header-anchor">#</a> 同一布局在Clover起作用而OpenCore不起作用</h6> <p>一般是由于IRQ冲突，可尝试使用SSDTTime中的SSDT-HPET热补丁，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/corpnewt/SSDTTime
</code></pre></div><h6 id="_10-15中由于电源状态更改导致的kernel-panic"><a href="#_10-15中由于电源状态更改导致的kernel-panic" class="header-anchor">#</a> 10.15中由于电源状态更改导致的kernel panic</h6> <p>在OpenCore的配置文件中设置Kernel-Quirks-PowerTimeoutKernelPanic为True。
</p></details><p></p> <h4 id="通过voodoohda驱动"><a href="#通过voodoohda驱动" class="header-anchor">#</a> 通过VoodooHDA驱动</h4> <p>在AMD上运行AppleALC可能会不起作用，则可使用VoodooHDA。下载kext并放到Clover中即可，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://sourceforge.net/projects/voodoohda/
https://github.com/chris1111/VoodooHDA-2.9.2-Clover-V14/releases
</code></pre></div><h4 id="插孔检测"><a href="#插孔检测" class="header-anchor">#</a> 插孔检测</h4> <p>使用JackFix即可，支持ResetHDA和3.5mm耳机接口类型切换。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/fewtarius/jackfix
</code></pre></div><h3 id="键盘与鼠标"><a href="#键盘与鼠标" class="header-anchor">#</a> 键盘与鼠标</h3> <h4 id="驱动"><a href="#驱动" class="header-anchor">#</a> 驱动</h4> <p>对于一般的PS2键盘，在Clover的kexts放入<code>VoodooPS2Controller.kext</code>，重启即可驱动。下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://bitbucket.org/RehabMan/os-x-voodoo-ps2-controller/downloads/
https://github.com/acidanthera/VoodooPS2
</code></pre></div><p>对于MSI GK-701键盘，可用以下kext。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/osy/GK701HIDDevice
</code></pre></div><h4 id="键位映射"><a href="#键位映射" class="header-anchor">#</a> 键位映射</h4> <p>安装<code>Karabiner Elements</code>，链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/pqrs-org/Karabiner-Elements
</code></pre></div><p>打开后选择Complex Modifications，点击Add rule-Import more rules from the Internet，在网页中搜索并安装<code>PC-Style Shortcuts</code>、<code>PC-Style Modifiers</code>、<code>Adobe Photoshop</code>，并在添加的类别上点击Enable All，完成键位映射调整。</p> <h3 id="usb"><a href="#usb" class="header-anchor">#</a> USB</h3> <h4 id="端口限制解除补丁"><a href="#端口限制解除补丁" class="header-anchor">#</a> 端口限制解除补丁</h4> <p>macOS规定USB端口的数量应少于15个，其中一个USB3.0的接口应按两个端口的配额计算。若端口数量大于15个，可能会导致系统无法启动，需用以下kexts补丁解除，在引导器的config.plist中添加即可。</p> <p>注意，完成以下端口定制后，应当及时取消该补丁。</p> <h5 id="el-capitan"><a href="#el-capitan" class="header-anchor">#</a> El Capitan</h5> <div class="language- extra-class"><pre class="language-text"><code>Comment: change 15 port limit to 26
Name: AppleUSBXHCIPCI
Find: 83BD8CFE FFFF10
Replace: 83BD8CFE FFFF1B
</code></pre></div><h5 id="sierra"><a href="#sierra" class="header-anchor">#</a> Sierra</h5> <div class="language- extra-class"><pre class="language-text"><code>Comment: Port limit increase
Name: com.apple.driver.usb.AppleUSBXHCI
Find: 83BD74FF FFFF10
Replace: 83BD74FF FFFF1B
</code></pre></div><p>或使用以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: change 15 port limit to 26
Name: AppleUSBXHCIPCI
Find: 83BD74FF FFFF10
Replace: 83BD74FF FFFF1B
</code></pre></div><h5 id="high-sierra"><a href="#high-sierra" class="header-anchor">#</a> High Sierra</h5> <p>对于10.13.6，应使用以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: USB 10.13.6+ by PMHeart
Name: com.apple.driver.usb.AppleUSBXHCI
Find: 837D880F 0F83A704 0000
Replace: 837D880F 90909090 9090
</code></pre></div><p>对于10.13.4-10.13.5，应使用以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: USB 10.13.4+ by PMHeart
Name: com.apple.driver.usb.AppleUSBXHCI
Find: 837D940F 0F839704 0000
Replace: 837D940F 90909090 9090
</code></pre></div><p>对于10.13-10.13.3，应使用以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: change 15 port limit to 24
Name: com.apple.driver.usb.AppleUSBXHCIPCI
Find: 837D8C10
Replace: 837D8C1B
</code></pre></div><h5 id="mojave"><a href="#mojave" class="header-anchor">#</a> Mojave</h5> <p>对于10.14.5-10.14.6，应使用以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: USB Port Limit Patch 1 PMHeart/DalianSky
Name: com.apple.iokit.IOUSBHostFamily
Find: 83FB0F0F
Replace: 83FB3F0F

Comment: USB Port Limit Patch 2 PMHeart/DalianSky
Name: com.apple.iokit.IOUSBHostFamily
Find: 83E30FD3
Replace: 83E33FD3

Comment: USB Port Limit Patch 3 PMHeart/DalianSky
Name: com.apple.driver.usb.AppleUSBXHCI
Find: 83FB0F0F
Replace: 83FB3F0F

Comment: USB Port Limit Patch 4 PMHeart/DalianSky
Name: com.apple.driver.usb.AppleUSBXHCI
Find: 83FF0F0F
Replace: 83FF3F0F
</code></pre></div><p>对于10.14.4，应使用以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: USB Port Limit Patch 1 ©PMHeart
Name: com.apple.iokit.IOUSBHostFamily
Find: 83FB0F0F 870B0400 00
Replace: 83FB3F0F 870B0400 00

Comment: USB Port Limit Patch 2 ©PMHeart
Name: com.apple.driver.usb.AppleUSBXHCI
Find: 4183FF0F 0F839404 0000
Replace: 4183FF3F 0F839404 0000

Comment: USB Port Limit Patch 3 ©PMHeart
Name: com.apple.iokit.IOUSBHostFamily
Find: 83E30FD3 E34109DF
Replace: 83E33FD3 E34109DF
</code></pre></div><p>对于10.14-10.14.3，应使用以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: Port limit increase (Ricky)
Name: com.apple.driver.usb.AppleUSBXHCI
Find: 83FB0F0F 838F0400 00
Replace: 83FB0F90 90909090 90
</code></pre></div><h5 id="catalina"><a href="#catalina" class="header-anchor">#</a> Catalina</h5> <p>对于10.15-10.15.1，应使用以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: USB port limit patch #1 10.15.x modify by DalianSky(credit ydeng)
Name: com.apple.iokit.IOUSBHostFamily
Find: 83FB0F0F
Replace: 83FB3F0F

Comment: USB Port limit patch #2 10.15.x modify by DalianSky
Name: com.apple.driver.usb.AppleUSBXHCI
Find: 83F90F0F
Replace: 83F93F0F
</code></pre></div><h4 id="端口定制"><a href="#端口定制" class="header-anchor">#</a> 端口定制</h4> <p>在Clover下放置USBInjectAll.kext，下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://bitbucket.org/RehabMan/os-x-usb-inject-all/downloads/
</code></pre></div><p>确保cofig.pilst的ACPI更名中已应用EHC1-&gt;EH01、EHC2-&gt;EH02以及XHCI/XHC1-&gt;XHC_补丁。然后通过以下方法之一处理。</p> <h5 id="通过hackintool-2"><a href="#通过hackintool-2" class="header-anchor">#</a> 通过Hackintool</h5> <p>打开Hackintool，点击USB，确保芯片组已被正确识别。把所有端口删除后刷新，然后分别取USB3与USB2的可移动设备对每一个接口进行插拔，每插拔一次设备将出现一个条目的改变，记录对应端口名称及USB类型，如下表所示。注意，TypeC接口需要正反各插拔一次。</p> <table><thead><tr><th>设备类型</th> <th>端口类型</th></tr></thead> <tbody><tr><td>永久连接设备的USB端口（如蓝牙）</td> <td>Internal</td></tr> <tr><td>与USB3端口相连的HSxx端口（USB2）</td> <td>USB3</td></tr> <tr><td>内部集线器（通常连接到端口PR11和PR21）</td> <td>Internal</td></tr> <tr><td>TypeC正反插端口一致</td> <td>TypeC+Sw</td></tr> <tr><td>TypeC正反插端口不一致</td> <td>TypeC</td></tr></tbody></table> <p>完成后导出，将SSDT-EC.aml、SSDT-UIAC.aml和SSDT-USBX.aml放到Clover的ACPI/patched下。或将SSDT-EC.aml和USBPorts.kext分别放置到ACPI/patched和kexts/Other下。若放置的是SSDT，则需保留USBInjectAll.kext，若为SSDT+kext则需删除。</p> <p>重启后若需检测是否成功，可插入USB3.0设备，通过系统报告查看速率是否为5G/s。或使用IOregistryExplorer，搜索XHC，可查看所有端口是否都已正常工作。</p> <h5 id="通过usbmap"><a href="#通过usbmap" class="header-anchor">#</a> 通过USBMap</h5> <p>打开终端并运行以下命令以打开脚本。</p> <div class="language- extra-class"><pre class="language-text"><code>git clone https://github.com/corpnewt/USBMap
cd USBMap
chmod +x USBMap.command
</code></pre></div><p>脚本打开后会核查USBInjectAll是否被正确加载、USB控制器是否被正确识别。脚本需要USBInjectAll的版本在0.70以上。若已完成放置但无法识别，则可能还需要XHCI_unsupported.kext。</p> <p>若端口数量大于15个，则需要应用端口解除补丁或在脚本主菜单上选择<code>S. Exclude SSxx Ports</code>或<code>H. Exclude HSxx Ports</code>端口以禁用SSxx（一般为USB3.0）或HSxx（一般为USB2.0）端口，完成后重启。若需要取消禁用，则选择<code>C. Clear Exclusions</code>。</p> <p>选择<code>D. Discover Ports</code>，脚本将读取默认USB列表。依次将每个端口用USB设备插拔，过程与使用Hackintool相同。每发现新的端口会有提示，直接忽略即可。完成后按<code>Q</code>并回车，返回主菜单。</p> <p>选择<code>P. Edit Plist &amp; Create SSDT/Kext</code>，可以看到刚才所识别的结果。需根据实际情况修改端口类型，数字代号与端口类型对应关系如下。设置要求与使用Hackintool一致。</p> <table><thead><tr><th>数字</th> <th>含义</th></tr></thead> <tbody><tr><td>0 (0x0)</td> <td>（USB2.0）Type A connector</td></tr> <tr><td>1</td> <td>Mini-AB connector</td></tr> <tr><td>2</td> <td>ExpressCard</td></tr> <tr><td>3 (0x3)</td> <td>（USB3.0）USB 3 Standard-A connector</td></tr> <tr><td>4</td> <td>USB 3 Standard-B connector</td></tr> <tr><td>5</td> <td>USB 3 Micro-B connector</td></tr> <tr><td>6</td> <td>USB 3 Micro-AB connector</td></tr> <tr><td>7</td> <td>USB 3 Power-B connector</td></tr> <tr><td>8</td> <td>Type C connector - USB2-only</td></tr> <tr><td>9 (0x9)</td> <td>（TypeC+Sw）Type C connector - USB2 and SS with Switch</td></tr> <tr><td>10</td> <td>Type C connector - USB2 and SS without Switch</td></tr> <tr><td>11-254</td> <td>Reserved</td></tr> <tr><td>255 (0xFF)</td> <td>（Internal）Proprietary connector</td></tr></tbody></table> <p>若需要将编号为5和7的端口改为USB2.0接口，则输入以下命令并回车。</p> <div class="language- extra-class"><pre class="language-text"><code>// T表示现在要更改端口的类型（Type），0表示端口类型
T:5,7:0
</code></pre></div><p>也可直接用plist编辑器打开脚本编辑，一般在用户目录/USBMap/Scripts中。</p> <p>设置完成后可选择<code>K. Build USBMap.kext</code>或<code>S. Build SSDT-UIAC</code>，其中第一种需把生成的kext复制到Clover的kexts目录下且删除USBInjectAll，而第二种需把生成的SSDT复制到Clover的ACPI/patched下且保留USBInjectAll。推荐第二种。</p> <p>注意，在按下创建SSDT之前，可以调节SSDT的形式，默认为三个SSDT，可设置为一个SSDT。生成的所有文件都在USBMap/Results中。</p> <h4 id="修复唤醒断线"><a href="#修复唤醒断线" class="header-anchor">#</a> 修复唤醒断线</h4> <p>在Clover的kexts文件夹放入USBPower.kext，下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://blog.xjn819.com/wp-content/uploads/2019/10/USBPower.kext_.zip
</code></pre></div><p>在kext上右键选择显示包内容，打开Contents/Info.plist，展开IOKitPersonalities_x86_64，将iMac19,1改成正在使用的机型，保存并重启即可。</p> <h4 id="修复usb导致的关机"><a href="#修复usb导致的关机" class="header-anchor">#</a> 修复USB导致的关机</h4> <p>下载以下文件，放置到引导器的ACPI/hotpatch部分即可。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/khronokernel/Opencore-Vanilla-Desktop-Guide/blob/master/extra-files/FixShutdown-USB-SSDT.dsl
</code></pre></div><h3 id="蓝牙"><a href="#蓝牙" class="header-anchor">#</a> 蓝牙</h3> <h4 id="atheros-3"><a href="#atheros-3" class="header-anchor">#</a> Atheros</h4> <p>本机蓝牙为与无线网卡Atheros AR9565共建的Bluetooth 4.0。打开以下链接并下载，直接放到Clover的kexts文件夹即可。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/zxystd/AthBluetoothFirmware
</code></pre></div><details><summary>【进阶】OC引导</summary> <p>对于OpenCore，放置到Kexts文件夹后需要在config.plist中添加对应条目，注意Ath3kBTInjector必须加载在Ath3kBT后面。
</p></details><p></p> <h4 id="intel-3"><a href="#intel-3" class="header-anchor">#</a> Intel</h4> <p>可尝试IntelBluetoothFirmware。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/OpenIntelWireless/IntelBluetoothFirmware
</code></pre></div><h4 id="broadcom-3"><a href="#broadcom-3" class="header-anchor">#</a> Broadcom</h4> <p>对于USB蓝牙，可尝试BrcmPatchRAM。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/BrcmPatchRAM
</code></pre></div><p>对于DW1820A，可使用以下kexts。如果蓝牙睡眠唤醒后无法工作，需要添加引导参数bpr_probedelay=100、bpr_initialdelay=300、bpr_postresetdelay=300。</p> <div class="language- extra-class"><pre class="language-text"><code># 10.14及以下
https://images.daliansky.net/d/YmBXVA8q/blog/DW1820A/DW1820A_BT_for_Mojave_v2.5.5.zip

# 10.15及以上
https://images.daliansky.net/d/YmBXVA8q/blog/DW1820A/DW1820A_BT_for_Catalina_and_BigSur_v2.5.5.zip
</code></pre></div><details><summary>【进阶】OC引导</summary> <p>对于OpenCore，kext注入顺序为BrcmBluetoothInjector-BrcmFirmwareData-BrcmPatchRAM3。
</p></details><p></p> <h4 id="启用蓝牙关闭按钮"><a href="#启用蓝牙关闭按钮" class="header-anchor">#</a> <s>启用蓝牙关闭按钮</s></h4> <p>已过时。</p> <details><summary></summary> <p>找到SLE下的IOBluetoothFamily.kext，复制到桌面后右键单击显示包内容，进入Contents/PlugIns，在BroadcomBluetoothHostControllerUSBTransport.kext上右键单击显示包内容，打开Contents/info.plist。用搜索功能搜索2652，修改idProduct和idVendor为自己的ID，注意需进行进制转换。从Windows上得到的是十六进制，需转换为十进制，可利用下面的进制转换工具。</p> <div class="language- extra-class"><pre class="language-text"><code>http://tool.oschina.net/hexconvert/
</code></pre></div><p>将修改好的IOBluetoothFamily.kext用Kext Utility进行安装，重启即可。注意，此法可以实现蓝牙关闭，但需要从Windows重启进入Mac后才可用。
</p></details><p></p> <h4 id="冷启动与热启动"><a href="#冷启动与热启动" class="header-anchor">#</a> 冷启动与热启动</h4> <p>冷启动指从关机状态下进入系统，热启动指从一个系统重启至另一个系统。</p> <p>少数蓝牙设备中嵌入了蓝牙所需的固件，因此它们开机即可直接使用。但是许多设备依靠固件上载器才能正常运行，此过程中，系统启动蓝牙设备的电源，固件上传器检测到该设备已打开电源，然后将固件发送（上传）到缓冲区中。</p> <p>由于Mac无法加载相关蓝牙固件，即使设备被正确识别，也无法与任何其他外围设备配对。热启动时，Windows/Linux已完成固件上传，重启时缓冲区固件仍存在，因此蓝牙能够起作用。而冷启动时将重置蓝牙设备，导致上载固件的丢失。</p> <h4 id="蓝牙无法驱动的替代方案"><a href="#蓝牙无法驱动的替代方案" class="header-anchor">#</a> 蓝牙无法驱动的替代方案</h4> <p>可通过Linux虚拟机完成蓝牙固件上传操作。</p> <p>从Clover的kexts文件夹删除BrcmPatchRAM.kext和BTFirmwareUploader.kext。以Ubuntu为例，下载镜像后打开Vmware Fusion，新建虚拟机并选择Ubuntu系统，CD/DVD驱动器选择刚才的镜像，完成配置。</p> <p>关闭虚拟机，切换到虚拟机设置页。选择<code>USB和蓝牙</code>首选项，取消选中<code>与Linux共享蓝牙设备</code>，列表中将出现一个蓝牙设备。返回主界面并点击<code>启动磁盘</code>，选择CD/DVD为启动项，退出设置并启动虚拟机。</p> <p>镜像引导成功后，选择<code>试用Ubuntu</code>。待开机完成后，点击虚拟机的蓝牙选项以将蓝牙设备连接至Ubuntu。等待4-5秒钟后取消蓝牙连接，固件已由虚拟机上传完成，蓝牙将正常运行。关闭虚拟机，VMware将保存计算机状态，只要不让机器进入睡眠或重启状态，就可以使用蓝牙。</p> <p>如果在睡眠/重新启动后失去了蓝牙功能，重新打开虚拟机，连接再断开蓝牙即可。</p> <p>也可通过以下TinyCore虚拟机，使用方法同Ubuntu。</p> <div class="language- extra-class"><pre class="language-text"><code>https://drive.google.com/file/d/1Ydm7Hd0d5XOKQkb02EMpm-6E-WQFiMkh/view
</code></pre></div><h3 id="传感器"><a href="#传感器" class="header-anchor">#</a> 传感器</h3> <p>在Clover的kexts下放入VirtualSMC包内的<code>SMCLightSensor.kext</code>、<code>SMCProcessor.kext</code>和<code>SMCSuperIO.kext</code>即可。</p> <h3 id="电池"><a href="#电池" class="header-anchor">#</a> 电池</h3> <details><summary>【进阶】对于Big Sur</summary> <p>Big Sur可能已经无须进行以下修补。
</p></details><p></p> <h4 id="环境配置"><a href="#环境配置" class="header-anchor">#</a> 环境配置</h4> <p>在Clover的kexts中放入VirtualSMC包的SMCBatteryManager.kext。打开Maciasl，若出现错误提示，则检查Clover的config.plist，Acpi-Fixs下所有选项都应取消勾选。若仍然不行，则换另一个版本的MaciASL。</p> <h4 id="修改dsdt"><a href="#修改dsdt" class="header-anchor">#</a> 修改DSDT</h4> <h5 id="查找字段"><a href="#查找字段" class="header-anchor">#</a> 查找字段</h5> <p>打开MaciASL，正常情况下自动打开系统的DSDT。搜索<code>EmbeddedControl</code>。可能会有一到多个，注意包含EC字样的那一个，记住其名称，本机为<code>EC0R</code>。</p> <p>搜索<code>Field ([EC名称]</code>，本机为<code>Field (EC0R</code>。查看Field里所有大于8的元素，全部进行记录后，逐个搜索它们的名字。若查找结果只有一处，表明此变量仅被定义但未被使用，因此可以将此字段从记录结果中删除，否则将此字段保留。记录时需注明每个字段的对应位数（16位/32位/大于32位）。</p> <p>点击<code>Patch</code>，复制下列代码，确认下面Change(s)处的数字不为零后点击<code>Apply</code>-<code>Close</code>。</p> <div class="language- extra-class"><pre class="language-text"><code># 添加B1B2方法，用于16位字段拆分
into method label B1B2 remove_entry;
into definitionblock code_regex . insert
begin
Method (B1B2, 2, NotSerialized)\n
{\n
Return(Or(Arg0, ShiftLeft(Arg1, 8)))\n
}\n
end;

# 添加B1B4方法，用于32位字段拆分
into method label B1B4 remove_entry;
into definitionblock code_regex . insert
begin
Method (B1B4, 4, NotSerialized)\n
{\n
	Store(Arg3, Local0)\n
	Or(Arg2, ShiftLeft(Local0, 8), Local0)\n
	Or(Arg1, ShiftLeft(Local0, 8), Local0)\n
	Or(Arg0, ShiftLeft(Local0, 8), Local0)\n
	Return(Local0)\n
}\n
end;
</code></pre></div><details><summary>【拓展】方法原理</summary> <p>对于B1B2，Arg0和Arg1为拆分后的两个8位寄存器。取Arg0作为低8位，将Arg1运用左移运算变成16位数据，此时它的的低8位全是0，再运用或运算拼接成完整的16位数据。B1B4同理。
</p></details><p></p> <details><summary>【进阶】其它方法</summary> <p>W16B方法如下，将拆分后的两个8位寄存器Arg0和Arg1合并后写入到Arg2。</p> <div class="language- extra-class"><pre class="language-text"><code>Method (W16B, 3, NotSerialized)
{
    Arg0 = Arg2
    Arg1 = (Arg2 &gt;&gt; 0x08)
}
</code></pre></div></details> <p>16/32位的字段需要拆分成多个8位的字段，而大于32位的字段需要修改其偏移地址。</p> <details><summary>【提示】注意事项</summary> <p>如果某个寄存器被全局定义过，例如在根路径<code>\</code>或<code>\_SB</code>路径下的Field里面有相同名字的寄存器，那么搜索该寄存器被调用情况时应注意区分此处的调用是不是EC下的这一个，如果不是，说明此处调用使用的是全局定义，对EC没有影响，不需要记录下来。
</p></details><p></p> <h5 id="_16-32位字段处理"><a href="#_16-32位字段处理" class="header-anchor">#</a> 16/32位字段处理</h5> <p>对于16/32位的字段，需要拆分成2/4个8位字段。</p> <p>以<code>HWAK, 16</code>为例。这是个16位的字段，可以拆分成两个8位的字段，分别命名为<code>AK00</code>和<code>AK01</code>。命名可以随意，但是要确保命名为4个字符，且这个命名没有出现过，如下。</p> <div class="language- extra-class"><pre class="language-text"><code>// 拆分前
HWAK, 16

// 拆分后
AK00, 8
AK01, 8
</code></pre></div><p>然后需要写出以下类似正则表达式的代码，以替换DSDT里的字段。</p> <div class="language- extra-class"><pre class="language-text"><code>into device label EC code_regex HWAK,\s+16, replace_matched begin AK00,8,AK01,8, end;
</code></pre></div><p>相关含义解释如下，内容均根据自己的DSDT代码替换。</p> <table><thead><tr><th>内容</th> <th>含义</th></tr></thead> <tbody><tr><td>EC</td> <td>搜索EmbeddedControl，在其上方的Device（不是Field里的参数）</td></tr> <tr><td>HWAK,\s+16,</td> <td>拆分前的字段（<code>\s+</code>表示多个空格，故此句含义为搜索HWAK, 16,）</td></tr> <tr><td>AK00,8,AK01,8,</td> <td>拆分后的字段</td></tr></tbody></table> <p>把写好的正则表达式复制到Patch里，在中间的Before/After和下面的Patch/Change两个地方都显示内容后，点击Apply-Close即完成一个变量的替换。</p> <p>再以<code>SBCH, 32</code>为例。</p> <div class="language- extra-class"><pre class="language-text"><code>// 拆分前
SBCH, 32

// 拆分后
CH00, 8
CH01, 8
CH02, 8
CH03, 8
</code></pre></div><p>正则表达式如下。</p> <div class="language- extra-class"><pre class="language-text"><code>into device label EC code_regex SBCH,\s+32 replace_matched begin CH00,8,CH01,8,CH02,8,CH03,8 end;
</code></pre></div><p>注意，所替换的<code>AK00,8,AK01,8,</code>逗号前后均无空格。若所替换的字段为列表中的最后一个，则Patch时会提示0 change(s)，此时应该把正则表达式中的<code>XSN1,\s+16,</code>改为<code>XSN1,\s+16</code>，因最后一个字段没有逗号。</p> <p>点击Compile，此时会出现报错，除Errors以外的不需要理会。对于报错内容为Object does not exist的情况，主要是替换字段名后，没有替换访问该字段的位置所导致。</p> <p>双击报错信息以定位至错误位置，向上检索以找到该段代码包含在哪个method里。</p> <p>对于16位的字段，使用下面的正则表达式。</p> <div class="language- extra-class"><pre class="language-text"><code>into method label \_WAK code_regex \(HWAK, replaceall_matched begin (B1B2(AK00,AK01), end;
</code></pre></div><p>相关含义解释如下，内容均根据自己的DSDT代码替换。注意，名字首位为<code>_</code>时，需要手动添加起始符<code>\</code>，如<code>_WAK</code>应写为<code>\_WAK</code>。</p> <table><thead><tr><th>内容</th> <th>含义</th></tr></thead> <tbody><tr><td><code>\_WAK</code></td> <td>代码对应的method</td></tr> <tr><td><code>\(HWAK,</code></td> <td>替换前的字段</td></tr> <tr><td>(B1B2(AK00,AK01),</td> <td>替换后的字段</td></tr></tbody></table> <p>对于32位的字段则使用下列表达式。</p> <div class="language- extra-class"><pre class="language-text"><code>into method label GBIF code_regex \(SBCH, replaceall_matched begin (B1B4(CH00,CH01,CH02,CH03), end;
</code></pre></div><p>若出现<code>\_SB.PCI0.LPC.EC.HWAK</code>调用的特殊情况，修改替换字段即可。</p> <div class="language- extra-class"><pre class="language-text"><code>into method label \_WAK code_regex \(\\\_SB.PCI0.LPC.EC.HWAK replaceall_matched begin \(\\_SB.B1B2(\\_SB.PCI0.LPC.EC.AK00, \\_SB.PCI0.LPC.EC.AK01) end;
</code></pre></div><details><summary>【进阶】16/32位寄存器拆分读取/写入</summary> <p>修改16位寄存器拆分读取的语法如下，其中Arg0、Arg1为拆分后的两个8位寄存器名称。</p> <div class="language- extra-class"><pre class="language-text"><code>B1B2 (Arg0, Arg1)
</code></pre></div><p>示例如下。</p> <div class="language- extra-class"><pre class="language-text"><code># 修改前
If ((^^PCI0.LPCB.EC0.BADC &lt; 0x0C80))

# 修改后
If ((B1B2 (^^PCI0.LPCB.EC0.ADC0, ^^PCI0.LPCB.EC0.ADC1) &lt; 0x0C80))
</code></pre></div><p>修改16位寄存器拆分写入的语法如下，其中Arg0、Arg1为拆分后的两个8位寄存器名称，Arg2为被写入的数值或数据对象。</p> <div class="language- extra-class"><pre class="language-text"><code>W16B (Arg0, Arg1，Arg2)
</code></pre></div><p>示例如下。</p> <div class="language- extra-class"><pre class="language-text"><code># 修改前
SMW0 = Arg3

# 修改后
W16B (MW00, MW01, Arg3)
</code></pre></div><p>修改32位寄存器拆分读取的语法如下，其中Arg0、Arg1、Arg2、Arg3为拆分后的四个8位寄存器名称。</p> <div class="language- extra-class"><pre class="language-text"><code>B1B4 (Arg0, Arg1, Arg2, Arg3)
</code></pre></div><p>示例如下。</p> <div class="language- extra-class"><pre class="language-text"><code># 修改前
If ((B1CH == 0x0050694C))

# 修改后
If ((B1B4 (BC0H, BC1H, BC2H, BC3H) == 0x0050694C))
</code></pre></div><p>修改32位寄存器读取的语法如下，其中Offset为原寄存器的偏移量，Length为原寄存器的长度。</p> <div class="language- extra-class"><pre class="language-text"><code>RECB (Offset, Length)
</code></pre></div><p>示例如下。</p> <div class="language- extra-class"><pre class="language-text"><code># 原始定义
Offset (0x8F),
B1MA,   64,

# 修改前
IFMN = B1MA

# 修改后
IFMN = RECB (0x8F, 0x40)
</code></pre></div><p>修改32位以上寄存器写入的语法如下，其中Offset为原寄存器的偏移量，Length为原寄存器的长度，Obj为被写入的值或者数据对象。</p> <div class="language- extra-class"><pre class="language-text"><code>WECB (Offset, Length, Obj)
</code></pre></div><p>示例如下。</p> <div class="language- extra-class"><pre class="language-text"><code># 原始定义
Offset (0x18),
SMPR,   8,
SMST,   8,
SMAD,   8,
SMCM,   8,
SMD0,   256,

# 修改前
SMD0 = FB4

# 修改后
WECB (0x1C, 0x0100, FB4) // 0x1C=0x18+0x04
</code></pre></div></details> <h5 id="超过32位字段处理"><a href="#超过32位字段处理" class="header-anchor">#</a> 超过32位字段处理</h5> <p>先Patch下面的两段代码，其中H_EC改成计算机的Device。</p> <div class="language- extra-class"><pre class="language-text"><code>// 改的字段挨着左括号时所用代码
into method label RE1B parent_label H_EC remove_entry;
into method label RECB parent_label H_EC remove_entry;

into device label H_EC insert
begin
Method (RE1B, 1, NotSerialized)\n
{\n
	OperationRegion(ERAM, EmbeddedControl, Arg0, 1)\n
	Field(ERAM, ByteAcc, NoLock, Preserve) { BYTE, 8 }\n
	Return(BYTE)\n
}\n
Method (RECB, 2, Serialized)\n
// Arg0 - offset in bytes from zero-based EC\n
// Arg1 - size of buffer in bits\n
{\n
	ShiftRight(Arg1, 3, Arg1)\n
	Name(TEMP, Buffer(Arg1) { })\n
	Add(Arg0, Arg1, Arg1)\n
	Store(0, Local0)\n
	While (LLess(Arg0, Arg1))\n
	{\n
	Store(RE1B(Arg0), Index(TEMP, Local0))\n
	Increment(Arg0)\n
	Increment(Local0)\n
	}\n
	Return(TEMP)\n
}\n
end;

// 改的字段挨着右括号时所用代码
into method label WE1B parent_label H_EC remove_entry;
into method label WECB parent_label H_EC remove_entry;
into device label H_EC insert
begin
Method (WE1B, 2, NotSerialized)\n
{\n
	OperationRegion(ERAM, EmbeddedControl, Arg0, 1)\n
	Field(ERAM, ByteAcc, NoLock, Preserve) { BYTE, 8 }\n
	Store(Arg1, BYTE)\n
}\n
Method (WECB, 3, Serialized)\n
// Arg0 - offset in bytes from zero-based EC\n
// Arg1 - size of buffer in bits\n
// Arg2 - value to write\n
{\n
	ShiftRight(Add(Arg1,7), 3, Arg1)\n
	Name(TEMP, Buffer(Arg1) { })\n
	Store(Arg2, TEMP)\n
	Add(Arg0, Arg1, Arg1)\n
	Store(0, Local0)\n
	While (LLess(Arg0, Arg1))\n
	{\n
	WE1B(Arg0, DerefOf(Index(TEMP, Local0)))\n
	Increment(Arg0)\n
	Increment(Local0)\n
	}\n
}\n
end;
</code></pre></div><details><summary>【拓展】方法原理</summary> <p>对于左括号的代码如下。对于RECB，Arg0是原寄存器的偏移量（即Offset），Arg1是原寄存器的长度。对于RE1B，Arg0是偏移量。</p> <p>RECB通过Arg1确定需要拆分的8位寄存器个数，通过While循环及偏移量自增方法调用RE1B从Field中循环读取出每个8位数据，并拼接成原始寄存器定义长度的数据返回结果。</p> <div class="language- extra-class"><pre class="language-text"><code>Method (RE1B, 1, NotSerialized)
{
    OperationRegion (ERM2, EmbeddedControl, Arg0, One) // 作用域为EmbeddedControl，Arg0定义起始偏移量
    Field (ERM2, ByteAcc, NoLock, Preserve)
    {
        BYTE,   8 // 指定一个8位寄存器映射对应区域数据
    }

    Return (BYTE) // 返回结果
}

Method (RECB, 2, Serialized)
{
    Arg1 = ((Arg1 + 0x07) &gt;&gt; 0x03) // 计算Arg1除8并向上取整，位移运算更快
    Name (TEMP, Buffer (Arg1){}) // 初始化作为返回值的Buffer
    Arg1 += Arg0 // 加上偏移量，即循环终止值
    Local0 = Zero // 定义Buffer索引为0
    While ((Arg0 &lt; Arg1)) // 进行循环，循环次数为初次计算的Arg1
    {
        TEMP [Local0] = RE1B (Arg0) // 调用RE1B依次返回8位数据
        Arg0++ // 偏移量自增
        Local0++ // 索引自增
    }

    Return (TEMP) // 返回最终结果
}
</code></pre></div><p>对于右括号的代码如下。对于WECB，Arg0是原寄存器的偏移量（即Offset），Arg1是原寄存器的长度，Arg2为被写入的数据或对象。对于WE1B，Arg0是偏移量，Arg1为从Buffer取出的一个字节数据（即8位长度数据）。</p> <p>WECB通过Arg1确定需要拆分的8位寄存器个数，创建Buffer对象将Arg2转化为若干个字节的数据（一个字节等于8位），通过While循环以及偏移量自增方法调用WE1B，向Field中循环写入每个8位数据。</p> <div class="language- extra-class"><pre class="language-text"><code>Method (WE1B, 2, NotSerialized)
{
    OperationRegion (ERM2, EmbeddedControl, Arg0, One) // EmbeddedControl为EC作用域，Arg0定义起始偏移量
    Field (ERM2, ByteAcc, NoLock, Preserve)
    {
        BYTE,   8 // 指定一个8位寄存器映射对应区域数据
    }

    BYTE = Arg1 // 将Arg1通过寄存器间接写入对应区域
}

Method (WECB, 3, Serialized)
{
    Arg1 = ((Arg1 + 0x07) &gt;&gt; 0x03) // 计算Arg1除8并向上取整，位移运算更快
    Name (TEMP, Buffer (Arg1){}) // 初始化作为写入值的Buffer
    TEMP = Arg2 // 将被写入的数据或对象赋值给TEMP
    Arg1 += Arg0 // 加上偏移量，即循环终止值
    Local0 = Zero // 定义Buffer索引为0
    While ((Arg0 &lt; Arg1)) // 进行循环，循环次数为初次计算的Arg1
    {
        WE1B (Arg0, DerefOf (TEMP [Local0])) // 调用WE1B依次写入8位数据
        Arg0++ // 偏移量自增
        Local0++ // 索引自增
    }
}
</code></pre></div><p>有些笔记本的EC使用SystemMemory作用域，则EC、RE1B和WE1B的Field起始偏移量也需要加上原始定义数值，可参照如下所示代码进行修改。</p> <div class="language- extra-class"><pre class="language-text"><code>Scope (_SB.PCI0.LPCB.EC0)
{
    OperationRegion (ERAX, SystemMemory, 0xFE708300, 0x0100)
    Field (ERAX, ByteAcc, Lock, Preserve)
    {
    ···
    Method (RE1B, 1, NotSerialized)
    {
        Local0 = (0xFE708300 + Arg0)
        OperationRegion (ERM2, SystemMemory, Local0, One)
</code></pre></div></details> <p>计算大于32位字段的偏移量，逢八进一，从起始值往下算。以下面的代码为例子。</p> <div class="language- extra-class"><pre class="language-text"><code>Offset (0x04),
	CMCM,   8, // 0x04
	CMD1,   8, // 0x05=0x04+1（8位是1字节）
	CMD2,   8, // 0x06
	CMD3,   8, // 0x07
	Offset (0x18), // 这里空了一些，按开头所给出的偏移量计算
	Offset (0x19),
	SMST,   8, // 0x19
	MBMN,   80, // 0x1A
	MBPN,   96, // 0x25=0x1A（上一个的起始地址）+A（80/8=10，上一个占了10个字节，16进制表示即为A）+1
	GPB1,   8, // 0x32=0x25+C（96位占了12个字节，16进制表示即为C）+1
	GPB2,   8, // 0x33
	GPB3,   8, // 0x34
	GPB4,   8, // 0x35
</code></pre></div><p>搜索DSDT中该字段被调用的地方。不同于16/32位字段的处理，超过32位的字段只需用偏移量和该字段位数代替字段本身。</p> <p>若所替换字段挨着左括号，以<code>Store(MBMN, XXXX)</code>改为<code>Store(RECB(0x1A, 80), XXXX)</code>为例，利用下列正则表达式进行替换，Patch即可。</p> <div class="language- extra-class"><pre class="language-text"><code>into method label XXXX code_regex \(SBMN, replaceall_matched begin (RECB(0xA0,128), end;
</code></pre></div><p>相关含义解释如下，内容均根据自己的DSDT代码替换。</p> <table><thead><tr><th>内容</th> <th>含义</th></tr></thead> <tbody><tr><td>XXXX</td> <td>代码对应的method</td></tr> <tr><td><code>\(SBMN,</code></td> <td>替换前的字段</td></tr> <tr><td>(RECB(0xA0,128),</td> <td>替换后的字段，其中0xA0为所计算出来的偏移量，128为位数</td></tr></tbody></table> <p>若所替换字段挨着右括号，以<code>Store (Arg3, \_SB.PCI0.LPCB.EC0.SMD0)</code>改为<code>Store (Arg3, \_SB.PCI0.LPCB.EC0.WECB(0x1C,264,Arg3)</code>为例，则利用下列正则表达式进行替换。</p> <div class="language- extra-class"><pre class="language-text"><code>into method label SMRW code_regex Store\s\(Arg3,\s\\_SB.PCI0.LPCB.EC0.SMD0\) replaceall_matched begin \\_SB.PCI0.LPCB.EC0.WECB(0x1C,264,Arg3) end;
</code></pre></div><h5 id="应用修改"><a href="#应用修改" class="header-anchor">#</a> 应用修改</h5> <p>再次点击Compile，确认无Error后，点击菜单File-Save As，类型选ACPI Machine Language Binary，名称为DSDT.aml。保存后复制到CLOVER/ACPI/patched，重启即可。</p> <h4 id="说明"><a href="#说明" class="header-anchor">#</a> 说明</h4> <h5 id="正则表达式写法"><a href="#正则表达式写法" class="header-anchor">#</a> 正则表达式写法</h5> <p>16位和32位的区别在于，16位会调用B1B2方法，而32位会调用B1B4方法。因此正则表达式的基本格式如下。</p> <div class="language- extra-class"><pre class="language-text"><code>// 16位字段
into method label [代码对应method] code_regex [替换前的字段，需要包含逗号] replaceall_matched begin (B1B2[替换后的字段，需要包含逗号] end;

// 32位字段
into method label [代码对应method] code_regex [替换前的字段，需要包含逗号] replaceall_matched begin (B1B4[替换后的字段，需要包含逗号] end;

// 特殊字段的处理（把整个地址复制进去即可）
B1B2(特殊字段1，特殊字段2)
B1B4(特殊字段1，特殊字段2，特殊字段3，特殊字段4)
</code></pre></div><h5 id="补丁结构"><a href="#补丁结构" class="header-anchor">#</a> 补丁结构</h5> <p>将前面所有Patch过的代码放到一起，即称为本机的电量补丁，示例如下。</p> <p>注意，前面所有通过正则表达式的操作，其实可以直接在原文件上修改，而不必通过Patch的方式。通过Patch方式主要是便于补丁整合与传播。</p> <div class="language- extra-class"><pre class="language-text"><code>// 字段拆分
into device label EC0 code_regex B0C3,\s+16, replace_matched begin C3HG,8,C3HF,8, end;
into device label EC0 code_regex B0SN,\s+16, replace_matched begin BSVN,8,BSVM,8, end;
into device label EC0 code_regex B1SN,\s+16 replace_matched begin SBUY,8,SBUP,8 end;

// 替换调用方法
into method label _BIX code_regex \(B0C3, replaceall_matched begin (B1B2(C3HG,C3HF), end;
into method label BIFA code_regex \(B0SN, replaceall_matched begin (B1B2(BSVN,BSVM), end;
into method label BIFA code_regex \(B1SN, replaceall_matched begin (B1B2(SBUY,SBUP), end;

// 数据处理方法
into method label B1B2 remove_entry;
into definitionblock code_regex . insert
begin
Method (B1B2, 2, NotSerialized)\n
{\n
Return(Or(Arg0, ShiftLeft(Arg1, 8)))\n
}\n
end;
</code></pre></div><h5 id="mutex置零检查及修复"><a href="#mutex置零检查及修复" class="header-anchor">#</a> Mutex置零检查及修复</h5> <h6 id="检查"><a href="#检查" class="header-anchor">#</a> 检查</h6> <p>有些机器的Mutex（互斥体，用于处理多线程同步）对象的SyncLevel（同步等级）不为0，这种情况下macOS无法正常执行多线程同步，造成的结果是电池状态等可能无法获取（如果电池相关的Method处于不同的同步等级，在macOS下会造成数据获取的异常，出现0%的情况），此时应打上Mutex置0补丁来解决。</p> <p>绝大多数笔记本ACPI的Mutex都是默认置0的，但是一些联想品牌的笔记本往往有几个Mutex的SyncLevel并不是0。因此，在完成电池补丁后应检查Mutex是否属于这种情况。</p> <p>在DSDT中搜索Mutex，看出现的几个对象的SyncLevel是否为0即可。</p> <h6 id="修复"><a href="#修复" class="header-anchor">#</a> 修复</h6> <p>可通过ACPI更名的方式。以Mutex (BATM, 0x07)为例，先转换BATM为十六进制代码，得到42 41 54 4D。在前后加上完整定义的十六进制代码，最终得到01 42 41 54 4D 07，其中01代表Mutex，07代表SyncLevel的0x07。目的是使Mutex对象置0，因此更名如下。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: Set Mutex BATM, 0x07 to 0x0
Find: 01424154 4D07
Repalce: 01424154 4D00
</code></pre></div><p>也可通过Fix Mutex with non-zero SyncLevel补丁。打开MaciASL，点击Patch，在左侧资源树中选择<code>_RehabMan Laptop</code>-<code>[sys]Fix Mutex with non-zero SyncLevel</code>，点击Apply-Close即可。</p> <p>若没有该资源，则需要在偏好设置中添加补丁来源。常见补丁来源如下。</p> <div class="language- extra-class"><pre class="language-text"><code># _RehabMan Laptop
http://raw.github.com/RehabMan/Laptop-DSDT-Patch/master

# _OS-X-ACPI-Debug
http://raw.github.com/RehabMan/OS-X-ACPI-Debug/master

# _VoodooI2C-Patches
http://raw.github.com/alexandred/VoodooI2C-Patches/master

# Sourceforge
http://maciasl.sourceforge.net

# Gigabyte
http://maciasl.sourceforge.net/pjalm/gigabyte

# ASUS
http://maciasl.sourceforge.net/pjalm/asus

# Audio HDMI 5 Series
https://raw.github.com/toleda/audio_hdmi_5series/master

# Audio HDMI HD3000/Sandy Bridge/6 Series
https://raw.github.com/toleda/audio_hdmi_hd3000/master

# Audio HDMI HD4000/Ivy Bridge/7 Series
https://raw.github.com/toleda/audio_hdmi_hd4000/master

# Audio HDMI UEFI Audio dsdt edits - Desktop/Laptop/Intel NUC
https://raw.github.com/toleda/audio_hdmi_uefi/master

# Audio Realtek ALC injection
https://raw.github.com/toleda/audio_ALCInjection/master

# Airport PCIe Half Mini
https://raw.github.com/toleda/airport_pcie-hm/master

# Audio HDMI HD4600/Haswell/8 Series
https://raw.github.com/toleda/audio_hdmi_8series/master

# PJALM General
http://pjalm.info/repos/general/

# PJALM Graphics
http://pjalm.info/repos/graphics/

# PJALM Intel Series 6
http://pjalm.info/repos/intel6/

# PJALM Intel Series 7
http://pjalm.info/repos/intel7/

# PJALM ASUS
http://pjalm.info/repos/asus/

# PJALM Gigabyte
http://pjalm.info/repos/gigabyte/

# PJALM MSI
http://pjalm.info/repos/msi/

# PJALM ASRock
http://pjalm.info/repos/asrock/

# PJALM Zotac
http://pjalm.info/repos/zotac/

# Gigabyte
http://www.tonymacx86.com/DSDT/

# HP ProBook 4x30s
https://raw.githubusercontent.com/RehabMan/HP-ProBook-4x30s-DSDT-Patch/master
</code></pre></div><h3 id="触控板"><a href="#触控板" class="header-anchor">#</a> 触控板</h3> <p>以下的所有操作对软件版本均有要求。MaciASL需为RehabMan编译版，IORegistryExplorer需为2.1版本。</p> <h4 id="判断触控板类型"><a href="#判断触控板类型" class="header-anchor">#</a> 判断触控板类型</h4> <p>在Windows下打开设备管理器，若在人体学输入设备下存在I2C HID设备，则一般为I2C HID触摸板。查看触摸板设备的属性，若显示位置是<code>在 I2C HID设备 上</code>，则得证。否则触控板一般为PS2类型。</p> <h4 id="ps2触控板"><a href="#ps2触控板" class="header-anchor">#</a> PS2触控板</h4> <p>用VoodooPS2Controller.kext驱动即可。</p> <h4 id="i2c触控板"><a href="#i2c触控板" class="header-anchor">#</a> I2C触控板</h4> <h5 id="记录irq"><a href="#记录irq" class="header-anchor">#</a> 记录IRQ</h5> <p>在Windows下打开设备管理器，在<code>I2C HID设备</code>上右键选择属性，点击详细信息，选择<code>位置路径</code>并记录。然后切换到资源选项卡，记录IRQ后面的数字，该数字代表的是APIC Pin。本机示例如下。</p> <div class="language- extra-class"><pre class="language-text"><code>// IRQ
0x0000006D (109)

// 位置路径，其中ETPD为触控板BIOS名称
ACPI(_SB_)#ACPI(PCI0)#ACPI(I2C1)#ACPI(ETPD)
</code></pre></div><p>也可在Mac下查看APIC Pin。打开IORegistryExplorer，右上角搜索触控板BIOS名称，本机即为ETPD，在详细页中记录IOInterruptSpecifiers的值即可。</p> <h5 id="确定工作原理"><a href="#确定工作原理" class="header-anchor">#</a> 确定工作原理</h5> <p>I2C触控板均用VoodooI2C驱动，支持轮询模式或中断模式。</p> <p>轮询模式是Voodoo的安全模式，每隔一个特定的时间扫描一次触摸板的状态，然后改变鼠标指针坐标。中断模式是触摸板在Windows/Linux等其他系统的正常工作方式。</p> <p>在DSDT中定义如下。</p> <table><thead><tr><th>定义</th> <th>含义</th> <th>适用范围</th> <th>效率</th> <th>驱动难度</th></tr></thead> <tbody><tr><td>APIC中断</td> <td>使用APIC控制器</td> <td>无IOInterruptSpecifier，或APIC Pin&lt;2F</td> <td>最高</td> <td>能否以该模式驱动由硬件决定</td></tr> <tr><td>GPIO中断</td> <td>DSDT在SBFG中存在有效GPIO Pin，CRS方法中返回(SBFB,SBFG)，并应用启用GPIO控制器的补丁</td> <td>有IOInterruptSpecifier且APIC Pin&gt;2F</td> <td>较高</td> <td>较难</td></tr> <tr><td>轮询</td> <td>CRS方法中只返回SBFB或者(SBFB,SBFI)</td> <td>/</td> <td>较低</td> <td>较易</td></tr></tbody></table> <p>也就是说，对于原始DSDT，以APIC Pin为判断依据，若小于2F则默认使用APIC中断，若大于2F则默认使用GPIO控制器。但由于GPIO控制器默认不工作，因此系统会采用轮询模式，如下图所示。</p> <p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9j9syjzgdj30jg0m8jst.jpg" alt=""></p> <details><summary>【进阶】DSDT中的相关代码</summary> <p>找到触摸板的相关代码后，查看SBFI方法，该方法用于实现APIC中断。该方法中的数值即为APIC Pin，当APIC Pin大于2F时，可判断为轮询模式。</p> <div class="language- extra-class"><pre class="language-text"><code>Name (SBFI, ResourceTemplate ()
{
    Interrupt (ResourceConsumer, Level, ActiveLow, ExclusiveAndWake, ,, _Y25)
    {
        0x00000000,
    }
})
</code></pre></div><p>查看SBFB方法，该方法可被轮询或中断调用。部分DSDT中不含SBFB而含I2CM，两者基本一致，I2CM相比SBFB具有更多的内容。</p> <div class="language- extra-class"><pre class="language-text"><code>Name (SBFB, ResourceTemplate ()
{
    I2cSerialBusV2 (0x004C, ControllerInitiated, 0x00061A80,
        AddressingMode7Bit, &quot;\\_SB.PCI0.I2C1&quot;,
        0x00, ResourceConsumer, _Y2A, Exclusive,
        )
})
</code></pre></div><p>查看SBFG方法，该方法中的数值即为GpioInt，用于中断处理。</p> <div class="language- extra-class"><pre class="language-text"><code>Name (SBFG, ResourceTemplate ()
{
    GpioInt (Level, ActiveLow, ExclusiveAndWake, PullDefault, 0x0000,
        &quot;\\_SB.PCI0.GPI0&quot;, 0x00, ResourceConsumer, ,
        )
        {   // Pin list
            0x0000
        }
})
</code></pre></div></details> <h5 id="轮询模式驱动"><a href="#轮询模式驱动" class="header-anchor">#</a> 轮询模式驱动</h5> <p>下载VoodooI2C，按照以下规则将驱动放入Clover的kexts中（一个核心驱动+一个目标驱动）并重启。</p> <div class="language- extra-class"><pre class="language-text"><code># 必放核心驱动
VoodooI2C.kext

# 根据情况选择目标驱动
VoodooI2CELAN.kext - ELAN触摸板
VoodooI2CHID.kext - I2C触摸板
VoodooI2CFTE.kext - FTE触摸板
VoodooI2CSynaptics.kext - Synaptics触摸板
VoodooI2CAtmelMXT.kext - MXT触摸屏
VoodooI2CUPDDEngine.kext - UPDD多点触控引擎
</code></pre></div><p>对于小部分机型（如华硕笔记本），触控板已被驱动。若未被驱动，则需要对DSDT应用<code>Windows补丁</code>，根据出厂时随附的操作系统应用对应的补丁，一般用Windows 10 Patch。</p> <details><summary>【非必要不使用】操作系统补丁</summary> <p>以下方法选择一种即可。</p> <p>DSDT修改法如下。</p> <p>打开MaciASL，保证有VoodooI2C的补丁源。点击Patch，选择VoodooI2C下的<code>Windows 10 Patch</code>补丁，Apply-Close后保存DSDT，并将新的DSDT放入Clover文件夹的ACPI/patched下即可。</p> <p>若MaciASL无法加载出补丁源，可直接在Patch界面复制以下代码内容。根据操作系统自行选择。</p> <div class="language- extra-class"><pre class="language-text"><code># Windows 10 DSDT Patch for VoodooI2C
into_all method code_regex If\s+\([\\]?_OSI\s+\(\&quot;Windows\s2015\&quot;\)\) replace_matched begin If(LOr(_OSI(&quot;Darwin&quot;),_OSI(&quot;Windows 2015&quot;))) end;

# Windows 8.1 DSDT Patch for VoodooI2C
into_all method code_regex If\s+\([\\]?_OSI\s+\(\&quot;Windows\s2013\&quot;\)\) replace_matched begin If(LOr(_OSI(&quot;Darwin&quot;),_OSI(&quot;Windows 2013&quot;))) end;

# Windows 8 DSDT Patch for VoodooI2C
into_all method code_regex If\s+\([\\]?_OSI\s+\(\&quot;Windows\s2012\&quot;\)\) replace_matched begin If(LOr(_OSI(&quot;Darwin&quot;),_OSI(&quot;Windows 2012&quot;))) end;

# Windows 7 DSDT Patch for VoodooI2C
into_all method code_regex If\s+\([\\]?_OSI\s+\(\&quot;Windows\s2009\&quot;\)\) replace_matched begin If(LOr(_OSI(&quot;Darwin&quot;),_OSI(&quot;Windows 2009&quot;))) end;
</code></pre></div><p>SSDT热补丁法如下。</p> <p>打开MaciASL，新建文件并复制以下内容，保存为SSDT-XOSI.aml。</p> <div class="language- extra-class"><pre class="language-text"><code>DefinitionBlock (&quot;&quot;, &quot;SSDT&quot;, 2, &quot;DRTNIA&quot;, &quot;XOSI&quot;, 0x00001000)
{
    Method (XOSI, 1, NotSerialized)
    {
        Store (Package (0x11)
            {
                &quot;Windows 2001&quot;, 
                &quot;Windows 2001.1&quot;, 
                &quot;Windows 2001 SP1&quot;, 
                &quot;Windows 2001 SP2&quot;, 
                &quot;Windows 2001 SP3&quot;, 
                &quot;Windows 2006&quot;, 
                &quot;Windows 2006 SP1&quot;, 
                &quot;Windows 2009&quot;, 
                &quot;Windows 2012&quot;, 
                &quot;Windows 2013&quot;, 
                &quot;Microsoft Windows NT&quot;, 
                &quot;Microsoft Windows&quot;, 
                &quot;Microsoft WindowsME: Millennium Edition&quot;
            }, Local0)
        If (_OSI (&quot;Darwin&quot;))
        {
            Return (LNotEqual (Ones, Match (Local0, MEQ, Arg0, MTR, Zero, Zero)))
        }
        Else
        {
            Return (_OSI (Arg0))
        }
    }
}
</code></pre></div><p>将SSDT-XOSI.aml放置在Clover文件夹的ACPI/patched目录下，然后在config.plist下添加以下改名补丁即可。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: change _OSI to XOSI
Find: 5F4F5349
Replace: 584F5349
</code></pre></div></details> <h5 id="中断模式驱动"><a href="#中断模式驱动" class="header-anchor">#</a> 中断模式驱动</h5> <h6 id="查看apic-pin值"><a href="#查看apic-pin值" class="header-anchor">#</a> 查看APIC Pin值</h6> <p>不放置VoodooI2C驱动，并应用Windows补丁。打开IORegistryExplorer，搜索前面保存的BIOS设备名称，然后定位到<code>IOInterruptSpecifiers</code>，最前面的两位数即为<code>APIC Pin</code>值。</p> <p>若无IOInterruptSpecifiers项或APIC Pin值不大于<code>2F</code>，则直接跳到安装步骤，否则继续下列步骤。</p> <h6 id="移除apic中断控制器"><a href="#移除apic中断控制器" class="header-anchor">#</a> 移除APIC中断控制器</h6> <p>用MaciASL打开设备的DSDT，搜索<code>BIOS设备名称</code>（此处为ETPD），定位到触控板设备的代码块下。注意，以下操作全部在触控板设备的代码块下进行，请勿跳到其他设备下的代码操作。</p> <p>在触控板设备的代码块下寻找类似以下的代码。</p> <div class="language- extra-class"><pre class="language-text"><code>Method (_CRS, 0, Serialized)  // _CRS: Current Resource Settings
{
    Name (SBFI, ResourceTemplate ()
    {
        I2cSerialBusV2 (0x0015, ControllerInitiated, 0x00061A80,
            AddressingMode7Bit, &quot;\\_SB.PCI0.I2C1&quot;,
            0x00, ResourceConsumer, , Exclusive,
            )
        Interrupt (ResourceConsumer, Level, ActiveLow, Exclusive, ,, )
        {
            0x0000006D,
        }
    })
    Return (SBFI)
}
</code></pre></div><p>在此段代码中，需将<code>SBFI</code>改为<code>SBFB</code>，并删除以下内容。</p> <div class="language- extra-class"><pre class="language-text"><code>Interrupt (ResourceConsumer, Level, ActiveLow, Exclusive, ,, )
{
    0x0000006D,
}
</code></pre></div><p>以上面代码为例，修改后变为如下。</p> <div class="language- extra-class"><pre class="language-text"><code>Method (_CRS, 0, Serialized)  // _CRS: Current Resource Settings
{
    Name (SBFB, ResourceTemplate ()
    {
        I2cSerialBusV2 (0x0015, ControllerInitiated, 0x00061A80,
            AddressingMode7Bit, &quot;\\_SB.PCI0.I2C1&quot;,
            0x00, ResourceConsumer, , Exclusive,
            )
        })
        Return (SBFB)
}
</code></pre></div><h6 id="确定触控板固定类型"><a href="#确定触控板固定类型" class="header-anchor">#</a> 确定触控板固定类型</h6> <p>在触控板的DSDT下寻找以下代码块。</p> <div class="language- extra-class"><pre class="language-text"><code>Name (SBFG, ResourceTemplate ()
{
    GpioInt (Level, ActiveLow, ExclusiveAndWake, PullDefault, 0x0000,
        &quot;\\_SB.PCI0.GPI0&quot;, 0x00, ResourceConsumer, ,
        )
        {   // Pin list
            0x0000
        }
})
</code></pre></div><p>若此段代码出现在设备的根目录，则称为触控板设备已经<code>root固定</code>。若出现在CRS方法中，则称为触控板设备已经<code>CRS固定</code>。如果Pin list对应非零值，称为<code>well-root固定</code>和<code>well-CRS固定</code>。若此段代码未出现，则称为触控板设备<code>未固定</code>。</p> <p>若未固定，则先将以上代码段复制到设备根目录下，示例如下。复制完成后跳到GPIO固定步骤。</p> <div class="language- extra-class"><pre class="language-text"><code>Scope (_SB.PCI0.I2C0)
{
       Device (ETPD)
       {
           Name (SBFG, ResourceTemplate ()
           {
                GpioInt (Level, ActiveLow, Exclusive, PullUp, 0x0000,
                        &quot;\\_SB.PCI0.GPI0&quot;, 0x00, ResourceConsumer, ,
                        )
                        {   // Pin list
                            0x0000
                        }
           })
           ......
</code></pre></div><p>若为root固定或CRS固定，需在触控板代码块下查找<code>_CRS</code>方法，并确定以下代码是否存在。若存在，则证明设备已固定好，可直接跳到安装步骤，否则需继续GPIO固定步骤。</p> <div class="language- extra-class"><pre class="language-text"><code>Return (ConcatenateResTemplate (SBFB, SBFG))
</code></pre></div><p>若为well-root固定或well-CRS固定，则直接跳到安装步骤。</p> <h6 id="gpio固定"><a href="#gpio固定" class="header-anchor">#</a> GPIO固定</h6> <p>定位到代码块的_CRS方法，删除此方法的Return语句并用以下Return语句替换，以确保DSDT通知系统设备已固定好GPIO。</p> <div class="language- extra-class"><pre class="language-text"><code>Return (ConcatenateResTemplate (SBFB, SBFG))
</code></pre></div><h6 id="驱动安装"><a href="#驱动安装" class="header-anchor">#</a> 驱动安装</h6> <p>驱动的安装包括驱动放置、禁用系统驱动、应用补丁，其中放置驱动操作与轮询模式完全一致。对于系统驱动，需禁用AppleIntelLpssI2C.kext和AppleIntelLpssI2CController.kext，方法见说明。应用补丁需应用Windows补丁和GPIO补丁。</p> <p>Windows补丁的应用与轮询模式完全一致，GPIO补丁的应用提供以下两种形式。</p> <h6 id="热补丁法应用gpio补丁"><a href="#热补丁法应用gpio补丁" class="header-anchor">#</a> 热补丁法应用GPIO补丁</h6> <p>在OC-little包中取<code>SSDT-GPIO.aml</code>并放置在Clover文件夹的ACPI/patched目录下，然后在config.plist下添加以下改名补丁即可。注意，在补丁无效时，可尝试删除<code>Tgtbridge</code>值。</p> <div class="language- extra-class"><pre class="language-text"><code>Comment: change _STA to XSTA in GPI0 
Find: 5F535441
Replace: 58535441
TgtBridge: 47504930
</code></pre></div><h6 id="dsdt修改法应用gpio补丁"><a href="#dsdt修改法应用gpio补丁" class="header-anchor">#</a> DSDT修改法应用GPIO补丁</h6> <p>在MaciASL下点击Patch，选择VoodooI2C下的<code>GPIO Controller</code>和<code>SKL I2C Controller</code>补丁，Apply-Close后保存DSDT，并将新的DSDT放入Clover文件夹的ACPI/patched下即可。</p> <p>若MaciASL无法加载出补丁源，可直接在Patch界面复制以下代码内容。</p> <div class="language- extra-class"><pre class="language-text"><code>// GPI0 Controller
into method label _STA parent_label GPI0 replace_content begin
Return (0x0F)
end;


// Skylake controller patches for VoodooI2C
into_all device label I2C0 remove_entry;
into_all device label I2C1 remove_entry;
into_all device label I2C2 remove_entry;
into_all device label I2C3 remove_entry;
into_all device label I2C4 remove_entry;
into_all device label I2C5 remove_entry;

into scope label _SB.PCI0 insert begin

Device (I2C0)\n
{\n
    Name (LINK, &quot;\\_SB.PCI0.I2C0&quot;)\n
    Method (_PSC, 0, NotSerialized)  // _PSC: Power State Current\n
    {\n
        Return (GETD (SB10))\n
    }\n
\n
    Method (_PS0, 0, NotSerialized)  // _PS0: Power State 0\n
    {\n
        LPD0 (SB10)\n
    }\n
\n
    Method (_PS3, 0, NotSerialized)  // _PS3: Power State 3\n
    {\n
        LPD3 (SB10)\n
    }\n
}\n
\n\n
Device (I2C1)\n
{\n
    Name (LINK, &quot;\\_SB.PCI0.I2C1&quot;)\n
    Method (_PSC, 0, NotSerialized)  // _PSC: Power State Current\n
    {\n
        Return (GETD (SB11))\n
    }\n
\n
    Method (_PS0, 0, NotSerialized)  // _PS0: Power State 0\n
    {\n
        LPD0 (SB11)\n
    }\n
\n
    Method (_PS3, 0, NotSerialized)  // _PS3: Power State 3\n
    {\n
        LPD3 (SB11)\n
    }\n
}\n
\n\n
Device (I2C2)\n
{\n
    Name (LINK, &quot;\\_SB.PCI0.I2C2&quot;)\n
    Method (_PSC, 0, NotSerialized)  // _PSC: Power State Current\n
    {\n
        Return (GETD (SB12))\n
    }\n
\n
    Method (_PS0, 0, NotSerialized)  // _PS0: Power State 0\n
    {\n
        LPD0 (SB12)\n
    }\n
\n
    Method (_PS3, 0, NotSerialized)  // _PS3: Power State 3\n
    {\n
        LPD3 (SB12)\n
    }\n
}\n
\n\n
Device (I2C3)\n
{\n
    Name (LINK, &quot;\\_SB.PCI0.I2C3&quot;)\n
    Method (_PSC, 0, NotSerialized)  // _PSC: Power State Current\n
    {\n
        Return (GETD (SB13))\n
    }\n
\n
    Method (_PS0, 0, NotSerialized)  // _PS0: Power State 0\n
    {\n
        LPD0 (SB13)\n
    }\n
\n
    Method (_PS3, 0, NotSerialized)  // _PS3: Power State 3\n
    {\n
        LPD3 (SB13)\n
    }\n
}\n
\n
Device (I2C4)\n
{\n
    Name (LINK, &quot;\\_SB.PCI0.I2C4&quot;)\n
    Method (_PSC, 0, NotSerialized)  // _PSC: Power State Current\n
    {\n
        Return (GETD (SB14))\n
    }\n
\n
    Method (_PS0, 0, NotSerialized)  // _PS0: Power State 0\n
    {\n
        LPD0 (SB14)\n
    }\n
\n
    Method (_PS3, 0, NotSerialized)  // _PS3: Power State 3\n
    {\n
        LPD3 (SB14)\n
    }\n
}\n
\n
Device (I2C5)\n
{\n
    Name (LINK, &quot;\\_SB.PCI0.I2C5&quot;)\n
    Method (_PSC, 0, NotSerialized)  // _PSC: Power State Current\n
    {\n
        Return (GETD (SB15))\n
    }\n
\n
    Method (_PS0, 0, NotSerialized)  // _PS0: Power State 0\n
    {\n
        LPD0 (SB15)\n
    }\n
\n
    Method (_PS3, 0, NotSerialized)  // _PS3: Power State 3\n
    {\n
        LPD3 (SB15)\n
    }\n
}\n
\n
end;

into scope label _SB.PCI0.I2C0 replace_content begin

    Name (_HID, &quot;INT3442&quot;)  // _HID: Hardware ID\n
    Method (_HRV, 0, NotSerialized)  // _HRV: Hardware Revision\n
    {\n
        Return (LHRV (SB10))\n
    }\n
\n
    Method (_CRS, 0, NotSerialized)  // _CRS: Current Resource Settings\n
    {\n
        Return (LCRS (SMD0, SB00, SIR0))\n
    }\n
\n
    Method (_STA, 0, NotSerialized)  // _STA: Status\n
    {\n
        Return (LSTA (SMD0))\n
    }\n
}\n
end;

into scope label _SB.PCI0.I2C1 replace_content begin

    Name (_HID, &quot;INT3443&quot;)  // _HID: Hardware ID\n
    Method (_HRV, 0, NotSerialized)  // _HRV: Hardware Revision\n
    {\n
        Return (LHRV (SB11))\n
    }\n
\n
    Method (_CRS, 0, NotSerialized)  // _CRS: Current Resource Settings\n
    {\n
        Return (LCRS (SMD1, SB01, SIR1))\n
    }\n
\n
    Method (_STA, 0, NotSerialized)  // _STA: Status\n
    {\n
        Return (LSTA (SMD1))\n
    }\n
}\n
end;

into scope label _SB.PCI0.I2C2 replace_content begin

    Name (_HID, &quot;INT3444&quot;)  // _HID: Hardware ID\n
    Method (_HRV, 0, NotSerialized)  // _HRV: Hardware Revision\n
    {\n
        Return (LHRV (SB12))\n
    }\n
\n
    Method (_CRS, 0, NotSerialized)  // _CRS: Current Resource Settings\n
    {\n
        Return (LCRS (SMD2, SB02, SIR2))\n
    }\n
\n
    Method (_STA, 0, NotSerialized)  // _STA: Status\n
    {\n
        Return (LSTA (SMD2))\n
    }\n
}\n
end;
into scope label _SB.PCI0.I2C3 replace_content begin

    Name (_HID, &quot;INT3445&quot;)  // _HID: Hardware ID\n
    Method (_HRV, 0, NotSerialized)  // _HRV: Hardware Revision\n
    {\n
        Return (LHRV (SB13))\n
    }\n
\n
    Method (_CRS, 0, NotSerialized)  // _CRS: Current Resource Settings\n
    {\n
        Return (LCRS (SMD3, SB03, SIR3))\n
    }\n
\n
    Method (_STA, 0, NotSerialized)  // _STA: Status\n
    {\n
        Return (LSTA (SMD3))\n
    }\n
}\n
end;

into scope label _SB.PCI0.I2C4 replace_content begin

    Name (_HID, &quot;INT3446&quot;)  // _HID: Hardware ID\n
    Method (_HRV, 0, NotSerialized)  // _HRV: Hardware Revision\n
    {\n
        Return (LHRV (SB14))\n
    }\n
\n
    Method (_CRS, 0, NotSerialized)  // _CRS: Current Resource Settings\n
    {\n
        Return (LCRS (SMD4, SB04, SIR4))\n
    }\n
\n
    Method (_STA, 0, NotSerialized)  // _STA: Status\n
    {\n
        Return (LSTA (SMD4))\n
    }\n
}\n
end;

into scope label _SB.PCI0.I2C5 replace_content begin

    Name (_HID, &quot;INT3447&quot;)  // _HID: Hardware ID\n
    Method (_HRV, 0, NotSerialized)  // _HRV: Hardware Revision\n
    {\n
        Return (LHRV (SB15))\n
    }\n
\n
    Method (_CRS, 0, NotSerialized)  // _CRS: Current Resource Settings\n
    {\n
        Return (LCRS (SMD5, SB05, SIR5))\n
    }\n
\n
    Method (_STA, 0, NotSerialized)  // _STA: Status\n
    {\n
        Return (LSTA (SMD5))\n
    }\n
}\n
end;
</code></pre></div><h6 id="确认驱动情况"><a href="#确认驱动情况" class="header-anchor">#</a> 确认驱动情况</h6> <p>所有步骤完成后重启。若触控板未驱动或开机卡Busy timeout，则考虑更换不同的Pin list值。</p> <p>对于本机而言，APIC Pin值为0x6D。</p> <h5 id="特殊处理"><a href="#特殊处理" class="header-anchor">#</a> 特殊处理</h5> <h6 id="华硕笔记本"><a href="#华硕笔记本" class="header-anchor">#</a> 华硕笔记本</h6> <p>华硕笔记本的DSDT会有一个TPD0设备，该设备具有GPIO中断的模板，但并不是真实的设备。应当修补ETPD设备。</p> <h6 id="三星笔记本"><a href="#三星笔记本" class="header-anchor">#</a> 三星笔记本</h6> <p>使用轮询模式驱动时，需在应用补丁的同时在DSDT的以下代码中删除<code>If (_OSI (&quot;Windows 2012&quot;)) {</code>及对应的<code>}</code>，如下。</p> <div class="language- extra-class"><pre class="language-text"><code>If (_OSI (&quot;Windows 2012&quot;))
{
    Scope (_SB.PCI0.I2C0.SPTP)
    {
    }

    Scope (_GPE)
    {
        Method (_L04, 0, NotSerialized)  // _Lxx: Level-Triggered GPE
        {
            Notify (\_SB.PCI0.I2C0.SPTP, 0x02)
            Notify (\_SB.PWRB, 0x02)
        }
    }

    Scope (_SB.PCI0.I2C0.ATFU)
    {
        Method (_CRS, 0, NotSerialized)  // _CRS: Current Resource Settings
        {
            Name (SBFB, ResourceTemplate ()
            {
                I2cSerialBusV2 (0x0026, ControllerInitiated, 0x00061A80,
                    AddressingMode7Bit, &quot;\\_SB.PCI0.I2C0&quot;,
                    0x00, ResourceConsumer, , Exclusive,
                    )
                I2cSerialBusV2 (0x0027, ControllerInitiated, 0x00061A80,
                    AddressingMode7Bit, &quot;\\_SB.PCI0.I2C0&quot;,
                    0x00, ResourceConsumer, , Exclusive,
                    )
            })
            Return (SBFB)
        }
    }
}
</code></pre></div><p>若仍未解决，则在DSDT中进入设备SPTP的_INI方法，搜索以下代码并将其内容更改为<code>SHPO (Local0, One)</code>，如下。</p> <div class="language- extra-class"><pre class="language-text"><code>If (LEqual (SDM0, Zero))
{
    SHPO (Local0, One)
}
</code></pre></div><h4 id="其它-2"><a href="#其它-2" class="header-anchor">#</a> 其它</h4> <p>对于Thinkpad T480s/L380/P52的I2C-I801设备，可用VoodooSMBus。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/VoodooSMBus/VoodooSMBus
</code></pre></div><p>对于Synaptic的I2C HID/SMBus触控板，可用VoodooRMI。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/VoodooSMBus/VoodooRMI
</code></pre></div><p>对于Alps T4 USB触摸板，可用AlpsT4USB。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/blankmac/AlpsT4USB
</code></pre></div><h3 id="touchid"><a href="#touchid" class="header-anchor">#</a> TouchID</h3> <p>笔记本的指纹传感器一般都无法被驱动。但由于SMBIOS设置的机型具有TouchID，因此在输入密码或进行认证时，系统会等待指纹的反馈，导致键盘输入卡顿。</p> <p>在Clover的kexts文件夹下放置<code>NoTouchID.kext</code>，重启后即可修复。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/al3xtjames/NoTouchID/releases
</code></pre></div><h2 id="smbios设置"><a href="#smbios设置" class="header-anchor">#</a> SMBIOS设置</h2> <p>正确设置SMBIOS并注入正确的三码，可开启HWP功能，并正常登录iCloud等苹果服务。系统的SMBIOS支持列表可在安装盘的/System/Library/CoreServices/PlatformSupport.plist查看。</p> <p>打开终端并输入以下命令以查询支持HWP的机型，在输出内容中选择台式机机型或笔记本机型。注意需挑选带HWP字样的机型，且尽可能选最新的机型，2017年及以后机型支持Sidebar功能。若机型为Unknown，可用搜索引擎搜索其代码以确认机型。</p> <div class="language- extra-class"><pre class="language-text"><code>cd /tmp &amp;&amp; curl -s https://raw.githubusercontent.com/Piker-Alpha/freqVectorsEdit.sh/master/freqVectorsEdit.sh &gt; /tmp/freqVectorsEdit.sh &amp;&amp; chmod +x freqVectorsEdit.sh &amp;&amp; /tmp/freqVectorsEdit.sh &amp;&amp; sudo rm -rf /tmp/freqVectorsEdit.sh &amp;&amp; sudo rm -rf /tmp/Mac-*.bin
</code></pre></div><p>正常登录iCloud等苹果服务，需本机的NVRAM正常工作。部分主板需Clover的Drivers64UEFI文件夹中有<code>EmuVariableUefi-64.efi</code>才可使NVRAM正常工作。</p> <p>打开Clover的config.plist，选择左侧SMBIOS，使用右侧上下箭头选择上面所确定的机型。也可通过GenSMBIOS生成SMBIOS。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/corpnewt/GenSMBIOS
</code></pre></div><p>前往以下网站（需要翻墙环境），复制Clover中的Serial Number到文本框进行查询。若出现具体机型，则说明此序列号可用。若提示无效，则此序列码不可使用，需点击Generate New生成新的Serial Number。</p> <div class="language- extra-class"><pre class="language-text"><code>https://everymac.com/ultimate-mac-lookup/ 
</code></pre></div><p>前往以下Apple官网查询序列号。如果显示有购买日期和机型等保修信息，则此序列码不可使用，需返回Clover生成新的Serial Number。直到出现提示<code>很抱歉，这个序列号无效。请检查您的信息并再试一次</code>，则可使用。</p> <div class="language- extra-class"><pre class="language-text"><code>https://checkcoverage.apple.com/cn/zh
</code></pre></div><p>点击左侧System Parameters，生成一个UUID，系统生成或随机生成都可以，并勾选Inject System ID。复制生成的UUID到SMBIOS的SmUUID里，复制SMBIOS里的Board Serial Numbe到Rt VariablesMLB里。点击获取ROM，确保下方三码正常匹配，退出并重启。</p> <p>重启后打开Hackintool，转到工具选项卡，点击Intel图标，在工具输出中查看enableHWP的值，若为1则已成功开启HWP。同时，iCloud、iMassage、FaceTime应已可正常登录。</p> <p>若出现问题，可打开iMessageDebug提取Mac的三码，查看MLB和ROM是否正常显示。若为Failed，则应在Clover中加上EmuVariableUefi-64.efi。若正常显示，可把结果保存，重启电脑后再打开iMessageDebug，若两次结果一致，则黑苹果已成功洗白。</p> <h2 id="cpu"><a href="#cpu" class="header-anchor">#</a> CPU</h2> <h3 id="变频"><a href="#变频" class="header-anchor">#</a> 变频</h3> <h4 id="通过一键脚本"><a href="#通过一键脚本" class="header-anchor">#</a> 通过一键脚本</h4> <p>在终端下输入以下命令以执行一键CPU变频脚本。</p> <div class="language- extra-class"><pre class="language-text"><code>bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/stevezhengshiqi/one-key-cpufriend/master/one-key-cpufriend_cn.sh)&quot;
</code></pre></div><p>完成后把桌面的CPUFriend.kext和CPUFriendDataProvider.kext放到Clover的kexts中即可。</p> <h4 id="通过kexts"><a href="#通过kexts" class="header-anchor">#</a> 通过kexts</h4> <p>放置CPUFriend.kext即可。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/CPUFriend
</code></pre></div><h3 id="锁屏"><a href="#锁屏" class="header-anchor">#</a> 锁屏</h3> <h4 id="通过clover-2"><a href="#通过clover-2" class="header-anchor">#</a> 通过Clover</h4> <p>打开Clover的配置文件，进入Cpu，开启HWPEnable和UseARTFrequency，并修改HWPValue为频率值，如i5 10400可设为002B2B2B，其中2B化为十进制为43，即4.3GHz，保存即可。</p> <p>HWPValue即为CPU的IA32_HWP_REQUEST寄存器，以002B2B2B为例说明如下。</p> <table><thead><tr><th>位置</th> <th>说明</th></tr></thead> <tbody><tr><td>00</td> <td>00代表高性能，94代表节能</td></tr> <tr><td>2B</td> <td></td></tr> <tr><td>2B</td> <td>最高频率（十六进制）</td></tr> <tr><td>2B</td> <td>最低频率（十六进制）</td></tr></tbody></table> <h4 id="通过kexts-2"><a href="#通过kexts-2" class="header-anchor">#</a> 通过kexts</h4> <p>下载HWPEnable.kext，修改HWPEnabler.kext/Contents/Info.plist中的HWPDeaultVal为频率值，同上。修改完成后放置到引导器即可。</p> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><h2 id="ssd配置"><a href="#ssd配置" class="header-anchor">#</a> SSD配置</h2> <h3 id="开启trim"><a href="#开启trim" class="header-anchor">#</a> 开启TRIM</h3> <p>在终端输入以下命令以打开TRIM。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo trimforce enable
</code></pre></div><p>若执行后TRIM仍未开启，则需要通过Clover打kext补丁。打开Clover的config.plist，选择Kernel and Kext Pathches-Kext Pathches，添加以下补丁。</p> <div class="language- extra-class"><pre class="language-text"><code>Name*: IOAHCIBlockStorage
Find*[HEX]: 4150504C452053534400 
Replace*[HEX]: 00000000000000000000 
</code></pre></div><h2 id="休眠相关"><a href="#休眠相关" class="header-anchor">#</a> 休眠相关</h2> <h3 id="打开"><a href="#打开" class="header-anchor">#</a> 打开</h3> <p>在终端输入以下命令，可打开Clover为黑苹果修补的休眠功能。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo pmset -a hibernatemode 29（或21）
</code></pre></div><p>在Clover的kexts文件夹放置HibernationFixup.kext，并在启动参数中加<code>-hbfxbeta</code>，即可实现hibernatemode 3休眠，下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/HibernationFixup
</code></pre></div><h3 id="关闭"><a href="#关闭" class="header-anchor">#</a> 关闭</h3> <h4 id="通过终端"><a href="#通过终端" class="header-anchor">#</a> 通过终端</h4> <p>在终端输入以下命令以禁止。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo pmset -a hibernatemode 0
sudo pmset -a autopoweroff 0
sudo pmset -a standby 0
sudo rm /var/vm/sleepimage
sudo mkdir /var/vm/sleepimage
</code></pre></div><p>如果合盖后遇到偶发性的随机唤醒，通过以下命令禁用proximitywake即可。以Thinkpad为例，合盖后随机唤醒指合盖后A面的红色指示灯开始闪烁，表示设备已经睡眠，但一会以后指示灯进入常亮，而开盖屏幕不会点亮的状态。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo pmset -a proximitywake 0
</code></pre></div><h4 id="通过hackintool-3"><a href="#通过hackintool-3" class="header-anchor">#</a> 通过Hackintool</h4> <p>在Hackintool里切换到<code>电源</code>选项卡，点击最下方的齿轮按钮即可。</p> <h3 id="修复休眠"><a href="#修复休眠" class="header-anchor">#</a> 修复休眠</h3> <p>若出现合盖后系统死机的问题，有可能是网卡导致。</p> <p>检查系统是否有两个有线网卡，一般为NullEthernet与有线网卡驱动共同使用造成的。若是，则删除NullEthernet后查看是否已经恢复正常。</p> <p>若无效，可在BIOS中关闭Wake On LAN。若仍无效，可尝试进行USB定制、检查显卡驱动是否正常、注入EDID并开启Hidpi。若仍无效，可尝试在启动参数中添加igfxonln=1。若仍无效，可尝试在Clover的配置文件勾选FixRTC。</p> <p>若无效，可尝试HibernationFixup。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/HibernationFixup
</code></pre></div><h3 id="修复睡眠后摄像头失效"><a href="#修复睡眠后摄像头失效" class="header-anchor">#</a> 修复睡眠后摄像头失效</h3> <p>在终端输入以下命令即可。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo killall VDCAssistant
</code></pre></div><h2 id="系统时间调整"><a href="#系统时间调整" class="header-anchor">#</a> 系统时间调整</h2> <p>Windows把系统硬件时间当作本地时间，即操作系统中显示的时间跟BIOS中显示的时间一致。而Linux/Mac把硬件时间当作UTC，操作系统中显示的时间是硬件时间经过换算得来的，比如说北京时间是 GMT+8，则系统中显示时间是硬件时间+8。因此两个系统的时间会出现差异。</p> <p>在Windows以管理员身份打开命令提示符，输入下列命令并重启以修复两个系统时间不一致的问题。</p> <div class="language- extra-class"><pre class="language-text"><code>Reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1
</code></pre></div><p>若仍不一致，则在Windows下修改时间为自动获取，在Mac下把时区改成北京并开启自动获取，重新启动即可。</p> <h2 id="完成度检查"><a href="#完成度检查" class="header-anchor">#</a> 完成度检查</h2> <p>对于笔记本，可通过以下选项进行完成度检查。</p> <h3 id="变频测试"><a href="#变频测试" class="header-anchor">#</a> 变频测试</h3> <p>使用CPU-S进行变频测试，二档可用，八档以上优秀。下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>http://bbs.pcbeta.com/viewthread-1698338-1-1.html
</code></pre></div><h3 id="显示"><a href="#显示" class="header-anchor">#</a> 显示</h3> <p>分辨率和显存显示正常，支持DP、HDMI外接显示，风扇不持续高速旋转，原生亮度调节正常。</p> <h3 id="声音"><a href="#声音" class="header-anchor">#</a> 声音</h3> <p>通过VoodooHDA能有声音则可用，通过AppleALC能有声音则优秀。</p> <h3 id="网络"><a href="#网络" class="header-anchor">#</a> 网络</h3> <p>以太网需位于en0，无线支持2.4G/5G双频。支持AirDrop和Handoff则优秀。</p> <h3 id="usb-2"><a href="#usb-2" class="header-anchor">#</a> USB</h3> <p>USB接口2.0/3.0/3.1均能识别，3.0及以上接口的识别速度应有5G/s。</p> <h3 id="电池-2"><a href="#电池-2" class="header-anchor">#</a> 电池</h3> <p>系统偏好设置正常识别电池电量状态。</p> <h3 id="睡眠"><a href="#睡眠" class="header-anchor">#</a> 睡眠</h3> <p>合盖睡眠，开盖唤醒后正常点亮不黑屏。</p> <h3 id="输入设备"><a href="#输入设备" class="header-anchor">#</a> 输入设备</h3> <p>自带键盘和触摸板都能正常使用。</p> <h3 id="固态硬盘"><a href="#固态硬盘" class="header-anchor">#</a> 固态硬盘</h3> <p>打开关于本机-系统报告，检查NVMExpress和SATA/SATA Express，均显示TRIM支持已开启则优秀。</p> <h1 id="常见问题-2"><a href="#常见问题-2" class="header-anchor">#</a> 常见问题</h1> <h2 id="系统安装"><a href="#系统安装" class="header-anchor">#</a> 系统安装</h2> <p>系统安装过程中，可通过打开安装器日志查看当前进度和所遇到的问题。</p> <h3 id="安装时停在verifying-installmacosx-pkg-installesd-dmg"><a href="#安装时停在verifying-installmacosx-pkg-installesd-dmg" class="header-anchor">#</a> 安装时停在verifying installmacosx.pkg/installesd.dmg</h3> <p>等待一段时间后会重新启动，然后再去安装一次即可。</p> <h3 id="需要蓝牙连接键盘连接"><a href="#需要蓝牙连接键盘连接" class="header-anchor">#</a> 需要蓝牙连接键盘连接</h3> <p>主要是启动后显示鼠标和键盘的开关界面，一直循环切换。按空格即可跳过。</p> <h3 id="验证安装器数据时发生错误"><a href="#验证安装器数据时发生错误" class="header-anchor">#</a> 验证安装器数据时发生错误</h3> <p>断开网络后尝试拔掉无用外置硬盘、终端修改时间，或检查镜像是否损坏。</p> <h3 id="提示安装资源已过期-退出安装器以重新启动电脑-然后再次尝试"><a href="#提示安装资源已过期-退出安装器以重新启动电脑-然后再次尝试" class="header-anchor">#</a> 提示安装资源已过期，退出安装器以重新启动电脑，然后再次尝试</h3> <p>将安装U盘插入USB2.0接口，或重新制作安装盘。</p> <h3 id="安装卡在第一次走条的最后两分钟很久-而后提示安装器资源损坏"><a href="#安装卡在第一次走条的最后两分钟很久-而后提示安装器资源损坏" class="header-anchor">#</a> 安装卡在第一次走条的最后两分钟很久，而后提示安装器资源损坏</h3> <p>内存驱动问题。</p> <h3 id="安装时提示找不到安装器资源"><a href="#安装时提示找不到安装器资源" class="header-anchor">#</a> 安装时提示找不到安装器资源</h3> <p>可能是安装器损坏。若不行，则删除EmuVariableUefi.efi。也有可能是SMBIOS设置错误。</p> <h2 id="引导启动"><a href="#引导启动" class="header-anchor">#</a> 引导启动</h2> <h3 id="clover提示invalid-signature"><a href="#clover提示invalid-signature" class="header-anchor">#</a> Clover提示Invalid Signature...</h3> <p>需要在BIOS关闭安全启动。</p> <h3 id="clover提示x64-exception-error"><a href="#clover提示x64-exception-error" class="header-anchor">#</a> Clover提示X64 Exception Error</h3> <p>Drivers中的驱动太新，删除或更换为旧版即可。如将PartitionDxe更换为PartitionDxeLegacy。</p> <h3 id="clover检测不到启动项或任何hfs-apfs分区"><a href="#clover检测不到启动项或任何hfs-apfs分区" class="header-anchor">#</a> Clover检测不到启动项或任何HFS/APFS分区</h3> <p>可能是Clover版本太旧。</p> <h3 id="内置kexts错误导致无法进入系统"><a href="#内置kexts错误导致无法进入系统" class="header-anchor">#</a> 内置kexts错误导致无法进入系统</h3> <p>进入恢复模式后点击常用工具-终端，输入以下命令以重建缓存。也可进入单用户模式操作。</p> <div class="language- extra-class"><pre class="language-text"><code>// MAC为系统盘卷标，需根据情况替换
rm -rf [错误的kexts路径]
rm -rf /Volumes/MAC/System/Library/Caches/com.apple.kext.caches/Startup/kernelcache
rm -rf /Volumes/MAC/System/Library/PrelinkedKernels/prelinkedkernel
touch /Volumes/MAC/System/Library/Extensions/ &amp;&amp; kextcache -u /Volumes/MAC
</code></pre></div><h3 id="无法更改启动路径"><a href="#无法更改启动路径" class="header-anchor">#</a> 无法更改启动路径</h3> <p>在某些情况下，电脑的启动路径被硬编码为启动<code>EFI/Microsoft/Boot/bootmgfw.efi</code>而不是<code>EFI/BOOT/BOOTX64.EFI</code>，这将导致计算机启动系统的锁定。若遇到以上情况，则需将EFI分区里的EFI/Microsoft/Boot/bootmgfw.efi重命名为其他名称并将Clover的CLOVERX64.efi重命名为bootmgfw.efi，复制替换即可。注意，Windows的每次更新都会覆盖bootmgfw.efi，因此需要重新操作。</p> <h3 id="抹盘时提示mediakit报告设备上的空间不足以执行请求的操作-或磁盘工具自动退出"><a href="#抹盘时提示mediakit报告设备上的空间不足以执行请求的操作-或磁盘工具自动退出" class="header-anchor">#</a> 抹盘时提示MediaKit报告设备上的空间不足以执行请求的操作，或磁盘工具自动退出</h3> <p>根本原因是EFI分区小于200MB。</p> <h3 id="出现welcome-to-clover-xxxx-user-settings卡住不动"><a href="#出现welcome-to-clover-xxxx-user-settings卡住不动" class="header-anchor">#</a> 出现Welcome to Clover xxxx user settings卡住不动</h3> <p>更换版本即可。</p> <h3 id="提示this-version-of-mac-os-x-is-not-supported-on-this-platform"><a href="#提示this-version-of-mac-os-x-is-not-supported-on-this-platform" class="header-anchor">#</a> 提示This version of Mac OS X is not supported on this platform</h3> <p>更改SMBIOS即可。</p> <h3 id="卡在clover引导界面不动"><a href="#卡在clover引导界面不动" class="header-anchor">#</a> 卡在Clover引导界面不动</h3> <p>在引导器目录把无用的plist删除，仅保留config.plist。</p> <h3 id="运行后导致cmos重置"><a href="#运行后导致cmos重置" class="header-anchor">#</a> 运行后导致CMOS重置</h3> <p>对于Clover，可在配置文件中勾选Apple RTC，以防止CMOS重置与有关AppleALC的错误。</p> <h2 id="啰嗦模式"><a href="#啰嗦模式" class="header-anchor">#</a> 啰嗦模式</h2> <h3 id="提示panic"><a href="#提示panic" class="header-anchor">#</a> 提示Panic</h3> <p>内核恐慌。可先尝试加-x参数后再次启动，若无效则应当根据错误提示选择以下的解决方案。</p> <h4 id="appleintelcpupowermanagement-applertc"><a href="#appleintelcpupowermanagement-applertc" class="header-anchor">#</a> AppleIntelCPUPowerManagement/AppleRTC</h4> <p>Mac的CPU电源管理不起作用。</p> <p>在Clover加入NullCPUPowerManagement.kext，或删除SLE下的AppleIntelCPUPowerManagement.kext和AppleIntelCPUPowerManagementClient.kext。</p> <h4 id="appletymcedriver"><a href="#appletymcedriver" class="header-anchor">#</a> AppleTyMCEDriver</h4> <p>删除AppleTyMCEDriver.kext即可，可能在SLE或引导器目录。或SMBIOS不要设置MacPro4,1/MacPro5,1/Xserve3,1。</p> <h4 id="voodoohda"><a href="#voodoohda" class="header-anchor">#</a> VoodooHDA</h4> <p>删除VoodooHDA.kext即可，可能在SLE或引导器目录。</p> <h4 id="applepolicycontrol"><a href="#applepolicycontrol" class="header-anchor">#</a> ApplePolicyControl</h4> <p>删除AppleGraphicsControl.kext中的Contents/Plugins/ApplePolicyControl.kext即可。</p> <h4 id="local-apic"><a href="#local-apic" class="header-anchor">#</a> Local APIC</h4> <p>可能是因为Mac不支持当前CPU。可尝试使用cpus=1启动标志。</p> <h4 id="unable-to-find-driver-for-this-platform-acpi"><a href="#unable-to-find-driver-for-this-platform-acpi" class="header-anchor">#</a> Unable to find driver for this platform: &quot;ACPI\</h4> <p>在极少数情况下，这种恐慌只会在AppleACPIPlatform.kext损坏时发生。可尝试启动安全模式。</p> <h4 id="thread-14-crash"><a href="#thread-14-crash" class="header-anchor">#</a> Thread 14 crash</h4> <p>可尝试将BIOS降级。</p> <h4 id="vtdecoderxpcserv"><a href="#vtdecoderxpcserv" class="header-anchor">#</a> VTDecoderXPCServ</h4> <p>在Clover引导界面中选择Graphics Injector，勾选Inject Intel，并将*-platform-id修改为0x3E9B0000。</p> <h3 id="卡在pci-configuration-begin"><a href="#卡在pci-configuration-begin" class="header-anchor">#</a> 卡在PCI configuration begin</h3> <p>可尝试添加启动参数npci=0x2000或npci=0x3000。两者不要同时使用。</p> <h3 id="still-waiting-for-root-device并禁行"><a href="#still-waiting-for-root-device并禁行" class="header-anchor">#</a> Still waiting for root device并禁行</h3> <p>表示系统无法找到系统盘，一般分为USB引导和SATA硬盘引导两种情况。更新引导器到最新版本，若无效则按照以下内容修复。</p> <p>如果是USB引导，代表系统无法识别到USB，可在引导器的kexts下放置USBInjectAll.kext，也可尝试在Clover的config.plist中勾选FixOwnership。也可尝试插入USB 2.0端口而非3.0端口。启动后应当通过USB端口定制解决该问题。</p> <p>如果是SATA硬盘引导，代表Mac不支持该SATA控制器。由于Mac不能正确支持RAID、IDE和RST，因此需要在BIOS将SATA设置为AHCI模式，或使用AHCI补丁。若不起作用，则可尝试在引导器的kexts部分放置以下kext，注意不要同时使用。</p> <div class="language- extra-class"><pre class="language-text"><code># SATA-unsupported.kext
https://github.com/khronokernel/Legacy-Kexts/blob/master/Injectors/Zip/SATA-unsupported.kext.zip

# AHCIPortInjector.kext
https://www.insanelymac.com/forum/files/file/436-ahciportinjectorkext/

# AppleAHCIPort.kext（从Catalina提取，主要用于Big Sur）
https://github.com/dortania/OpenCore-Install-Guide/blob/master/extra-files/CtlnaAHCIPort.kext.zip
</code></pre></div><details><summary>【进阶】OC引导</summary> <p>可尝试打开RealeasUSBOwnership、XhciPortlimit。
</p></details><p></p> <h3 id="卡在applelintellpssi2ccontroller"><a href="#卡在applelintellpssi2ccontroller" class="header-anchor">#</a> 卡在ApplelIntelLpssI2CController</h3> <p>在主机Windows下把SLE下的AppleInteLpssI2CController.kext删掉。若无效，再删AppleIntelLpssI2C.kext。</p> <p>或者在Clover配置中禁用。打开Clover的config.plist，在KextsToPatch加入以下配置即可。</p> <div class="language- extra-class"><pre class="language-text"><code>Name: com.apple.driver.AppleIntelLpssI2C
Find: 494F4B69 74
Replace: 494F4B69 73
Comments: Prevent Apple I2C kexts from attaching to I2C controllers, credit CoolStar
InfoPlistPatch: true

Name: com.apple.driver.AppleIntelLpssI2CController
Find: 494F4B69 74
Replace: 494F4B69 73
Comments: Prevent Apple I2C kexts from attaching to I2C controllers, credit CoolStar
InfoPlistPatch: true
</code></pre></div><h3 id="卡在ioconsoleusers-gioscreenlockstate-3或出现busy-timeout或-igpu-hash-data-from-me-never-returned-status-1-doing-retry"><a href="#卡在ioconsoleusers-gioscreenlockstate-3或出现busy-timeout或-igpu-hash-data-from-me-never-returned-status-1-doing-retry" class="header-anchor">#</a> 卡在IOConsoleUsers:gIOScreenLockState 3或出现Busy Timeout或[IGPU] Hash data from ME never returned, status =1, doing retry</h3> <p>此错误是由于显卡驱动问题。如果为双显卡，需屏蔽独显，驱动集显。</p> <p>更新Whatevergreen和Lilu。若无效，则在Clover主页面中选择Options，点击Graphics injector，取消勾选<code>InjectIntel</code>并把<code>platform-id</code>修改为<code>0×12345678</code>，然后启动系统。若无效，则将LE下所有kexts备份并删除，再次启动。</p> <p>若仍无效，则找到SLE下AppleIntel/AMD/ATI/Ge/NVD开头的所有显卡kexts，并将除核显外的其它所有kexts备份后删除。假设为Intel核显，则删除除AppleIntel开头外的其余所有显卡kexts。</p> <p>也可尝试关闭CSM。</p> <h3 id="卡在iobluetoothhcicontroller"><a href="#卡在iobluetoothhcicontroller" class="header-anchor">#</a> 卡在IOBluetoothHCIController</h3> <p>真正的问题可能与蓝牙无关，而是在显卡。解决方法同上。</p> <h3 id="显示this-version-of-mac-os-x-is-not-supported-on-this-platform"><a href="#显示this-version-of-mac-os-x-is-not-supported-on-this-platform" class="header-anchor">#</a> 显示This version of Mac OS X is not supported on this platform!</h3> <p>Clover添加启动参数<code>-no_compat_check</code>，或更换SMBIOS。若不行，则换用其他版本的系统镜像。</p> <h3 id="卡在service-only-ran-for-0-seconds-pushing-respawn-out-by-10-second"><a href="#卡在service-only-ran-for-0-seconds-pushing-respawn-out-by-10-second" class="header-anchor">#</a> 卡在Service only ran for 0 seconds. Pushing respawn out by 10 second</h3> <p>使用SSDT而非DSDT进行独显屏蔽即可。</p> <h3 id="卡在attempting-system-restart-mach-reboot"><a href="#卡在attempting-system-restart-mach-reboot" class="header-anchor">#</a> 卡在Attempting system restart...MACH Reboot</h3> <p>在Clover的config.plist配置文件DropTables下添加以下内容。</p> <table><thead><tr><th>Signature</th> <th>Type/key</th> <th>String</th></tr></thead> <tbody><tr><td>MATS</td> <td></td> <td></td></tr> <tr><td>DMAR</td> <td></td> <td></td></tr> <tr><td>BGRT</td> <td></td> <td></td></tr></tbody></table> <h3 id="卡在welcome-to-clover-xxxx-user-settings"><a href="#卡在welcome-to-clover-xxxx-user-settings" class="header-anchor">#</a> 卡在Welcome to Clover xxxx user settings</h3> <p>Clover的config.plist不适合该系统，替换即可。</p> <h3 id="卡在acpi-system-state-s0-s3-s4-s5-s3"><a href="#卡在acpi-system-state-s0-s3-s4-s5-s3" class="header-anchor">#</a> 卡在ACPI:System State [S0 S3 S4 S5] (S3)</h3> <p>显卡无解，可能需要外接显卡。</p> <h3 id="卡在apfs-module-start或voodoops2controller-或安装时键盘无法使用"><a href="#卡在apfs-module-start或voodoops2controller-或安装时键盘无法使用" class="header-anchor">#</a> 卡在apfs_module_start或VoodooPS2Controller，或安装时键盘无法使用</h3> <p>删除VoodooPS2Controller.kext，替换为AppleACPIPS2Nub.kext和ApplePS2Controller.kext。</p> <h3 id="显示dsmos-has-arrived后重启"><a href="#显示dsmos-has-arrived后重启" class="header-anchor">#</a> 显示DSMOS has arrived后重启</h3> <p>显卡问题，添加启动参数nv_disable=1禁用独显即可。若无效。可到SLE下删除所有显卡kexts。</p> <h3 id="出现dsmos错误"><a href="#出现dsmos错误" class="header-anchor">#</a> 出现DSMOS错误</h3> <p>FakeSMC.kext与dsmos.kext同时使用导致。删除dsmos.kext并使用FakeSMC.kext。</p> <h3 id="出现atiradeonx2000-atiradeonx3000错误"><a href="#出现atiradeonx2000-atiradeonx3000错误" class="header-anchor">#</a> 出现ATIRadeonX2000/ATIRadeonX3000错误</h3> <p>删除SLE下ATI开头的显卡驱动。</p> <h3 id="出现chudkernlib错误"><a href="#出现chudkernlib错误" class="header-anchor">#</a> 出现CHUDKernLib错误</h3> <p>Xcode用于调试核心的驱动。删除SLE下的CHUDKernLib.kext即可。</p> <h3 id="出现fakesmc错误"><a href="#出现fakesmc错误" class="header-anchor">#</a> 出现FakeSMC错误</h3> <p>替换一个不同版本的FakeSMC.kext即可。</p> <h3 id="停在fakesmc"><a href="#停在fakesmc" class="header-anchor">#</a> 停在FakeSMC</h3> <p>可能是USB问题。可关闭BIOS中的USB Legacy Support。</p> <h3 id="出现fakesmcradeon错误"><a href="#出现fakesmcradeon错误" class="header-anchor">#</a> 出现FakeSMCRadeon错误</h3> <p>替换一个不同版本的FakeSMC.kext，或删除FakeSMC.kext中的Contents/PlugIns/FakeSMCRadeon.kext即可。</p> <h3 id="出现elliottforcelegacyrtc错误"><a href="#出现elliottforcelegacyrtc错误" class="header-anchor">#</a> 出现ElliottForceLegacyRTC错误</h3> <p>删除ElliottForceLegacyRTC.kext并使用LegacyAppleRTC.kext。</p> <h3 id="出现applertl8169ethernet错误"><a href="#出现applertl8169ethernet错误" class="header-anchor">#</a> 出现AppleRTL8169Ethernet错误</h3> <p>删除IONetworkingFamily.kext，或IONetworkingFamily.kext下的Contents/PlugIns/AppleRTL8169Ethernet.kext。</p> <h3 id="出现applertc错误"><a href="#出现applertc错误" class="header-anchor">#</a> 出现AppleRTC错误</h3> <p>放入NullCPUPowerManagement.kext。或删除/System/Library/Extensions/AppleIntelCPUPowerManagement.kext和AppleIntelCPUPowerManagementClient.kext。</p> <h3 id="出现applefwohci错误"><a href="#出现applefwohci错误" class="header-anchor">#</a> 出现AppleFWOHCI错误</h3> <p>删除SLE下的IOFireWireFamily.kext/Contents/PlugIns/AppleFWOHCI.kext即可。</p> <h3 id="出现sleepenabler错误"><a href="#出现sleepenabler错误" class="header-anchor">#</a> 出现SleepEnabler错误</h3> <p>删除SleepEnabler.kext。</p> <h3 id="出现trying-to-change-a-collection-in-the-registry的oscollection-cpp错误"><a href="#出现trying-to-change-a-collection-in-the-registry的oscollection-cpp错误" class="header-anchor">#</a> 出现Trying to change a collection in the registry的OScollection.cpp错误</h3> <p>在BIOS开启ACPI 2.0 Support及ACPI APIC support。</p> <h3 id="出现failed-to-locate-smc-driver错误"><a href="#出现failed-to-locate-smc-driver错误" class="header-anchor">#</a> 出现failed to locate SMC driver错误</h3> <p>更新FakeSMC.kext即可。</p> <h3 id="出现applepolicycontrol错误"><a href="#出现applepolicycontrol错误" class="header-anchor">#</a> 出现ApplePolicyControl错误</h3> <p>删除SLE下的AppleGraphicsControl.kext/Contents/PlugIns/ApplePolicyControl.kext即可。</p> <h3 id="白屏且鼠标在屏幕左上角出现无限彩色风火轮"><a href="#白屏且鼠标在屏幕左上角出现无限彩色风火轮" class="header-anchor">#</a> 白屏且鼠标在屏幕左上角出现无限彩色风火轮</h3> <p>更新FakeSMC.kext即可。</p> <h3 id="出现iomemorydescriptor-cpp错误"><a href="#出现iomemorydescriptor-cpp错误" class="header-anchor">#</a> 出现IOMemoryDescriptor.cpp错误</h3> <p>内存读取错误。</p> <h3 id="发生lapic-native-c-lapic-c的local-apic-error内核错误"><a href="#发生lapic-native-c-lapic-c的local-apic-error内核错误" class="header-anchor">#</a> 发生lapic_native.c/lapic.c的Local APIC error内核错误</h3> <p>添加启动参数cpus=1，可能还需要busratio=16。</p> <h3 id="出现can-t-perform-kext-scan-no-kext-summary错误"><a href="#出现can-t-perform-kext-scan-no-kext-summary错误" class="header-anchor">#</a> 出现can't perform kext scan: no kext summary错误</h3> <p>尝试不使用kexts缓存。</p> <h3 id="发生should-have-2-threads-but-only-found-3-for-die-0的cpu-threads-c错误"><a href="#发生should-have-2-threads-but-only-found-3-for-die-0的cpu-threads-c错误" class="header-anchor">#</a> 发生Should have 2 threads, but only found 3 for Die 0的cpu_threads.c错误</h3> <p>重新提取修改正确的DSDT.aml即可。</p> <h3 id="发生ioapic-version-0x20-vectors-64-87错误"><a href="#发生ioapic-version-0x20-vectors-64-87错误" class="header-anchor">#</a> 发生IOAPIC: Version 0x20 Vectors 64:87错误</h3> <p>使用启动参数cpus=1或cpus=2，或删掉DSDT.aml即可。</p> <h3 id="出现nvclockx错误"><a href="#出现nvclockx错误" class="header-anchor">#</a> 出现NVClockX错误</h3> <p>删除NVClockX.kext或FakeSMC.kext/Contents/PlugIns/NVClockX.kext。</p> <h3 id="出现appleintelgma950错误"><a href="#出现appleintelgma950错误" class="header-anchor">#</a> 出现AppleIntelGMA950错误</h3> <p>删除SLE下的AppleIntelGMA950.kext。</p> <h3 id="出现geforce7xxx错误"><a href="#出现geforce7xxx错误" class="header-anchor">#</a> 出现GeForce7xxx错误</h3> <p>删除SLE下的eForce7xxx.kext。</p> <h3 id="出现intelcpumonitor错误"><a href="#出现intelcpumonitor错误" class="header-anchor">#</a> 出现IntelCPUMonitor错误</h3> <p>删除IntelCPUMonitor.kext或FakeSMC.kext/Contents/PlugIns/IntelCPUMonitor.kext。</p> <h3 id="卡在灰屏"><a href="#卡在灰屏" class="header-anchor">#</a> 卡在灰屏</h3> <p>灰屏表示FakeSMC未加载。</p> <h3 id="出现rtc-only-single-ram-bank错误"><a href="#出现rtc-only-single-ram-bank错误" class="header-anchor">#</a> 出现RTC:Only single RAM bank错误</h3> <p>在引导器放置RTCMemoryFixup.kext即可。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/RTCMemoryFixup
</code></pre></div><h3 id="卡在voodoops2trackpad-idengtify-touchpad-command-failed"><a href="#卡在voodoops2trackpad-idengtify-touchpad-command-failed" class="header-anchor">#</a> 卡在VoodooPS2Trackpad：idengtify TouchPad command failed</h3> <p>关闭RAID或改为其它模式。</p> <h2 id="系统运行"><a href="#系统运行" class="header-anchor">#</a> 系统运行</h2> <h3 id="内置sata硬盘显示为橙色图标"><a href="#内置sata硬盘显示为橙色图标" class="header-anchor">#</a> 内置SATA硬盘显示为橙色图标</h3> <p>打开Clover的config.plist，在Kernel and kext Patches选项卡中的KextsToPatch加入以下代码即可。</p> <div class="language- extra-class"><pre class="language-text"><code>Name: AppleAHCIPort
Find: 45787465 726E616C
Replace: 496E7465 726E616C
Comment: Define external drivers as internal to fix yellow drive icons
</code></pre></div><h3 id="rtc问题"><a href="#rtc问题" class="header-anchor">#</a> RTC问题</h3> <p>打开终端并输入以下命令。</p> <div class="language- extra-class"><pre class="language-text"><code>cat /private/var/log/system.log | grep rtc
</code></pre></div><p>输出示例如下。E00002C2即为需要屏蔽的内存位置。</p> <div class="language- extra-class"><pre class="language-text"><code>localhost kernel[0]: Lilu:     rtc @ rtc read failure 1 bytes from 180 E00002C2
</code></pre></div><p>下载RTCmemoryfixup,并且在boot args中添加<code>rtcfx_exclude=10-FF</code>即可。其中10-FF为内存屏蔽区间，根据以上输出确定。</p> <h1 id="附录"><a href="#附录" class="header-anchor">#</a> 附录</h1> <h2 id="kexts"><a href="#kexts" class="header-anchor">#</a> Kexts</h2> <p>大部分kexts可在以下网站找到。</p> <div class="language- extra-class"><pre class="language-text"><code># 新版kexts
https://dortania.github.io/builds/
https://kext.me/
https://bitbucket.org/RehabMan/
https://github.com/acidanthera
https://www.zdynb.cn/2020/hei-ping-guo-qu-dong.html
https://github.com/ClayMoreBoy/Hackintosh-Kext-Factory
https://github.com/corpnewt/Lilu-and-Friends

# 旧版kexts
https://github.com/khronokernel/Legacy-Kexts
https://onedrive.live.com/?authkey=%21APjCyRpzoAKp4xs&amp;id=FE4038DA929BFB23%21455036&amp;cid=FE4038DA929BFB23
https://olarila.com/files/
https://github.com/RehabMan/hack-tools/tree/master/kexts
</code></pre></div><p>可在终端输入以下命令查看kext支持的体系结构。其中二进制文件路径可通过在kext上右键点击显示包内容，然后在Contents/MacOS中找到。</p> <div class="language- extra-class"><pre class="language-text"><code>lipo -archs [kext的二进制文件路径]
</code></pre></div><h3 id="lilu"><a href="#lilu" class="header-anchor">#</a> Lilu</h3> <p>Lilu为其它kext提供接口支持，许多kext需要依赖Lilu才能运行。需要10.8或更高版本的系统，下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/Lilu/
</code></pre></div><h3 id="fakesmc包与virtualsmc包"><a href="#fakesmc包与virtualsmc包" class="header-anchor">#</a> FakeSMC包与VirtualSMC包</h3> <p>下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code># FakeSMC包
## 主体与传感器驱动
https://bitbucket.org/RehabMan/os-x-fakesmc-kozlek/downloads/
https://github.com/CloverHackyColor/FakeSMC3_with_plugins

## 主体（32位）
https://github.com/khronokernel/Legacy-Kexts/blob/master/32Bit-only/Zip/FakeSMC-32.kext.zip?raw=true

## ACPIBetteryManager，电池驱动
https://bitbucket.org/RehabMan/os-x-acpi-battery-driver/downloads/

# VirtualSMC
## 主体、传感器与电池驱动
https://github.com/acidanthera/VirtualSMC
</code></pre></div><p>两者作用相同，均用于向macOS提供SMC信息，模拟白苹果启动环境。FakeSMC早于VirtualSMC，且已不再更新，因此推荐使用VirtualSMC替换FakeSMC。注意，使用VirtualSMC时Lilu需为最新版本，否则将无法进入系统。VirtualSMC包作用分别如下。</p> <table><thead><tr><th>Kext名称</th> <th>作用</th></tr></thead> <tbody><tr><td>VirtualSMC</td> <td>替换FakeSMC.kext，需在Clover的driver64UEFI中删除SMCHelper-64.efi并复制VirtualSMC.efi到此目录</td></tr> <tr><td>SMCProcessor/SMCSuperIO/SMCLightSensor</td> <td>传感器驱动，用于替换CPUSensors/GPUSensors/LPCSensors/ACPISensor</td></tr> <tr><td>SMCBatteryManager</td> <td>电源管理驱动，用于替换ACPIBatteryManager</td></tr></tbody></table> <p>VirtualSMC需要10.8或更高版本的系统，旧版本应当使用FakeSMC。</p> <h3 id="whatevergreen"><a href="#whatevergreen" class="header-anchor">#</a> WhateverGreen</h3> <p>修复显卡必备驱动。WhateverGreen中已包含以下kexts。</p> <div class="language- extra-class"><pre class="language-text"><code>IntelGraphicsFixup
NvidiaGraphicsFixup
CoreDisplayFixup
Shiki
IntelGraphicsDVMTFixup
AzulPatcher4600
AppleBacklightFixup
FakePCIID
FakePCIID_Intel_HD_Graphics
FakePCIID_Intel_HDMI_Audio
</code></pre></div><p>注意需要关闭Clover的以下选项。</p> <div class="language- extra-class"><pre class="language-text"><code># DSDT
AddHDMI
FixDisplay
FixIntelGfx
AddIMEI
FixHDA
AddPNLF

# 显卡
UseIntelHDMI
SetIntelBacklight
SetIntelMaxBacklight

# 设备
Devices-Inject

# FakeID
IntelGFX
IMEI
ig-platform-id
</code></pre></div><p>取消以下启动参数。</p> <div class="language- extra-class"><pre class="language-text"><code>-disablegfxfirmware
-igfxnohdmi
</code></pre></div><p>下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/WhateverGreen/releases
</code></pre></div><details><summary>【过时】IntelGraphicsDVMTFixup</summary> <p>macOS的启动需要DVMT大于<code>32MB</code>，否则将导致内核崩溃。DVMT的大小可在BIOS设置，若BIOS无相应选项，可通过grub中的<code>setup_var</code>修改。或者使用本kext，但仅用于macOS 10.13及以下，在macOS Mojave下不适用。</p> <p>在Majove及更新系统，需在Clover的config.plist应用以下补丁以修复。或者使用Hackintool，应用补丁时勾选<code>DVMT 32MB 预分配</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;key&gt;Properties&lt;/key&gt;
&lt;dict&gt;
    &lt;key&gt;PciRoot(0x0)/Pci(0x2,0x0)&lt;/key&gt;
        &lt;dict&gt;
            &lt;key&gt;framebuffer-fbmem&lt;/key&gt;
            &lt;data&gt;
            AACQAA==
            &lt;/data&gt;
            &lt;key&gt;framebuffer-patch-enable&lt;/key&gt;
            &lt;data&gt;
            AQAAAA==
            &lt;/data&gt;
            &lt;key&gt;framebuffer-stolenmem&lt;/key&gt;
            &lt;data&gt;
            AAAwAQ==
            &lt;/data&gt;
        &lt;/dict&gt;
&lt;/dict&gt;
</code></pre></div></details> <h3 id="voodooi2c"><a href="#voodooi2c" class="header-anchor">#</a> VoodooI2C</h3> <p>VoodooI2C具有记忆性，由中断模式切换到轮询模式、在中断模式下修改有关触控板的DSDT等均不生效，需将VoodooI2C的相关驱动在Clover的kexts下删除再重新复制才能恢复初始设置。下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/alexandred/VoodooI2C/releases
</code></pre></div><h3 id="nullcpupowermanagement"><a href="#nullcpupowermanagement" class="header-anchor">#</a> NullCPUPowerManagement</h3> <p>AMD CPU无法使用英特尔的电源管理，因此我们需要取消它。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/Goldfish64/SerialMouse/releases
</code></pre></div><h2 id="uefi驱动"><a href="#uefi驱动" class="header-anchor">#</a> UEFI驱动</h2> <h3 id="emuvariableuefi"><a href="#emuvariableuefi" class="header-anchor">#</a> EmuVariableUefi</h3> <p>用于模拟NVRAM，从而将黑苹果洗白。若主板有原生NVARM，则无需放置。</p> <h3 id="apfsdriverloader"><a href="#apfsdriverloader" class="header-anchor">#</a> ApfsDriverLoader</h3> <p>APFS驱动。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/ApfsSupportPkg
</code></pre></div><h3 id="hfsplus"><a href="#hfsplus" class="header-anchor">#</a> HFSPlus</h3> <p>HFS驱动。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/STLVNUB/CloverGrower/tree/master/Files/HFSPlus/x64
https://github.com/JrCs/CloverGrowerPro/tree/master/Files/HFSPlus/X64
</code></pre></div><h3 id="crscreenshotdxe"><a href="#crscreenshotdxe" class="header-anchor">#</a> CrScreenshotDxe</h3> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/LongSoft/CrScreenshotDxe
</code></pre></div><h2 id="硬件驱动"><a href="#硬件驱动" class="header-anchor">#</a> 硬件驱动</h2> <h3 id="emu-usb"><a href="#emu-usb" class="header-anchor">#</a> EMU-USB</h3> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/Wouter1/EMU-driver
</code></pre></div><h2 id="黑苹果库"><a href="#黑苹果库" class="header-anchor">#</a> 黑苹果库</h2> <div class="language- extra-class"><pre class="language-text"><code># 网站
https://images.daliansky.net/d/YmBXVA8q/blog

# FTP
主机名 / repo1.macintoshgarden.org
用户名 / macgarden
密码 / publicdl
</code></pre></div><h2 id="oc-little包"><a href="#oc-little包" class="header-anchor">#</a> OC-little包</h2> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/daliansky/OC-little

# 另附P-little包（较旧）
https://github.com/daliansky/P-little
</code></pre></div><h2 id="工具"><a href="#工具" class="header-anchor">#</a> 工具</h2> <h3 id="hackintool"><a href="#hackintool" class="header-anchor">#</a> Hackintool</h3> <div class="language- extra-class"><pre class="language-text"><code>http://headsoft.com.au/download/mac/Hackintool.zip
https://github.com/headkaze/Hackintool
</code></pre></div><h3 id="kext-updater"><a href="#kext-updater" class="header-anchor">#</a> Kext Updater</h3> <div class="language- extra-class"><pre class="language-text"><code>https://bitbucket.org/profdrluigi/kextupdater/downloads/
</code></pre></div><h3 id="maciasl"><a href="#maciasl" class="header-anchor">#</a> MaciASL</h3> <div class="language- extra-class"><pre class="language-text"><code># RehabMan版
https://bitbucket.org/RehabMan/os-x-maciasl-patchmatic/downloads/

# 最新版
https://github.com/acidanthera/MaciASL/releases
</code></pre></div><h3 id="ioregistryexplorer"><a href="#ioregistryexplorer" class="header-anchor">#</a> IORegistryExplorer</h3> <p>IORegistryExplorer可用于查看硬件情况。2.1版下载链接如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/vulgo/IORegistryExplorer
https://github.com/khronokernel/IORegistryClone
</code></pre></div><h4 id="判断设备存在情况"><a href="#判断设备存在情况" class="header-anchor">#</a> 判断设备存在情况</h4> <p>将左上角的模式选为<code>IODeviceTree</code>，查看左侧设备树。若显示类似为<code>P0P5@1C,1</code>，则表示存在该设备。若显示类似为<code>P0P5@1c0001</code>，且点进去后只有acpi-device与acpi-path两项，则表示不存在该设备。</p> <h4 id="判断设备驱动情况"><a href="#判断设备驱动情况" class="header-anchor">#</a> 判断设备驱动情况</h4> <p>将左上角的模式选为IOService，查看左侧设备树。</p> <p>若显示类似为<code>P0P4@1C</code>且可展开，展开后可查看相应kexts，则该设备已驱动。部分设备可能无法展开，但也已经被驱动，如Memory Controller Hub、SMBus Controller。</p> <p>若显示类似为<code>pci8086,266a@1F,3</code>，则该设备未驱动。</p> <h4 id="查看cpu变频档次"><a href="#查看cpu变频档次" class="header-anchor">#</a> 查看CPU变频档次</h4> <p>搜索ACPI_SMC_PlatformPlugin，查看其中的PerformanceStateArray即可。</p> <h3 id="gfxutil"><a href="#gfxutil" class="header-anchor">#</a> gfxutil</h3> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/gfxutil
</code></pre></div><h3 id="imessagedebug"><a href="#imessagedebug" class="header-anchor">#</a> iMessageDebug</h3> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/YCSuperM/ImessageDebug
</code></pre></div><h3 id="clover-configurator"><a href="#clover-configurator" class="header-anchor">#</a> Clover Configurator</h3> <div class="language- extra-class"><pre class="language-text"><code>https://mackie100projects.altervista.org/download-clover-configurator/
</code></pre></div><h3 id="kext-utility"><a href="#kext-utility" class="header-anchor">#</a> Kext Utility</h3> <div class="language- extra-class"><pre class="language-text"><code>https://en.freedownloadmanager.org/Mac-OS/Kext-Utility-FREE.html
</code></pre></div><h3 id="vdadecoderchecker"><a href="#vdadecoderchecker" class="header-anchor">#</a> VDADecoderChecker</h3> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/cylonbrain/VDADecoderCheck/releases
</code></pre></div><h3 id="_7z"><a href="#_7z" class="header-anchor">#</a> 7z</h3> <div class="language- extra-class"><pre class="language-text"><code>http://www.7-zip.org/download.html
</code></pre></div><h3 id="aw-edid-editor"><a href="#aw-edid-editor" class="header-anchor">#</a> AW EDID Editor</h3> <div class="language- extra-class"><pre class="language-text"><code>https://www.analogway.com/apac/products/software-tools/aw-edid-editor/
</code></pre></div><h3 id="hwmonitorsmc2"><a href="#hwmonitorsmc2" class="header-anchor">#</a> HWMonitorSMC2</h3> <p>监控硬件运行状况。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/CloverHackyColor/HWMonitorSMC2
</code></pre></div><h3 id="continuity-activation-tool"><a href="#continuity-activation-tool" class="header-anchor">#</a> Continuity-Activation-Tool</h3> <p>只能用在Broadcom无线网卡，用于启用接力功能。支持10.10-10.13。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/dokterdok/Continuity-Activation-Tool
</code></pre></div><h2 id="一键安装系统工具"><a href="#一键安装系统工具" class="header-anchor">#</a> 一键安装系统工具</h2> <h3 id="ccmacos"><a href="#ccmacos" class="header-anchor">#</a> Ccmacos</h3> <div class="language- extra-class"><pre class="language-text"><code>http://www.ccmacos.cn/#
</code></pre></div><h1 id="参考教程"><a href="#参考教程" class="header-anchor">#</a> 参考教程</h1> <h2 id="windows下vmware-workstations-pro15-5-0安装dmg镜像"><a href="#windows下vmware-workstations-pro15-5-0安装dmg镜像" class="header-anchor">#</a> Windows下VMware Workstations Pro15.5.0安装dmg镜像</h2> <div class="language- extra-class"><pre class="language-text"><code>https://hestyle.blog.csdn.net/article/details/104672651
</code></pre></div><h2 id="黑苹果必备-intel核显platform-id整理及smbios速查表"><a href="#黑苹果必备-intel核显platform-id整理及smbios速查表" class="header-anchor">#</a> 黑苹果必备：Intel核显platform ID整理及smbios速查表</h2> <div class="language- extra-class"><pre class="language-text"><code>https://blog.daliansky.net/Intel-core-display-platformID-finishing.html
</code></pre></div><h2 id="fix-btfirmwareuploader-in-macos-high-sierra"><a href="#fix-btfirmwareuploader-in-macos-high-sierra" class="header-anchor">#</a> FIX BTFIRMWAREUPLOADER IN MACOS HIGH SIERRA</h2> <div class="language- extra-class"><pre class="language-text"><code>https://osxlatitude.com/forums/topic/10127-updated-nov-2017-fix-btfirmwareuploader-in-macos-high-sierra/
</code></pre></div><h2 id="alexandred-voodooi2c-gitter"><a href="#alexandred-voodooi2c-gitter" class="header-anchor">#</a> alexandred/VoodooI2C-Gitter</h2> <div class="language- extra-class"><pre class="language-text"><code>https://gitter.im/alexandred/VoodooI2C/archives/2019/01/14
https://gitter.im/alexandred/VoodooI2C/archives/2018/08/30（搜索@Piero512）
</code></pre></div><h2 id="hackintool深度教程"><a href="#hackintool深度教程" class="header-anchor">#</a> Hackintool深度教程</h2> <div class="language- extra-class"><pre class="language-text"><code>https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html
</code></pre></div><h2 id="修改dsdt实现电量显示教程"><a href="#修改dsdt实现电量显示教程" class="header-anchor">#</a> 修改DSDT实现电量显示教程</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.geekcj.com/333.html
https://blog.gzxiaobai.cn/2020/05/16/%E4%B8%BA%E5%B0%8F%E7%99%BD%E8%AE%BE%E8%AE%A1%E7%9A%84%E7%94%B5%E6%B1%A0%E6%95%99%E7%A8%8B%EF%BC%88DSDT%EF%BC%89/
</code></pre></div><h2 id="voodooi2c驱动教程"><a href="#voodooi2c驱动教程" class="header-anchor">#</a> VoodooI2C驱动教程</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.penghubingzhou.cn/2019/01/06/VoodooI2C%20DSDT%20Edit/
https://www.penghubingzhou.cn/2019/07/24/VoodooI2C%20DSDT%20Edit%20FAQ/
https://voodooi2c.github.io/#GPIO%20Pinning/GPIO%20Pinning
</code></pre></div><h2 id="英特尔®核芯显卡常见问答-whatevergreen"><a href="#英特尔®核芯显卡常见问答-whatevergreen" class="header-anchor">#</a> 英特尔®核芯显卡常见问答（WhateverGreen）</h2> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/WhateverGreen/blob/master/Manual/FAQ.IntelHD.cn.md
</code></pre></div><h2 id="黑苹果精华必读-新手常见-五国-v图-错误解决"><a href="#黑苹果精华必读-新手常见-五国-v图-错误解决" class="header-anchor">#</a> 黑苹果精华必读：新手常见(五国)(-v图)错误解决</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.xmyy.com/article-254928.html
</code></pre></div><h2 id="disabling-discrete-graphics-in-dual-gpu-laptops"><a href="#disabling-discrete-graphics-in-dual-gpu-laptops" class="header-anchor">#</a> Disabling discrete graphics in dual-GPU laptops</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.tonymacx86.com/threads/guide-disabling-discrete-graphics-in-dual-gpu-laptops.163772/
</code></pre></div><h2 id="r-hackintosh-vanilla-desktop-guide"><a href="#r-hackintosh-vanilla-desktop-guide" class="header-anchor">#</a> /r/Hackintosh Vanilla Desktop Guide</h2> <div class="language- extra-class"><pre class="language-text"><code>https://hackintosh.gitbook.io/-r-hackintosh-vanilla-desktop-guide/
</code></pre></div><h2 id="ssdt-gpu-graphics-card-injection"><a href="#ssdt-gpu-graphics-card-injection" class="header-anchor">#</a> SSDT GPU (Graphics Card) Injection</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.tonymacx86.com/threads/ssdt-gpu-graphics-card-injection.183354/
</code></pre></div><h2 id="stevezhengshiqi-one-key-cpufriend"><a href="#stevezhengshiqi-one-key-cpufriend" class="header-anchor">#</a> stevezhengshiqi/one-key-cpufriend</h2> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/stevezhengshiqi/one-key-cpufriend
</code></pre></div><h2 id="ar9565-mac黑苹果bluetooth蓝牙驱动教程"><a href="#ar9565-mac黑苹果bluetooth蓝牙驱动教程" class="header-anchor">#</a> AR9565 MAC黑苹果Bluetooth蓝牙驱动教程</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.longzc.cn/index.php/archives/308
</code></pre></div><h2 id="ssdt-rmne-aml"><a href="#ssdt-rmne-aml" class="header-anchor">#</a> SSDT-RMNE.aml</h2> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/RehabMan/OS-X-Null-Ethernet/blob/master/ssdt-rmne.aml
</code></pre></div><h2 id="ssdt-pnlf-aml"><a href="#ssdt-pnlf-aml" class="header-anchor">#</a> SSDT-PNLF.aml</h2> <div class="language- extra-class"><pre class="language-text"><code>https://bitbucket.org/RehabMan/applebacklightfixup/downloads/
</code></pre></div><h2 id="使用hidpi解决睡眠唤醒黑屏、花屏及连接外部显示器的正确姿势"><a href="#使用hidpi解决睡眠唤醒黑屏、花屏及连接外部显示器的正确姿势" class="header-anchor">#</a> 使用HIDPI解决睡眠唤醒黑屏、花屏及连接外部显示器的正确姿势</h2> <div class="language- extra-class"><pre class="language-text"><code>https://blog.daliansky.net/Use-HIDPI-to-solve-sleep-wake-up-black-screen,-Huaping-and-connect-the-external-monitor-the-correct-posture.html
</code></pre></div><h2 id="小米笔记本pro安装10-13随手记及efi分享"><a href="#小米笔记本pro安装10-13随手记及efi分享" class="header-anchor">#</a> 小米笔记本Pro安装10.13随手记及EFI分享</h2> <div class="language- extra-class"><pre class="language-text"><code>https://blog.daliansky.net/XiaoMiPro-notebook-Installation-10.13-readily-remember-and-share-EFI.html
</code></pre></div><h2 id="notebook-compatibility-list"><a href="#notebook-compatibility-list" class="header-anchor">#</a> Notebook Compatibility List</h2> <div class="language- extra-class"><pre class="language-text"><code>https://gpu-passthrough.com/
</code></pre></div><h2 id="hackintosh-won-t-boot-how-to-use-verbose-mode-to-fix-it"><a href="#hackintosh-won-t-boot-how-to-use-verbose-mode-to-fix-it" class="header-anchor">#</a> Hackintosh won't boot? How to use verbose mode to fix it</h2> <div class="language- extra-class"><pre class="language-text"><code>http://www.macbreaker.com/2015/01/read-verbose-mode-fix-hackintosh-errors.html
</code></pre></div><h2 id="新手常见-五国-v图-错误解决-原版-破解kernel-补丁kext下载"><a href="#新手常见-五国-v图-错误解决-原版-破解kernel-补丁kext下载" class="header-anchor">#</a> 新手常见(五国)(-v图)错误解决(原版,破解kernel,补丁kext下载)</h2> <div class="language- extra-class"><pre class="language-text"><code>https://blog.csdn.net/ashuai81/article/details/8032952
</code></pre></div><h2 id="dw1820a-bcm94350zae-bcm94356zepa50dx插入的正确姿势"><a href="#dw1820a-bcm94350zae-bcm94356zepa50dx插入的正确姿势" class="header-anchor">#</a> DW1820A/BCM94350ZAE/BCM94356ZEPA50DX插入的正确姿势</h2> <div class="language- extra-class"><pre class="language-text"><code>https://blog.daliansky.net/DW1820A_BCM94350ZAE-driver-inserts-the-correct-posture.html
</code></pre></div><h2 id="broadcom-bcm94352z-dw1560驱动新姿势-新方法"><a href="#broadcom-bcm94352z-dw1560驱动新姿势-新方法" class="header-anchor">#</a> Broadcom BCM94352z/DW1560驱动新姿势[新方法]</h2> <div class="language- extra-class"><pre class="language-text"><code>https://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html
</code></pre></div><h2 id="openintelwireless"><a href="#openintelwireless" class="header-anchor">#</a> OpenIntelWireless</h2> <div class="language- extra-class"><pre class="language-text"><code>https://openintelwireless.github.io/itlwm/Installation.html
</code></pre></div><h2 id="voodooi2c-voodooi2c-patches"><a href="#voodooi2c-voodooi2c-patches" class="header-anchor">#</a> VoodooI2C/VoodooI2C-Patches</h2> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/VoodooI2C/VoodooI2C-Patches
</code></pre></div><h2 id="opencore-0-6-3-9a6d202-penryn-x64-exception"><a href="#opencore-0-6-3-9a6d202-penryn-x64-exception" class="header-anchor">#</a> OpenCore 0.6.3 [9a6d202] / Penryn X64 Exception</h2> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/bugtracker/issues/1247
</code></pre></div><h2 id="opencorepkg-kexts-md-at-master"><a href="#opencorepkg-kexts-md-at-master" class="header-anchor">#</a> OpenCorePkg/Kexts.md at master</h2> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/acidanthera/OpenCorePkg/blob/master/Docs/Kexts.md
</code></pre></div><h2 id="启用cpu-hwp-锁定cpu最高频率-让cpu展示其真正实力吧-oc可用"><a href="#启用cpu-hwp-锁定cpu最高频率-让cpu展示其真正实力吧-oc可用" class="header-anchor">#</a> 启用CPU-HWP, 锁定CPU最高频率, 让CPU展示其真正实力吧! (OC可用)</h2> <div class="language- extra-class"><pre class="language-text"><code>https://zhuanlan.zhihu.com/p/49183461
</code></pre></div><h2 id="skylake-hwp-enable"><a href="#skylake-hwp-enable" class="header-anchor">#</a> Skylake HWP Enable</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.tonymacx86.com/threads/skylake-hwp-enable.214915/
</code></pre></div><h2 id="first-time-hackintosh-stuck-at-grey-screen-after-installation"><a href="#first-time-hackintosh-stuck-at-grey-screen-after-installation" class="header-anchor">#</a> First time Hackintosh Stuck at Grey Screen after installation</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.tonymacx86.com/threads/first-time-hackintosh-stuck-at-grey-screen-after-installation.186100/
</code></pre></div><h2 id="clover引导安装黑苹果卡各种问题的解决方法-内容较多"><a href="#clover引导安装黑苹果卡各种问题的解决方法-内容较多" class="header-anchor">#</a> Clover引导安装黑苹果卡各种问题的解决方法(内容较多)</h2> <div class="language- extra-class"><pre class="language-text"><code>https://vlambda.com/wz_7ilcImwxVbO.html
</code></pre></div><h2 id="el-capitan-install-demanding-bluetooth-mouse-keyboard"><a href="#el-capitan-install-demanding-bluetooth-mouse-keyboard" class="header-anchor">#</a> El Capitan Install Demanding Bluetooth Mouse/Keyboard</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.reddit.com/r/hackintosh/comments/3v81hb/el_capitan_install_demanding_bluetooth/
</code></pre></div><h2 id="clover-折腾了半天终于找到唤醒重启问题的原因了。。。"><a href="#clover-折腾了半天终于找到唤醒重启问题的原因了。。。" class="header-anchor">#</a> [CLOVER] 折腾了半天终于找到唤醒重启问题的原因了。。。</h2> <div class="language- extra-class"><pre class="language-text"><code>http://bbs.pcbeta.com/viewthread-1835747-1-1.html
</code></pre></div><h2 id="list-of-hackintosh-usb-port-limit-patches-10-15-updated"><a href="#list-of-hackintosh-usb-port-limit-patches-10-15-updated" class="header-anchor">#</a> List of Hackintosh USB Port Limit Patches (10.15 Updated)</h2> <div class="language- extra-class"><pre class="language-text"><code>https://hackintosher.com/forums/thread/list-of-hackintosh-usb-port-limit-patches-10-15-updated.467/
</code></pre></div><h2 id="wireless-buyers-guide"><a href="#wireless-buyers-guide" class="header-anchor">#</a> Wireless Buyers Guide</h2> <div class="language- extra-class"><pre class="language-text"><code>https://dortania.github.io/Wireless-Buyers-Guide/
</code></pre></div><h2 id="hackintosh-internet-install-gitbook"><a href="#hackintosh-internet-install-gitbook" class="header-anchor">#</a> Hackintosh Internet Install Gitbook</h2> <div class="language- extra-class"><pre class="language-text"><code>https://midi1996.github.io/hackintosh-internet-install-gitbook/
</code></pre></div><h2 id="guide-booting-the-os-x-installer-on-laptops-with-clover"><a href="#guide-booting-the-os-x-installer-on-laptops-with-clover" class="header-anchor">#</a> [Guide] Booting the OS X installer on LAPTOPS with Clover</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.tonymacx86.com/threads/guide-booting-the-os-x-installer-on-laptops-with-clover.148093/
</code></pre></div><h2 id="fix-incorrect-time-in-windows-osx-dual-boot"><a href="#fix-incorrect-time-in-windows-osx-dual-boot" class="header-anchor">#</a> Fix incorrect time in Windows + OSX dual boot</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.tonymacx86.com/threads/fix-incorrect-time-in-windows-osx-dual-boot.133719/
</code></pre></div><h2 id="olarila"><a href="#olarila" class="header-anchor">#</a> Olarila</h2> <div class="language- extra-class"><pre class="language-text"><code>https://www.olarila.com/topic/9860-guide-forcing-rgb-mode-to-fix-problems-on-external-monitors-in-macos/
https://www.olarila.com/topic/4997-usb-raise-remove-limit-port-patch-el-capitan-sierra-high-sierra-mojave-catalina/
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myblog/nav.20.Technology/10.Mac/Mac使用技巧总结.html" class="prev">
        Mac使用技巧总结
      </a></span> <span class="next"><a href="/myblog/nav.20.Technology/10.Mac/黑苹果的进阶操作.html">
        黑苹果的进阶操作
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myblog/assets/js/app.a3c84fc1.js" defer></script><script src="/myblog/assets/js/2.fdea671f.js" defer></script><script src="/myblog/assets/js/11.b2785f97.js" defer></script>
  </body>
</html>
