<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node环境的搭建与使用 | Payton&#39;s blog</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Somewhere Leisure.">
    
    <link rel="preload" href="/myblog/assets/css/0.styles.ff793384.css" as="style"><link rel="preload" href="/myblog/assets/js/app.a3c84fc1.js" as="script"><link rel="preload" href="/myblog/assets/js/2.fdea671f.js" as="script"><link rel="preload" href="/myblog/assets/js/27.df27e33f.js" as="script"><link rel="prefetch" href="/myblog/assets/js/10.7847a5a3.js"><link rel="prefetch" href="/myblog/assets/js/11.b2785f97.js"><link rel="prefetch" href="/myblog/assets/js/12.81ffdcd9.js"><link rel="prefetch" href="/myblog/assets/js/13.b8376775.js"><link rel="prefetch" href="/myblog/assets/js/14.21be6db8.js"><link rel="prefetch" href="/myblog/assets/js/15.e4845df9.js"><link rel="prefetch" href="/myblog/assets/js/16.26e7b236.js"><link rel="prefetch" href="/myblog/assets/js/17.3e01733a.js"><link rel="prefetch" href="/myblog/assets/js/18.cd9f5deb.js"><link rel="prefetch" href="/myblog/assets/js/19.4fc7fa6b.js"><link rel="prefetch" href="/myblog/assets/js/20.d624b5e1.js"><link rel="prefetch" href="/myblog/assets/js/21.879b982f.js"><link rel="prefetch" href="/myblog/assets/js/22.10fcb746.js"><link rel="prefetch" href="/myblog/assets/js/23.6e98a037.js"><link rel="prefetch" href="/myblog/assets/js/24.89f1d957.js"><link rel="prefetch" href="/myblog/assets/js/25.f0710c91.js"><link rel="prefetch" href="/myblog/assets/js/26.957bef02.js"><link rel="prefetch" href="/myblog/assets/js/28.e02cd141.js"><link rel="prefetch" href="/myblog/assets/js/29.6788de2d.js"><link rel="prefetch" href="/myblog/assets/js/3.e5125461.js"><link rel="prefetch" href="/myblog/assets/js/30.61ba9f3d.js"><link rel="prefetch" href="/myblog/assets/js/31.166de6f1.js"><link rel="prefetch" href="/myblog/assets/js/32.5a47fa8d.js"><link rel="prefetch" href="/myblog/assets/js/33.f9e473c5.js"><link rel="prefetch" href="/myblog/assets/js/34.0f3b4e36.js"><link rel="prefetch" href="/myblog/assets/js/35.2be1f820.js"><link rel="prefetch" href="/myblog/assets/js/36.87a9ea06.js"><link rel="prefetch" href="/myblog/assets/js/37.24a4b907.js"><link rel="prefetch" href="/myblog/assets/js/38.a0e80546.js"><link rel="prefetch" href="/myblog/assets/js/4.d37862ef.js"><link rel="prefetch" href="/myblog/assets/js/5.1cfadda0.js"><link rel="prefetch" href="/myblog/assets/js/6.73c063ed.js"><link rel="prefetch" href="/myblog/assets/js/7.b4e343ac.js"><link rel="prefetch" href="/myblog/assets/js/8.91d031eb.js"><link rel="prefetch" href="/myblog/assets/js/9.40a34877.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.ff793384.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myblog/" class="home-link router-link-active"><img src="icon.png" alt="Payton's blog" class="logo"> <span class="site-name can-hide">Payton's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/nav.10.World/" class="nav-link">
  World
</a></div><div class="nav-item"><a href="/myblog/nav.20.Technology/" class="nav-link">
  Technology
</a></div><div class="nav-item"><a href="/myblog/nav.30.Skill/" class="nav-link router-link-active">
  Skill
</a></div><div class="nav-item"><a href="/myblog/nav.40.Study/" class="nav-link">
  Study
</a></div><div class="nav-item"><a href="/myblog/nav.50.Other/" class="nav-link">
  Other
</a></div> <a href="https://github.com/paytonguan/myblog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myblog/nav.10.World/" class="nav-link">
  World
</a></div><div class="nav-item"><a href="/myblog/nav.20.Technology/" class="nav-link">
  Technology
</a></div><div class="nav-item"><a href="/myblog/nav.30.Skill/" class="nav-link router-link-active">
  Skill
</a></div><div class="nav-item"><a href="/myblog/nav.40.Study/" class="nav-link">
  Study
</a></div><div class="nav-item"><a href="/myblog/nav.50.Other/" class="nav-link">
  Other
</a></div> <a href="https://github.com/paytonguan/myblog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/myblog/nav.30.Skill/" aria-current="page" class="sidebar-link">前言</a></li><li><a href="/myblog/nav.30.Skill/Git和Github的安装与使用.html" class="sidebar-link">Git和Github的安装与使用</a></li><li><a href="/myblog/nav.30.Skill/Kindle的使用.html" class="sidebar-link">Kindle的使用</a></li><li><a href="/myblog/nav.30.Skill/Matlab的使用.html" class="sidebar-link">Matlab的使用</a></li><li><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html" class="active sidebar-link">Node环境的搭建与使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#通过nvm" class="sidebar-link">通过nvm</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#通过官方安装包" class="sidebar-link">通过官方安装包</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#更换下载源" class="sidebar-link">更换下载源</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#直接更换为淘宝源" class="sidebar-link">直接更换为淘宝源</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#用nrm切换下载源" class="sidebar-link">用nrm切换下载源</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#更新主程序" class="sidebar-link">更新主程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#对于nvm安装" class="sidebar-link">对于nvm安装</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#对于独立程序" class="sidebar-link">对于独立程序</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#更新下载包" class="sidebar-link">更新下载包</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#查看安装过的模块" class="sidebar-link">查看安装过的模块</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#删除项目缓存" class="sidebar-link">删除项目缓存</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#删除项目所有依赖" class="sidebar-link">删除项目所有依赖</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#卸载nvm" class="sidebar-link">卸载nvm</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#卸载node和npm" class="sidebar-link">卸载node和npm</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#对于nvm安装-2" class="sidebar-link">对于nvm安装</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#对于独立程序-2" class="sidebar-link">对于独立程序</a></li></ul></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#提示package-json不存在" class="sidebar-link">提示package.json不存在</a></li><li class="sidebar-sub-header"><a href="/myblog/nav.30.Skill/Node环境的搭建与使用.html#提示找不到-corefoundation-corefoundation-h-或其它库文件" class="sidebar-link">提示找不到或其它库文件</a></li></ul></li><li><a href="/myblog/nav.30.Skill/Sublime 3的使用.html" class="sidebar-link">Sublime 3的使用</a></li><li><a href="/myblog/nav.30.Skill/个人博客的搭建.html" class="sidebar-link">个人博客的搭建</a></li><li><a href="/myblog/nav.30.Skill/全平台使用技巧总结.html" class="sidebar-link">全平台使用技巧总结</a></li><li><a href="/myblog/nav.30.Skill/公众号使用指南.html" class="sidebar-link">公众号使用指南</a></li><li><a href="/myblog/nav.30.Skill/程序员工具集合及使用.html" class="sidebar-link">程序员工具集合及使用</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9as31waswj31c00u013e.jpg" alt=""></p> <p>Node是一个JavaScript运行环境，很多模块都需要依赖node。npm是随同node安装的包管理工具，node安装完成后，npm也安装完成。</p> <h1 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h1> <h2 id="通过nvm"><a href="#通过nvm" class="header-anchor">#</a> 通过nvm</h2> <p>仓库如下。</p> <div class="language- extra-class"><pre class="language-text"><code>https://github.com/nvm-sh/nvm
</code></pre></div><p>在终端输入以下命令安装<code>nvm</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>// bash用户
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash

// zsh用户
curl -o- [https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh](https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh) | bash [[ -s $HOME/.nvm/nvm.sh ]] &amp;&amp; . $HOME/.nvm/nvm.sh
</code></pre></div><p>安装完成后在终端输入下列命令以安装<code>node</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>// 安装长期支持版本（建议）
nvm install --lts

// 安装最新版本
nvm install node
</code></pre></div><h2 id="通过官方安装包"><a href="#通过官方安装包" class="header-anchor">#</a> 通过官方安装包</h2> <p>打开下面官方网站，下载安装包进行安装。</p> <div class="language- extra-class"><pre class="language-text"><code>https://nodejs.org/en/
</code></pre></div><h1 id="使用"><a href="#使用" class="header-anchor">#</a> 使用</h1> <h2 id="更换下载源"><a href="#更换下载源" class="header-anchor">#</a> 更换下载源</h2> <h3 id="直接更换为淘宝源"><a href="#直接更换为淘宝源" class="header-anchor">#</a> 直接更换为淘宝源</h3> <p>在终端执行以下命令。</p> <div class="language- extra-class"><pre class="language-text"><code>npm config set -g registry https://registry.npm.taobao.org
</code></pre></div><h3 id="用nrm切换下载源"><a href="#用nrm切换下载源" class="header-anchor">#</a> 用nrm切换下载源</h3> <p>在终端执行以下命令安装<code>nrm</code>，并查看下载镜像源。</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -g nrm
nrm ls
</code></pre></div><p>用以下命令切换淘宝源。</p> <div class="language- extra-class"><pre class="language-text"><code>nrm use taobao
</code></pre></div><h2 id="更新主程序"><a href="#更新主程序" class="header-anchor">#</a> 更新主程序</h2> <h3 id="对于nvm安装"><a href="#对于nvm安装" class="header-anchor">#</a> 对于nvm安装</h3> <div class="language- extra-class"><pre class="language-text"><code>nvm install --lts --latest-npm --reinstall-packages-from=node
</code></pre></div><h3 id="对于独立程序"><a href="#对于独立程序" class="header-anchor">#</a> 对于独立程序</h3> <div class="language- extra-class"><pre class="language-text"><code>npm install -g npm
npm install -g node
</code></pre></div><h2 id="更新下载包"><a href="#更新下载包" class="header-anchor">#</a> 更新下载包</h2> <div class="language- extra-class"><pre class="language-text"><code>npm install -g npm-check     # 安装npm-check
npm-check                    # 查看系统插件是否需要升级
npm install -g npm-upgrade   # 安装npm-upgrade
npm-upgrade        # 更新package.json
# 在执行npm-upgrade命令后会要求输入yes或者no，直接输入Yes或Y即可
npm update -g      # 更新全局插件
npm update --save  # 更新系统插件
</code></pre></div><h2 id="查看安装过的模块"><a href="#查看安装过的模块" class="header-anchor">#</a> 查看安装过的模块</h2> <div class="language- extra-class"><pre class="language-text"><code>// 查看当前项目的依赖模块
npm ls --depth 0

// 查看全局依赖模块命令
npm ls -g --depth 0
</code></pre></div><h2 id="删除项目缓存"><a href="#删除项目缓存" class="header-anchor">#</a> 删除项目缓存</h2> <div class="language- extra-class"><pre class="language-text"><code>npm cache verify
// 或npm cache clean --force
</code></pre></div><h2 id="删除项目所有依赖"><a href="#删除项目所有依赖" class="header-anchor">#</a> 删除项目所有依赖</h2> <div class="language- extra-class"><pre class="language-text"><code>npm uninstall *
</code></pre></div><h1 id="卸载"><a href="#卸载" class="header-anchor">#</a> 卸载</h1> <h2 id="卸载nvm"><a href="#卸载nvm" class="header-anchor">#</a> 卸载nvm</h2> <p>在终端输入以下命令，移除nvm。</p> <div class="language- extra-class"><pre class="language-text"><code>cd ~
rm -rf .nvm
</code></pre></div><p>移除掉<code>~/.profile</code>，<code>~/.bash_profile</code>， <code>~/.zshrc</code>，<code>~/.bashrc</code>文件中关于nvm的配置后输入以下命令，让配置文件生效。</p> <div class="language- extra-class"><pre class="language-text"><code>source ~/.zshrc
source ~/.bash_profile
</code></pre></div><h2 id="卸载node和npm"><a href="#卸载node和npm" class="header-anchor">#</a> 卸载node和npm</h2> <h3 id="对于nvm安装-2"><a href="#对于nvm安装-2" class="header-anchor">#</a> 对于nvm安装</h3> <div class="language- extra-class"><pre class="language-text"><code>nvm uninstall [版本号]

# 版本通过以下命令查看
nvm list
</code></pre></div><h3 id="对于独立程序-2"><a href="#对于独立程序-2" class="header-anchor">#</a> 对于独立程序</h3> <p>在终端执行以下命令以卸载。</p> <div class="language- extra-class"><pre class="language-text"><code>sudo npm uninstall npm -g
sudo rm -rf /usr/local/lib/node /usr/local/lib/node_modules /var/db/receipts/org.nodejs.*
sudo rm -rf /usr/local/include/node /Users/$USER/.npm
sudo rm /usr/local/bin/node
sudo rm /usr/local/share/man/man1/node.1
sudo rm /usr/local/lib/dtrace/node.d
</code></pre></div><p>输入以下命令以确认卸载是否已完成。</p> <div class="language- extra-class"><pre class="language-text"><code>node
npm
</code></pre></div><h1 id="常见问题"><a href="#常见问题" class="header-anchor">#</a> 常见问题</h1> <h2 id="提示package-json不存在"><a href="#提示package-json不存在" class="header-anchor">#</a> 提示package.json不存在</h2> <p>package.json不存在时，可运行以下命令自动创建。</p> <div class="language- extra-class"><pre class="language-text"><code>npm init
</code></pre></div><p>package.json存在时，运行以下命令以将package.json的模块安装到node-modules文件夹下。</p> <div class="language- extra-class"><pre class="language-text"><code>npm install
// 或 npm install –save-dev
</code></pre></div><p>打开package.json，在最后大括号前添加以下语句，保存并退出。该语句可修复<code>warning no description / no repository field</code>的错误。</p> <div class="language- extra-class"><pre class="language-text"><code>&quot;private&quot;: true
</code></pre></div><h2 id="提示找不到-corefoundation-corefoundation-h-或其它库文件"><a href="#提示找不到-corefoundation-corefoundation-h-或其它库文件" class="header-anchor">#</a> 提示找不到&lt;CoreFoundation/CoreFoundation.h&gt;或其它库文件</h2> <p>对于Mac，在终端输入以下命令即可。</p> <div class="language- extra-class"><pre class="language-text"><code>csrutil disable
sudo mount -uw /
sudo ln -s &quot;$(xcrun --show-sdk-path)/usr/include&quot; /usr/include
export SDKROOT=&quot;$(xcrun --show-sdk-path)&quot;
echo &quot;export SDKROOT=\&quot;\$(xcrun --show-sdk-path)\&quot;&quot; &gt;&gt; ~/.bash_profile
sudo DevToolsSecurity -enable
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myblog/nav.30.Skill/Matlab的使用.html" class="prev">
        Matlab的使用
      </a></span> <span class="next"><a href="/myblog/nav.30.Skill/Sublime 3的使用.html">
        Sublime 3的使用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myblog/assets/js/app.a3c84fc1.js" defer></script><script src="/myblog/assets/js/2.fdea671f.js" defer></script><script src="/myblog/assets/js/27.df27e33f.js" defer></script>
  </body>
</html>
